"use strict";exports.id=634,exports.ids=[634],exports.modules={25634:(e,s,a)=>{a.d(s,{v:()=>x});var l=a(28625),i=a(64996),r=a(79155),o=a(15316),t=a(93901),n=a(36661),d=a(4854),c=a(88568),m=a(45170),u=a(78361),v=a(85764);let x=({services:e,tableProps:s,withActions:a=!1,refetch:x})=>{let{t:p}=(0,r.Bd)(),[h,b]=(0,i.useState)(null),[f,j]=(0,i.useState)([]),g=u.XU.useDelete({},{onSuccess:()=>x?.()}),N=u.XU.useDeleteMany({},{onSuccess:()=>x?.()}),y=e=>{j(Array.isArray(e)?e:[e])},C=[{label:p("common.fields.id"),align:"right",sortable:!0,sortFn:(e,s)=>e.id-s.id},{label:p("entities.service.serviceCode"),align:"left"},{label:p("common.fields.name"),align:"left",sortable:!0,sortFn:(e,s)=>e.name.localeCompare(s.name,"ro",{sensitivity:"base"})},{label:p("common.fields.description"),align:"left"},{label:p("entities.service.duration"),align:"center",sortable:!0,sortFn:(e,s)=>(e.duration||0)-(s.duration||0)},{label:p("common.fields.price"),align:"right",sortable:!0,sortFn:(e,s)=>e.price-s.price},{label:p("common.fields.observations"),align:"center"}],F=[{render:e=>(0,l.jsxs)("span",{className:"font-mono text-sm px-3 py-1 bg-gray-50 rounded",children:["#",e.id]})},{render:e=>(0,l.jsx)(d.n,{value:e.serviceCode,type:"copyable"})},{render:e=>(0,l.jsx)("span",{className:"font-medium truncate",children:e.name}),className:"bg-zinc-50"},{render:e=>(0,l.jsx)("div",{className:"px-4 py-2",children:(0,l.jsx)(n.A,{title:e.description??p("common.fields.empty"),arrow:!0,children:(0,l.jsx)("div",{className:"text-sm font-medium max-w-[200px] truncate",children:e.description??p("common.fields.empty")})})}),className:"bg-zinc-50"},{render:e=>e.duration?(0,l.jsxs)("span",{className:"inline-flex items-center gap-2 text-sm font-medium",children:[(0,l.jsx)(t.VP9,{size:16,className:"flex-shrink-0"}),(e=>{let s=Math.floor(e/60),a=e%60;return[s?`${s}h`:"",a?`${a}'`:""].filter(Boolean).join(" ")})(e.duration)]}):(0,l.jsx)("span",{className:"text-gray-400",children:p("common.fields.empty")})},{render:e=>(0,l.jsxs)("span",{className:"inline-flex items-center gap-1 font-medium whitespace-nowrap",children:[(0,l.jsx)(t.H4F,{size:16,className:"flex-shrink-0"}),(e.price??0).toFixed(2)]})},{render:e=>e.observations?(0,l.jsx)(n.A,{title:e.observations,arrow:!0,placement:"left",children:(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)(t.MJW,{size:20,className:"text-gray-500 hover:text-gray-800 cursor-help transition-colors duration-200"})})}):null}],A=a?[{icon:(0,l.jsx)(t.Yvo,{size:16}),onRowAction:e=>b(e)},{icon:(0,l.jsx)(t.b6i,{size:16}),onRowAction:e=>y(e),onBulkAction:e=>y(e)},{label:p("common.actions.view"),icon:(0,l.jsx)(t.U3x,{size:16}),onRowAction:e=>console.log("Navigate to service",e.id)}]:[],w=(0,l.jsx)(o.W,{data:e,actions:A,headerColumns:C,dataColumns:F,padding:{dataCell:{x:4,y:1.5}},ignoreColumns:s?.ignoreColumns,...s});return a?(0,l.jsxs)(l.Fragment,{children:[w,h&&(0,l.jsx)(m.y,{open:!0,service:h,onClose:()=>b(null),onSuccess:x}),(0,l.jsx)(c.C,{open:f.length>0,items:f,itemName:p("common.entities.service"),getIdentifier:e=>e?.id?`#${e.id}`:"",onConfirm:e=>{(0,v.Y)(e,g.mutate,N.mutate),j([])},onCancel:()=>j([])})]}):w}},45170:(e,s,a)=>{a.d(s,{y:()=>f});var l=a(28625),i=a(64996),r=a(79155),o=a(19347),t=a(17346),n=a(763),d=a(35969),c=a(43269),m=a(51287),u=a(34881),v=a(1095),x=a(54055),p=a(22349),h=a(78361);let b=(e,s,a)=>{let l=(0,p.A)({itemName:"Serviciu",initialValues:e,defaultValues:(0,x.getDefaultServiceForm)(),itemId:e?.id,onClose:s,onSuccess:a,createRecord:h.XU.create,updateRecord:h.XU.update,getCreateDto:x.convertServiceFormToDto,getUpdateDto:x.convertServiceFormToDto,validator:x.validateServiceForm});return{form:l,handlers:{updateField:(e,s)=>l.setValues(e,s)}}},f=({open:e,service:s,variant:a,onClose:x,onSuccess:p})=>{let{t:h}=(0,r.Bd)(),{form:f,handlers:j}=b(s,x,p),[g,N]=(0,i.useState)(!0),y=!!s,C=[{value:0,label:h("common.fields.custom")},{value:15,label:`15 ${h("common.fields.minutes")}`},{value:30,label:`30 ${h("common.fields.minutes")}`},{value:45,label:`45 ${h("common.fields.minutes")}`},{value:60,label:`1 ${h("common.fields.hour")}`},{value:90,label:`1 ${h("common.fields.hour")} 30 ${h("common.fields.minutes")}`},{value:120,label:`2 ${h("common.fields.hours")}`},{value:180,label:`3 ${h("common.fields.hours")}`},{value:240,label:`4 ${h("common.fields.hours")}`},{value:300,label:`5 ${h("common.fields.hours")}`},{value:360,label:`6 ${h("common.fields.hours")}`}],F=(0,l.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,l.jsxs)("div",{className:"p-5 space-y-6 text-graphite font-light",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"font-semibold mb-1 block",children:[h("entities.service.serviceCode")," ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(o.A,{fullWidth:!0,required:!0,value:f.values.serviceCode,onChange:e=>j.updateField("serviceCode",e.target.value),placeholder:h("common.placeholders.name"),error:!!f.validationErrors?.serviceCode,helperText:f.validationErrors?.serviceCode})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"font-semibold mb-1 block",children:[h("common.fields.name")," ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(o.A,{fullWidth:!0,required:!0,value:f.values.name,onChange:e=>j.updateField("name",e.target.value),placeholder:h("common.placeholders.name"),error:!!f.validationErrors?.name,helperText:f.validationErrors?.name})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:h("common.fields.description")}),(0,l.jsx)("textarea",{rows:3,value:f.values.description,onChange:e=>j.updateField("description",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:h("common.placeholders.description")}),f.validationErrors?.description&&(0,l.jsx)("p",{className:"text-red-600 text-sm mt-1",children:f.validationErrors.description})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:h("entities.service.duration")}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)(t.A,{fullWidth:!0,error:!!f.validationErrors?.duration,children:[(0,l.jsx)(n.A,{value:g?0:f.values.duration,onChange:e=>{let s=Number(e.target.value);N(0===s),j.updateField("duration",s)},displayEmpty:!0,MenuProps:{disablePortal:!0},children:C.map(e=>(0,l.jsx)(d.A,{value:e.value,children:(0,l.jsxs)("span",{className:"flex items-center gap-2",children:[(0,l.jsx)(c.w_X,{size:14,className:"text-gray-500"}),e.label]})},e.value))}),f.validationErrors?.duration&&(0,l.jsx)("p",{className:"text-red-600 text-sm mt-1",children:f.validationErrors.duration})]}),g&&(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(v.A,{defaultMinutes:f.values.duration,onChange:e=>j.updateField("duration",e)})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"font-semibold mb-1 block",children:[h("common.fields.price")," ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(u.HG,{customInput:o.A,fullWidth:!0,thousandSeparator:!0,decimalScale:2,allowNegative:!1,required:!0,value:f.values.price,onValueChange:e=>j.updateField("price",e.floatValue??0),placeholder:"0.00",inputProps:{step:"0.01",min:"0"},error:!!f.validationErrors?.price,helperText:f.validationErrors?.price})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:h("common.fields.observations")}),(0,l.jsx)("textarea",{rows:3,value:f.values.observations,onChange:e=>j.updateField("observations",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:h("common.placeholders.description")}),f.validationErrors?.observations&&(0,l.jsx)("p",{className:"text-red-600 text-sm mt-1",children:f.validationErrors.observations})]})]})}),A=c.xdT,w=y?c.uO9:c.OiG;return(0,l.jsx)(m.I,{open:e,canSubmit:f.canSubmit,variant:a,title:h(y?"entities.service.edit":"entities.service.create"),titleIcon:(0,l.jsx)(A,{size:22}),primaryActionLabel:h(y?"common.actions.save":"entities.service.create"),primaryActionIcon:(0,l.jsx)(w,{}),onSubmit:f.submit,onClose:x,onReset:f.reset,hasUnsavedChanges:f.isDirty,children:F})}}};