"use strict";exports.id=878,exports.ids=[878],exports.modules={4854:(e,t,s)=>{s.d(t,{n:()=>n});var a=s(28625),r=s(64996),l=s(36661),i=s(93901);let n=({value:e,type:t="text",tooltip:s,format:n})=>{let[o,d]=(0,r.useState)(!1);switch(t){case"copyable":return e?(0,a.jsxs)("div",{className:"relative group flex items-center",children:[(0,a.jsx)("span",{className:"text-sm font-mono",children:e}),(0,a.jsx)("span",{onClick:()=>{e&&(navigator.clipboard.writeText(String(e)),d(!0),setTimeout(()=>d(!1),1500))},className:"absolute -right-2 cursor-pointer text-gray-400 opacity-0 group-hover:opacity-100 transition",title:"Copiază",children:o?(0,a.jsx)(i.g9_,{size:14,className:"text-blue-600"}):(0,a.jsx)(i.kn0,{size:14})})]}):(0,a.jsx)("span",{className:"text-gray-400",children:"—"});case"tooltip":return(0,a.jsx)(l.A,{title:s??String(e??"—"),arrow:!0,children:(0,a.jsx)("div",{className:"truncate",children:n?n(e):e??"—"})});case"currency":return(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 font-medium whitespace-nowrap",children:[(0,a.jsx)(i.H4F,{size:16,className:"flex-shrink-0"}),(Number(e)||0).toFixed(2)]});default:return(0,a.jsx)("span",{children:n?n(e):e??"—"})}}},52387:(e,t,s)=>{s.d(t,{i:()=>b});var a=s(28625);s(64996);var r=s(79155),l=s(19347),i=s(17346),n=s(763),o=s(35969),d=s(68380),c=s(51287),u=s(54055),m=s(22349),p=s(78361);let x=(e,t,s)=>{let a=(0,m.A)({itemName:"Produs",initialValues:e,defaultValues:(0,u.getDefaultProductForm)(),itemId:e?.id,onClose:t,onSuccess:s,createRecord:p.ZN.create,updateRecord:p.ZN.update,getCreateDto:u.convertProductFormToDto,getUpdateDto:u.convertProductFormToDto,validator:u.validateProductForm});return{form:a,handlers:{updateField:(e,t)=>a.setValues(e,t)}}};var h=s(34881);let b=({open:e=!0,product:t,onClose:s,onSuccess:u,variant:m})=>{let{t:p}=(0,r.Bd)(),{form:b,handlers:g}=x(t,s,u),v=!!t,j=(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-5 space-y-6 text-graphite font-light",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-semibold mb-1 block",children:p("entities.product.productCode")}),(0,a.jsx)(l.A,{fullWidth:!0,value:b.values.productCode,onChange:e=>g.updateField("productCode",e.target.value),placeholder:p("common.placeholders.name"),error:!!b.validationErrors?.productCode,helperText:b.validationErrors?.productCode})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"font-semibold mb-1 block",children:[p("common.fields.name")," ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)(l.A,{fullWidth:!0,required:!0,value:b.values.name,onChange:e=>g.updateField("name",e.target.value),placeholder:p("common.placeholders.name"),error:!!b.validationErrors?.name,helperText:b.validationErrors?.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-semibold mb-1 block",children:p("common.fields.description")}),(0,a.jsx)("textarea",{rows:3,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:p("common.placeholders.description"),value:b.values.description,onChange:e=>g.updateField("description",e.target.value)}),b.validationErrors?.description&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.validationErrors.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"font-semibold mb-1 block",children:[p("entities.product.category")," ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)(l.A,{fullWidth:!0,required:!0,value:b.values.category,onChange:e=>g.updateField("category",e.target.value),placeholder:p("common.placeholders.name"),error:!!b.validationErrors?.category,helperText:b.validationErrors?.category})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-semibold mb-1 block",children:p("common.fields.unitPrice")}),(0,a.jsx)(h.HG,{customInput:l.A,fullWidth:!0,thousandSeparator:!0,decimalScale:2,allowNegative:!1,value:b.values.unitPrice,onValueChange:e=>g.updateField("unitPrice",e.floatValue??0),placeholder:"0.00",inputProps:{step:"0.01",min:"0"},error:!!b.validationErrors?.unitPrice,helperText:b.validationErrors?.unitPrice})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-semibold mb-1 block",children:p("common.fields.status")}),(0,a.jsxs)(i.A,{fullWidth:!0,error:!!b.validationErrors?.status,children:[(0,a.jsxs)(n.A,{value:b.values.status,onChange:e=>g.updateField("status",e.target.value),MenuProps:{disablePortal:!0},children:[(0,a.jsx)(o.A,{value:"AVAILABLE",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),p("entities.product.status.available")]})}),(0,a.jsx)(o.A,{value:"UNAVAILABLE",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-slate-400"}),p("entities.product.status.unavailable")]})}),(0,a.jsx)(o.A,{value:"DEPLETED",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-rose-500"}),p("entities.product.status.depleted")]})}),(0,a.jsx)(o.A,{value:"ON_ORDER",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-amber-400"}),p("entities.product.status.on_order")]})}),(0,a.jsx)(o.A,{value:"DEFECTIVE",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-600"}),p("entities.product.status.defective")]})})]}),b.validationErrors?.status&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.validationErrors.status})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-semibold mb-1 block",children:p("common.fields.quantity")}),(0,a.jsx)(l.A,{fullWidth:!0,type:"number",value:b.values.quantity,onChange:e=>g.updateField("quantity",Number(e.target.value)),placeholder:"0",inputProps:{min:"0"},error:!!b.validationErrors?.quantity,helperText:b.validationErrors?.quantity})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-semibold mb-1 block",children:p("entities.product.weight")}),(0,a.jsx)(h.HG,{customInput:l.A,fullWidth:!0,thousandSeparator:!0,decimalScale:2,allowNegative:!1,value:b.values.weight,onValueChange:e=>g.updateField("weight",e.floatValue??0),placeholder:"0.00",inputProps:{step:"0.01",min:"0"},error:!!b.validationErrors?.weight,helperText:b.validationErrors?.weight})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-semibold mb-1 block",children:p("entities.product.supplier")}),(0,a.jsx)(l.A,{fullWidth:!0,value:b.values.supplier,onChange:e=>g.updateField("supplier",e.target.value),placeholder:p("common.placeholders.name"),error:!!b.validationErrors?.supplier,helperText:b.validationErrors?.supplier})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-semibold mb-1 block",children:p("entities.product.serialNumber")}),(0,a.jsx)(l.A,{fullWidth:!0,value:b.values.serialNumber,onChange:e=>g.updateField("serialNumber",e.target.value),placeholder:p("common.placeholders.name"),error:!!b.validationErrors?.serialNumber,helperText:b.validationErrors?.serialNumber})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-semibold mb-1 block",children:p("common.fields.observations")}),(0,a.jsx)("textarea",{rows:3,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:p("common.placeholders.description"),value:b.values.observations,onChange:e=>g.updateField("observations",e.target.value)}),b.validationErrors?.observations&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.validationErrors.observations})]})]})});return(0,a.jsx)(c.I,{open:e,canSubmit:b.canSubmit,variant:m,title:p(v?"entities.product.edit":"entities.product.create"),titleIcon:(0,a.jsx)(d.A,{}),primaryActionLabel:p(v?"common.actions.save":"entities.product.create"),onSubmit:b.submit,onClose:s,onReset:b.reset,hasUnsavedChanges:b.isDirty,children:j})}},58878:(e,t,s)=>{s.d(t,{Z:()=>b});var a=s(28625),r=s(64996),l=s(79155),i=s(15316),n=s(93901),o=s(19554),d=s(36661),c=s(4854),u=s(88568),m=s(52387),p=s(78361),x=s(85764);let h={AVAILABLE:1,ON_ORDER:2,DEPLETED:3,UNAVAILABLE:4,DEFECTIVE:5},b=({products:e,tableProps:t,withActions:s=!1,refetch:b})=>{let{t:g}=(0,l.Bd)(),[v,j]=(0,r.useState)(null),[f,N]=(0,r.useState)([]),y=p.ZN.useDelete({},{onSuccess:()=>b?.()}),E=p.ZN.useDeleteMany({},{onSuccess:()=>b?.()}),w=e=>{N(Array.isArray(e)?e:[e])},A=e=>{let t=String(e);return g(`entities.product.status.${t.toLowerCase()}`)},C=[{label:g("common.fields.id"),align:"right",sortable:!0,sortFn:(e,t)=>e.id-t.id},{label:g("entities.product.productCode"),align:"left"},{label:g("common.fields.name"),align:"left",sortable:!0,sortFn:(e,t)=>e.name.localeCompare(t.name,"ro",{sensitivity:"base"})},{label:g("common.fields.description"),align:"left"},{label:g("entities.product.category"),align:"left",sortable:!0,sortFn:(e,t)=>(e.category??"").localeCompare(t.category??"","ro",{sensitivity:"base"})},{label:g("common.fields.unitPrice"),align:"right",sortable:!0,sortFn:(e,t)=>(e.unitPrice??0)-(t.unitPrice??0)},{label:g("common.fields.status"),align:"center",sortable:!0,sortFn:(e,t)=>(h[e.status]??99)-(h[t.status]??99)},{label:g("common.fields.quantity"),align:"right",sortable:!0,sortFn:(e,t)=>(e.quantity??0)-(t.quantity??0)},{label:g("entities.product.weight"),align:"right",sortable:!0,sortFn:(e,t)=>(e.weight??0)-(t.weight??0)},{label:g("entities.product.supplier"),align:"left",sortable:!0,sortFn:(e,t)=>(e.supplier??"").localeCompare(t.supplier??"","ro",{sensitivity:"base"})},{label:g("entities.product.serialNumber"),align:"left"},{label:g("common.fields.observations"),align:"center"}],F=[{render:e=>(0,a.jsxs)("span",{className:"font-mono text-sm px-3 py-1 bg-gray-50 rounded",children:["#",e.id]})},{render:e=>(0,a.jsx)(c.n,{value:e.productCode,type:"copyable"})},{render:e=>(0,a.jsx)("span",{className:"font-medium truncate",children:e.name}),className:"bg-zinc-50"},{render:e=>(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsx)(d.A,{title:e.description??g("common.fields.empty"),arrow:!0,children:(0,a.jsx)("div",{className:"text-sm font-medium max-w-[200px] truncate",children:e.description??g("common.fields.empty")})})}),className:"bg-zinc-50"},{render:e=>e.category?(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 text-sm font-medium text-blue-800 bg-blue-100 rounded-md",children:[(0,a.jsx)(n.M1j,{size:14})," ",(0,o.wR)(e.category)]}):(0,a.jsx)("span",{className:"text-gray-400",children:g("common.fields.empty")})},{render:e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 font-medium whitespace-nowrap",children:[(0,a.jsx)(n.H4F,{size:16,className:"flex-shrink-0"}),(e.unitPrice??0).toFixed(2)]})},{render:e=>{let t="",s="";switch(e.status){case"AVAILABLE":t="bg-green-100",s="text-green-800";break;case"UNAVAILABLE":default:t="bg-gray-100",s="text-gray-800";break;case"DEPLETED":t="bg-red-100",s="text-red-800";break;case"ON_ORDER":t="bg-yellow-100",s="text-yellow-800";break;case"DEFECTIVE":t="bg-red-200",s="text-red-900"}return(0,a.jsx)("span",{className:`inline-flex items-center justify-center px-2 py-1 text-xs font-semibold rounded-md ${t} ${s}`,children:A(e.status)})}},{render:e=>{if(null==e.quantity)return(0,a.jsx)("span",{className:"text-gray-400",children:g("common.fields.empty")});let t="bg-gray-100",s="text-gray-800";return e.quantity<=1?(t="bg-red-100",s="text-red-800"):e.quantity>1&&e.quantity<=5&&(t="bg-yellow-100",s="text-yellow-800"),(0,a.jsx)("span",{className:`inline-flex items-center justify-center px-2 py-1 text-sm font-medium rounded-md min-w-[36px] ${t} ${s}`,children:e.quantity})}},{render:e=>null!=e.weight?(0,a.jsxs)("span",{className:"text-sm font-medium whitespace-nowrap",children:[e.weight," kg"]}):(0,a.jsx)("span",{className:"text-gray-400",children:g("common.fields.empty")})},{render:e=>e.supplier?(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 text-sm font-medium text-indigo-800 bg-indigo-100 rounded-md",children:[(0,a.jsx)(n.soI,{size:16,className:"flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.supplier})]}):(0,a.jsx)("span",{className:"text-gray-400",children:g("common.fields.empty")})},{render:e=>(0,a.jsx)(c.n,{value:e.serialNumber,type:"copyable"})},{render:e=>e.observations?(0,a.jsx)(d.A,{title:e.observations,arrow:!0,placement:"left",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(n.MJW,{size:20,className:"text-gray-500 hover:text-gray-800 cursor-help transition-colors duration-200"})})}):null}],k=s?[{icon:(0,a.jsx)(n.Yvo,{size:16}),onRowAction:e=>j(e)},{icon:(0,a.jsx)(n.b6i,{size:16}),onRowAction:e=>w(e),onBulkAction:e=>w(e)},{label:g("common.actions.view"),icon:(0,a.jsx)(n.U3x,{size:16}),onRowAction:e=>console.log("Navigate to product",e.id)}]:[],P=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.W,{data:e,actions:k,headerColumns:C,dataColumns:F,padding:{dataCell:{x:4,y:1.5}},...t})});return s?(0,a.jsxs)(a.Fragment,{children:[P,v&&(0,a.jsx)(m.i,{open:!0,product:v,onClose:()=>j(null),onSuccess:b}),(0,a.jsx)(u.C,{open:f.length>0,items:f,itemName:g("common.entities.product"),getIdentifier:e=>e?.id?`#${e.id}`:"",onConfirm:e=>{(0,x.Y)(e,y.mutate,E.mutate),N([])},onCancel:()=>N([])})]}):P}}};