exports.id=90,exports.ids=[90],exports.modules={23:(e,t,i)=>{"use strict";i.d(t,{r:()=>s});var n=i(28625),r=i(40334),a=i(69958);function s({label:e,icon:t=(0,n.jsx)(r.t50,{size:16}),color:i="green",className:s,...l}){let o="white"===i?"bg-white border-gray-300 hover:bg-gray-100 text-black/80":`bg-${i}-600 hover:bg-${i}-700 border-${i}-700 text-white`;return(0,n.jsxs)("button",{...l,className:(0,a.A)("flex items-center gap-2 px-3 py-1.5 rounded-md shadow-sm border text-sm font-normal transition-colors whitespace-nowrap",o,s),children:[t,(0,n.jsx)("span",{children:e})]})}},2107:(e,t,i)=>{"use strict";i.d(t,{TO:()=>a,V3:()=>s,hf:()=>n,xV:()=>r});let n=()=>({fullName:"",phone:"",email:"",address:""}),r=()=>({...n(),personId:0}),a=e=>({fullName:e.fullName.trim(),phone:e.phone.trim()||null,email:e.email.trim()||null,address:e.address.trim()||null}),s=e=>({...a(e),personId:e.personId||null})},3109:(e,t,i)=>{"use strict";i.d(t,{HK:()=>l,PT:()=>a,fH:()=>s});var n=i(8566),r=i.n(n);let a={required:e=>!r().isEmpty(e?.trim()||""),minLength:(e,t)=>r().isLength(e?.trim()||"",{min:t}),maxLength:(e,t)=>r().isLength(e?.trim()||"",{max:t}),exactLength:(e,t)=>r().isLength(e?.trim()||"",{min:t,max:t}),email:e=>r().isEmail(e?.trim()||""),phone:e=>r().isMobilePhone(e?.trim()||"","any"),url:e=>r().isURL(e?.trim()||""),taxId:e=>/^[A-Z0-9]{8,15}$/i.test(e?.trim()||""),date:e=>!e||!isNaN(new Date(e).getTime()),decimal:e=>null!=e&&r().isDecimal(String(e).trim())},s=e=>t=>{for(let i of e)if(!i.check(t))return"string"==typeof i.message?i.message:i.message(t);return null},l=e=>{let t=e=>null===e||(Array.isArray(e)?e.every(t):"object"==typeof e&&null!==e&&Object.values(e).every(t));return Object.values(e).every(t)}},5084:(e,t,i)=>{"use strict";i.d(t,{p:()=>a});var n=i(28625),r=i(79155);let a=({message:e,className:t})=>{let{t:i}=(0,r.Bd)();return(0,n.jsx)("div",{className:`bg-gray-50 text-center text-gray-500 py-8 rounded-b-lg border border-gray-300 ${t??""}`,children:e??i("emptyState.noData")})}},6730:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});let n=(0,i(62551).Ak)("tickets"),r={...n,getCountByStatus:()=>n.getAll({subPath:"count/by-status"}),getByClient:(e,t={})=>n.getAll({subPath:`client/${e}`,query:t}),getByStatus:(e,t={})=>n.getAll({subPath:`status/${e}`,query:t}),updateStatus:(e,t,i={})=>n.update(e,t,{subPath:"status",query:i}),assignEmployees:(e,t,i={})=>n.update(e,t,{subPath:"assign",query:i}),useUpdateStatus:(e={},t)=>n.useUpdate({...e,subPath:"status"},t)}},6871:(e,t,i)=>{"use strict";i.d(t,{X:()=>n});let n={...(0,i(62551).Ak)("services"),deleteMany:()=>{throw Error("Bulk service deletion is disabled for safety. Use individual deletion instead.")}}},7973:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});let n=(0,i(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/madeandenis/web-projects/crs/dashboard/src/app/(routes)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/madeandenis/web-projects/crs/dashboard/src/app/(routes)/layout.tsx","default")},11028:(e,t,i)=>{"use strict";i.d(t,{L:()=>r});var n=i(3109);let r=e=>{let t={};return t.name=(0,n.fH)([{check:e=>n.PT.required(e),message:"Department name is required"},{check:e=>n.PT.minLength(e,2),message:"Department name must be at least 2 characters"},{check:e=>n.PT.maxLength(e,50),message:"Department name must be less than 50 characters"}])(e.name),t.description=(0,n.fH)([{check:e=>!e||n.PT.minLength(e,5),message:"Description must be at least 5 characters"},{check:e=>!e||n.PT.maxLength(e,500),message:"Description must be less than 500 characters"}])(e.description),t.employees=null,t}},13149:(e,t,i)=>{"use strict";i.d(t,{l:()=>r,r:()=>n});let n=()=>({serviceCode:"",name:"",description:"",price:0,duration:0,observations:""}),r=e=>({serviceCode:e.serviceCode.trim()||null,name:e.name.trim(),description:e.description.trim()||null,price:e.price,duration:e.duration||null,observations:e.observations.trim()||null})},13651:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var n=i(3109);let r=e=>{let t={};return t.name=(0,n.fH)([{check:e=>n.PT.required(e),message:"Role name is required"},{check:e=>n.PT.minLength(e,2),message:"Role name must be at least 2 characters"},{check:e=>n.PT.maxLength(e,50),message:"Role name must be less than 50 characters"}])(e.name),t.description=(0,n.fH)([{check:e=>!e||n.PT.minLength(e,5),message:"Description must be at least 5 characters"},{check:e=>!e||n.PT.maxLength(e,500),message:"Description must be less than 500 characters"}])(e.description),t.employees=null,t}},14527:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var n=i(3109);let r=e=>{let t={};return t.name=(0,n.fH)([{check:e=>n.PT.required(e),message:"Product name is required"},{check:e=>n.PT.minLength(e,2),message:"Product name must be at least 2 characters"},{check:e=>n.PT.maxLength(e,100),message:"Product name must be less than 100 characters"}])(e.name),t.productCode=(0,n.fH)([{check:e=>!e||n.PT.required(e),message:"Product code is required"},{check:e=>!e||n.PT.minLength(e,2),message:"Product code must be at least 2 characters"},{check:e=>!e||n.PT.maxLength(e,50),message:"Product code must be less than 50 characters"}])(e.productCode),t.description=(0,n.fH)([{check:e=>!e||n.PT.minLength(e,5),message:"Description must be at least 5 characters"},{check:e=>!e||n.PT.maxLength(e,500),message:"Description must be less than 500 characters"}])(e.description),t.category=(0,n.fH)([{check:e=>n.PT.required(e),message:"Category is required"},{check:e=>n.PT.minLength(e,2),message:"Category must be at least 2 characters"},{check:e=>n.PT.maxLength(e,50),message:"Category must be less than 50 characters"}])(e.category),t.quantity=(0,n.fH)([{check:e=>e>=0,message:"Quantity cannot be negative"}])(e.quantity),t.unitPrice=(0,n.fH)([{check:e=>e>=0,message:"Unit price cannot be negative"},{check:e=>n.PT.decimal(e),message:"Please enter a valid price"}])(e.unitPrice),t.entryDate=(0,n.fH)([{check:e=>n.PT.required(e),message:"Entry date is required"},{check:e=>n.PT.date(e),message:"Please enter a valid date"}])(e.entryDate),t.supplier=(0,n.fH)([{check:e=>!e||n.PT.minLength(e,2),message:"Supplier name must be at least 2 characters"},{check:e=>!e||n.PT.maxLength(e,100),message:"Supplier name must be less than 100 characters"}])(e.supplier),t.weight=(0,n.fH)([{check:e=>e>=0,message:"Weight cannot be negative"},{check:e=>n.PT.decimal(e),message:"Please enter a valid weight"}])(e.weight),t.observations=(0,n.fH)([{check:e=>!e||n.PT.maxLength(e,1e3),message:"Observations must be less than 1000 characters"}])(e.observations),t.serialNumber=(0,n.fH)([{check:e=>!e||n.PT.minLength(e,2),message:"Serial number must be at least 2 characters"},{check:e=>!e||n.PT.maxLength(e,50),message:"Serial number must be less than 50 characters"}])(e.serialNumber),t.status=null,t}},15316:(e,t,i)=>{"use strict";i.d(t,{W:()=>O});var n=i(28625),r=i(64996),a=i.n(r),s=i(35885);let l=({label:e,checked:t,onChange:i,disabled:r=!1,color:a="blue",size:s="md"})=>(0,n.jsxs)("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[(0,n.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,n.jsx)("input",{type:"checkbox",checked:t,onChange:e=>i(e.target.checked),disabled:r,className:"sr-only"}),(0,n.jsx)("div",{className:`
            ${{sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[s]} 
            ${r?"border-gray-300 bg-gray-100":t?`border-${a}-600/50 bg-${a}-500 hover:bg-${a}-600`:`border-gray-300 bg-white hover:border-${a}-400`}
            ${r?"cursor-not-allowed":"cursor-pointer"}
            border-2 rounded-sm flex items-center justify-center
            transition-all duration-150 ease-in-out
          `,children:t&&(0,n.jsx)("svg",{className:`${{sm:"w-3 h-3",md:"w-3.5 h-3.5",lg:"w-4 h-4"}[s]} text-white`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]}),e&&(0,n.jsx)("span",{className:`${r?"text-gray-400":"text-gray-700"} select-none`,children:e})]});function o({actions:e,row:t,className:i,maxVisible:a=2}){let[l,o]=(0,r.useState)(!1),u=e.length>a?e.slice(0,a):e,d=e.length>a?e.slice(a):[],c=e=>e.stopPropagation();return(0,n.jsx)("td",{className:i,onClick:c,onDoubleClick:c,children:(0,n.jsxs)("div",{className:"flex gap-2 relative",children:[u.map((e,i)=>{let r=e.onRowAction;return r?(0,n.jsxs)("button",{onClick:e=>{e.stopPropagation(),r(t)},className:"flex items-center px-2 py-1 bg-white rounded border border-gray-300 hover:bg-gray-200 focus:outline-none text-graphite/90 hover:text-black",title:e.label,children:[e.icon,e.label&&(0,n.jsx)("span",{className:"font-normal text-xs ml-2",children:e.label})]},i):null}),d.length>0&&(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),o(!l)},className:"flex items-center justify-center w-8 h-8 p-1 bg-white rounded border border-gray-300 hover:bg-gray-200 focus:outline-none text-graphite/90 hover:text-black",title:"More actions",children:(0,n.jsx)(s.ZZB,{size:16})}),l&&(0,n.jsx)("div",{className:"absolute right-0 mt-1 w-max bg-white border border-gray-300 rounded-md shadow-lg z-10",children:d.map((e,i)=>{let r=e.onRowAction;return r?(0,n.jsxs)("button",{onClick:e=>{e.stopPropagation(),r(t),o(!1)},className:"flex items-center gap-2 px-3 py-2 w-full text-left rounded-md hover:bg-gray-100 focus:outline-none",children:[e.icon,(0,n.jsx)("span",{className:"font-normal text-xs",children:e.label})]},i):null})})]})]})})}var u=i(25226),d=i(763),c=i(35969),m=i(93901),f=i(5084),p=i(79155),h=i(19347);function g({currentPage:e,totalPages:t,pageSize:i,pageSizeOptions:l,startRecord:o,endRecord:u,totalRecords:m,onPageChange:f,onPageSizeChange:g,getPageNumbers:y}){let{t:v}=(0,p.Bd)(),[b,w]=(0,r.useState)(e.toString()),x=i=>{i.preventDefault();let n=parseInt(b);!isNaN(n)&&n>=1&&n<=t?f(n):w(e.toString())};return(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 md:gap-0 items-center justify-between px-4 py-3 border-t border-gray-300 bg-white",children:[(0,n.jsx)("div",{className:"text-xs text-gray-600",children:(0,n.jsx)(p.x6,{i18nKey:"pagination.display",values:{start:o,end:u,total:m},components:{1:(0,n.jsx)("span",{className:"font-medium"})}})}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{onClick:()=>f(1),disabled:1===e,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",title:v("pagination.firstPage"),children:(0,n.jsx)(s.pM3,{size:18})}),(0,n.jsx)("button",{onClick:()=>f(e-1),disabled:1===e,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",title:v("pagination.previousPage"),children:(0,n.jsx)(s.irw,{size:18})}),(0,n.jsx)("div",{className:"flex items-center gap-1",children:y().map((t,i)=>(0,n.jsx)(a().Fragment,{children:"..."===t?(0,n.jsx)("span",{className:"px-3 py-1 text-gray-400",children:"..."}):(0,n.jsx)("button",{onClick:()=>f(t),className:`px-3 py-1 rounded-lg transition-colors ${e===t?"bg-zinc-500 text-white font-medium":"hover:bg-gray-100 text-gray-700"}`,children:t})},i))}),(0,n.jsx)("button",{onClick:()=>f(e+1),disabled:e===t,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",title:v("pagination.nextPage"),children:(0,n.jsx)(s.fOo,{size:18})}),(0,n.jsx)("button",{onClick:()=>f(t),disabled:e===t,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",title:v("pagination.lastPage"),children:(0,n.jsx)(s.wi,{size:18})})]}),(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row gap-2",children:[(0,n.jsxs)("div",{className:"flex gap-2 items-center justify-between",children:[(0,n.jsxs)("label",{htmlFor:"pageSize",className:"text-xs text-gray-600",children:[v("pagination.itemsPerPage"),":"]}),(0,n.jsx)(d.A,{labelId:"page-size-label",id:"pageSize",value:i,label:v("pagination.itemsPerPage"),onChange:e=>g(Number(e.target.value)),size:"small",sx:{fontSize:"0.8rem","& .MuiSelect-select":{fontSize:"0.8rem"}},children:l.map(e=>(0,n.jsx)(c.A,{value:e,children:e},e))})]}),(0,n.jsxs)("div",{className:"flex gap-2 items-center justify-between",children:[(0,n.jsx)("span",{className:"text-xs text-gray-600 whitespace-nowrap",children:v("pagination.goToPage")||"Go to:"}),(0,n.jsx)(h.A,{value:b,onChange:e=>{w(e.target.value)},onBlur:()=>{let i=parseInt(b);!isNaN(i)&&i>=1&&i<=t?f(i):w(e.toString())},onKeyPress:e=>{"Enter"===e.key&&x(e)},size:"small",sx:{width:60,"& .MuiInputBase-root":{height:"32px",fontSize:"0.8rem"},"& .MuiInputBase-input":{padding:"6px 8px",textAlign:"center"}},inputProps:{min:1,max:t,type:"number",style:{textAlign:"center"}}})]})]})]})}var y=i(79285),v=i(80015),b=i(31861),w=i(14902);let x=function({search:e,placeholder:t,fullWidth:i=!0,onSearchTrigger:r,showLoadingIndicator:a=!0,className:s=""}){let{t:l}=(0,p.Bd)(),o=()=>{e.searchNow(e.query),r?.()};return(0,n.jsx)("div",{className:`search-controls ${s}`,children:(0,n.jsx)(h.A,{fullWidth:i,placeholder:t||l("common.actions.search"),value:e.query,onChange:t=>e.setQuery(t.target.value),onKeyPress:e=>{"Enter"===e.key&&o()},InputProps:{startAdornment:(0,n.jsx)(y.A,{position:"start",children:(0,n.jsx)(v.A,{"aria-label":l("common.actions.search"),onClick:o,edge:"start",size:"small",disabled:e.loading,children:(0,n.jsx)(w.A,{})})}),endAdornment:a&&e.loading?(0,n.jsx)(y.A,{position:"end",children:(0,n.jsx)(b.A,{size:20})}):null},sx:{"& .MuiInputBase-root":{border:"none",backgroundColor:"white",borderRadius:1},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid #e0e0e0"},"& .MuiInputBase-root:hover .MuiOutlinedInput-notchedOutline":{border:"1px solid #bdbdbd"},"& .MuiInputBase-root.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"2px solid #1976d2"}}})})},T=e=>{switch(e){case"left":return"text-left";case"right":return"text-right";default:return"text-center"}},E=e=>{if(!e)return"";let t=[];return void 0!==e.all&&t.push(`p-${e.all}`),void 0!==e.x&&t.push(`px-${e.x}`),void 0!==e.y&&t.push(`py-${e.y}`),void 0!==e.top&&t.push(`pt-${e.top}`),void 0!==e.right&&t.push(`pr-${e.right}`),void 0!==e.bottom&&t.push(`pb-${e.bottom}`),void 0!==e.left&&t.push(`pl-${e.left}`),t.join(" ")};var k=i(81389);let P=(e,t)=>t.split(".").reduce((e,t)=>e&&void 0!==e[t]?e[t]:null,e),A=(e,t)=>null!=e&&("object"==typeof e?Object.values(e).some(e=>e&&"object"==typeof e&&!Array.isArray(e)?A(e,t):String(e).toLowerCase().includes(t)):String(e).toLowerCase().includes(t)),I=(e,t,i)=>{let n=P(e,t);return null!=n&&String(n).toLowerCase().includes(i)},R=e=>e[0]?Object.keys(e[0]):[],N=(e,t)=>{let[i,n]=(0,r.useState)("all"),[a,s]=(0,r.useState)(),l=(0,r.useCallback)(async t=>{if(!t.trim())return e;let n=t.toLowerCase().trim();return e.filter(e=>"all"===i?A(e,n):I(e,i,n))},[e,i]),o=(0,k.A)(l,t?.debounceMs||300);return(0,r.useEffect)(()=>{s(void 0),o.query&&o.searchNow(o.query)},[e]),(0,r.useEffect)(()=>{o.searchNow(o.query)},[i]),(0,r.useEffect)(()=>{void 0!==o.results&&s(o.results)},[o.results]),(0,r.useEffect)(()=>{o.query||void 0!==o.results||s(void 0)},[o.query,o.results]),{displayData:void 0!==a?a:e,searchResults:a,selectedSearchColumn:i,setSelectedSearchColumn:n,tableSearch:o,isSearching:void 0!==o.results,searchFields:t?.searchFields??R(e)}},D=(e,t=[])=>{let[i,n]=(0,r.useState)([]),[a,s]=(0,r.useState)(e);return(0,r.useEffect)(()=>{if(!t)return;let n=i.filter(e=>e.direction&&t[e.columnIndex]?.sortFn).map(e=>({sortFn:t[e.columnIndex].sortFn,direction:e.direction}));if(0===n.length){s([...e]);return}let r=[...e];for(let{sortFn:e,direction:t}of n)e&&t&&(r=r.sort((i,n)=>{let r=e(i,n);return"asc"===t?r:-r}));s(r)},[e,i,t]),{sortedData:a,sortStack:i,getSortDirection:e=>{let t=i.find(t=>t.columnIndex===e);return t?.direction??null},toggleSortDirection:e=>{n(t=>{let i=t.findIndex(t=>t.columnIndex===e),n=[...t];if(-1!==i){let t,r=n[i].direction;null===(t="asc"===r?"desc":"desc"===r?null:"asc")?n.splice(i,1):(n.splice(i,1),n.push({columnIndex:e,direction:t}))}else n.push({columnIndex:e,direction:"asc"});return n})}}},S=(e=[])=>{let[t,i]=(0,r.useState)(new Set),n=(0,r.useCallback)(e=>{i(t=>{let i=new Set(t);return i.has(e)?i.delete(e):i.add(e),i})},[]),a=(0,r.useCallback)(()=>{t.size===e.length?i(new Set):i(new Set(e.map(e=>e.id)))},[e,t.size]),s=(0,r.useCallback)(()=>{i(new Set)},[]),l=e.filter(e=>t.has(e.id));return{checkedRows:t,selectedItems:l,toggleCheckbox:n,toggleAll:a,clearSelection:s,selectionCount:t.size,isAllSelected:t.size===e.length&&e.length>0,hasSelection:t.size>0}},q=(e=[])=>{let t=(0,r.useMemo)(()=>e.filter(e=>!!e.onRowAction),[e]),i=(0,r.useMemo)(()=>e.filter(e=>!!e.onBulkAction),[e]),n=e.length>0,a=i.length>0,s=t.length>0;return{rowActions:t,bulkActions:i,hasRowActions:n,hasBulkActions:a,hasRowLevelActions:s,getActionsForSelection:e=>1===e?t:i}};function O({data:e=[],actions:t=[],headerColumns:i=[],dataColumns:h=[],classNames:y={},padding:v={},pagination:b={enabled:!0},search:w={enabled:!0},ignoreColumns:k,emptyMessage:P,onRowClick:A,onRowDoubleClick:I,children:R}){let{t:O}=(0,p.Bd)(),C=N(e,w),_=D(C.displayData,i),F=S(e),$=q(t),j=function({data:e,initialPageSize:t=10,pageSizeOptions:i=[5,10,15,20,25,30,35,40,45,50],enabled:n=!0}){let[a,s]=(0,r.useState)(1),[l,o]=(0,r.useState)(t),u=(0,r.useMemo)(()=>n?Math.ceil(e.length/l):1,[e.length,l,n]),d=(0,r.useMemo)(()=>{if(!n)return e;let t=(a-1)*l,i=t+l;return e.slice(t,i)},[e,a,l,n]),c=n?(a-1)*l+1:1,m=n?Math.min(a*l,e.length):e.length;return{currentPage:a,pageSize:l,totalPages:u,paginatedData:d,goToPage:e=>{n&&s(Math.max(1,Math.min(e,u)))},handlePageSizeChange:e=>{n&&(o(e),s(1))},getPageNumbers:()=>{if(!n)return[1];let e=[];if(u<=7)for(let t=1;t<=u;t++)e.push(t);else{e.push(1),a>3&&e.push("...");let t=Math.max(2,a-1),i=Math.min(u-1,a+1);for(let n=t;n<=i;n++)e.push(n);a<u-2&&e.push("..."),e.push(u)}return e},startRecord:c,endRecord:m,pageSizeOptions:i,hasData:e.length>0,totalRecords:e.length,enabled:n}}({data:_.sortedData,initialPageSize:b?.initialPageSize,pageSizeOptions:b?.pageSizeOptions,enabled:b?.enabled}),L=(0,r.useMemo)(()=>j.enabled?j.paginatedData:_.sortedData,[j.enabled,j.paginatedData,_.sortedData]),U={table:"table-auto border-collapse border-spacing-0",header:"bg-gray-100 border-b-2 border-gray-300 font-normal text-sm text-black/80",headerCell:"border-r border-gray-200 whitespace-nowrap",row:"cursor-pointer",dataCell:"bg-white border-b border-gray-300",container:"overflow-x-auto",...y},V={headerCell:{x:4,y:1.5},dataCell:{x:0,y:0},...v},M=(e,t,i)=>{let n=[];return e&&(Array.isArray(e)?n.push(...e):n.push(e)),[...n,E(t),T(i)].filter(Boolean).join(" ")},G=e=>(0,n.jsx)("th",{className:M(U.dataCell??"",V.dataCell),children:(0,n.jsx)(l,{checked:F.checkedRows.has(e.id),onChange:()=>F.toggleCheckbox(e.id),size:"sm"})}),B=(e,r)=>{let s=r===L.length-1,l=F.checkedRows.has(e.id),u=(0,n.jsxs)("tr",{onClick:()=>A?.(e),onDoubleClick:()=>I?.(e),className:`${l?"bg-blue-50 hover:bg-blue-50":"hover:bg-gray-100"} ${U?.row??""}`,children:[$.hasRowActions&&G(e),h.map((t,r)=>{if(k?.includes(r))return null;let a="accessor"in t?String(e[t.accessor]):t.render(e),l="align"in t&&t.align?t.align:i[r]?.align;return(0,n.jsx)("td",{className:M([U.dataCell??"",t.className??""],V.dataCell,l).replace(s?/border-b[^ ]*/g:"",""),children:a},r)}),$.hasRowActions&&(0,n.jsx)(o,{actions:t,row:e,className:M(U.dataCell??"",V.dataCell)})]},e.id),d=h.map((t,r)=>{if("accessor"in t||!t.expandedContent)return null;let{render:a,onClose:s}=t.expandedContent,l=a(e);if(!l)return null;let o=i.length+2*!!$.hasRowActions;return(0,n.jsx)("tr",{className:"bg-gray-50 border-b border-gray-300",children:(0,n.jsx)("td",{colSpan:o,className:"p-0",children:(0,n.jsxs)("div",{className:"flex flex-col items-start gap-2 p-4",children:[(0,n.jsxs)("button",{onClick:()=>s(e),className:"group flex items-center gap-1.5 px-2 py-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-all duration-200",title:"\xcenchide",children:[(0,n.jsx)("span",{className:"text-xs font-medium",children:"\xcenchide"}),(0,n.jsx)(m.m6K,{size:16,className:"group-hover:rotate-90 transition-transform duration-200"})]}),(0,n.jsx)("div",{className:"flex-1 min-w-0",children:l})]})})},`${e.id}-expanded-${r}`)}).filter(Boolean);return(0,n.jsxs)(a().Fragment,{children:[u,d]},`row-fragment-${e.id}`)};return(0,n.jsxs)("div",{className:`${U.container} w-full h-full flex flex-col`,children:[w?.enabled&&(0,n.jsxs)("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center gap-4",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(x,{search:C.tableSearch,placeholder:w.placeholder||O("common.actions.search")})}),(0,n.jsx)("div",{className:"flex-shrink-0 w-48",children:(0,n.jsxs)(d.A,{value:C.selectedSearchColumn,onChange:e=>C.setSelectedSearchColumn(e.target.value),sx:{fontSize:"0.8rem","& .MuiSelect-select":{fontSize:"0.8rem"}},fullWidth:!0,children:[(0,n.jsx)(c.A,{value:"all",children:"All columns"}),(w?.searchFields??(e.length>0?Object.keys(e[0]):[])).map(e=>(0,n.jsx)(c.A,{value:e,children:String(e)},String(e)))]})})]}),(0,n.jsx)("div",{className:"flex-1 overflow-auto",children:(0,n.jsxs)("table",{className:`${U.table} w-full h-full`,children:[i.length>0&&(0,n.jsx)("thead",{className:U?.header,children:(0,n.jsxs)("tr",{children:[$.hasRowActions&&(0,n.jsx)("th",{className:M(U.headerCell??"",V.headerCell),children:(0,n.jsx)(l,{checked:F.checkedRows.size===e.length,onChange:F.toggleAll,size:"sm"})}),i.map((e,t)=>{if(k?.includes(t))return null;let i=M(U.headerCell??"",V.headerCell,e.align);return(0,n.jsx)("th",{className:i,children:(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[e.label,e.sortable&&(0,n.jsx)("button",{className:"flex flex-col items-center ml-2 py-1 px-2 rounded-md",onClick:()=>_.toggleSortDirection(t),children:(0,n.jsxs)("div",{className:"flex flex-col items-center rounded-md",children:[(0,n.jsx)("div",{className:`p-1 rounded-md ${"asc"===_.getSortDirection(t)?"bg-zinc-500 text-white":""}`,children:(0,n.jsx)(s.wAb,{size:12})}),(0,n.jsx)("div",{className:`p-1 rounded-md ${"desc"===_.getSortDirection(t)?"bg-zinc-500 text-white":""}`,children:(0,n.jsx)(s.fK4,{size:12})})]})})]})},t)}),$.hasRowActions&&(0,n.jsx)("th",{className:M(U.headerCell??"",V.headerCell),children:(0,n.jsxs)("div",{className:"flex flex-row items-center justify-center gap-2",children:[(0,n.jsx)("span",{children:"Acțiuni"}),(0,n.jsx)(s.oUk,{})]})})]})}),(0,n.jsxs)("tbody",{className:U?.body,children:[(()=>{if(0===F.checkedRows.size)return null;let t=e.filter(e=>F.checkedRows.has(e.id)),r=1===t.length?$.rowActions:$.bulkActions;return(0,n.jsx)("tr",{className:"bg-blue-50 border-b border-gray-300",children:(0,n.jsx)("td",{colSpan:i.length+2*!!$.hasRowActions,children:(0,n.jsxs)("div",{className:"flex items-center gap-3 p-3",children:[F.checkedRows.size>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"text-sm text-graphite font-light",children:[(0,n.jsx)("span",{className:"font-medium",children:F.checkedRows.size})," ","selectate"]}),(0,n.jsx)(u.A,{flexItem:!0,orientation:"vertical"})]}),r.map((e,i)=>(0,n.jsxs)("button",{onClick:()=>{t.length>1?e.onBulkAction?.(t):e.onRowAction?.(t[0]),F.clearSelection()},title:e.label,className:"flex items-center bg-white rounded border border-gray-300 hover:bg-gray-200 focus:outline-none text-graphite/90 hover:text-black",style:{padding:e.label?"8px 16px":"8px"},children:[e.icon,e.label&&(0,n.jsx)("span",{className:"font-normal text-sm ml-2",children:e.label})]},i))]})})})})(),L.length>0?L.map((e,t)=>B(e,t)):(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:i.length+2*!!$.hasRowActions,className:"p-0",children:(0,n.jsx)(f.p,{message:P??O("states.empty.noData")})})}),R]})]})}),j.enabled&&j.hasData&&(0,n.jsx)(g,{currentPage:j.currentPage,totalPages:j.totalPages,pageSize:j.pageSize,pageSizeOptions:j.pageSizeOptions,startRecord:j.startRecord,endRecord:j.endRecord,totalRecords:j.totalRecords,onPageChange:j.goToPage,onPageSizeChange:j.handlePageSizeChange,getPageNumbers:j.getPageNumbers})]})}},15469:(e,t,i)=>{"use strict";i.d(t,{k:()=>a});var n=i(28625);i(64996);var r=i(79155);let a=({message:e,size:t=48})=>{let{t:i}=(0,r.Bd)();return(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center py-16",children:[(0,n.jsx)("div",{className:"relative",style:{width:t,height:t},children:(0,n.jsx)("div",{className:"w-full h-full border-4 border-blue-200 rounded-full animate-spin border-t-blue-600"})}),(0,n.jsx)("div",{className:"mt-4 text-gray-600 font-medium",children:e??i("common.loading")})]})}},19554:(e,t,i)=>{"use strict";i.d(t,{Cb:()=>s,IM:()=>n,Oc:()=>a,wR:()=>r});let n=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase()??"?",r=e=>e.toLowerCase().replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),a=e=>{let t=new Date(e||"");if(isNaN(t.getTime()))return"";let i=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${i}-${n}-${r}`};function s(e){return e.split(/[\s_]+/).map((e,t)=>{let i=e.toLowerCase();return 0===t?i:i.charAt(0).toUpperCase()+i.slice(1)}).join("")}},22298:(e,t,i)=>{"use strict";i.d(t,{U:()=>r,k:()=>n});let n=()=>({fullName:"",phone:"",email:"",department:null,role:null}),r=e=>({fullName:e.fullName.trim(),phone:e.phone.trim()||null,email:e.email.trim()||null,departmentId:e.department?.id||null,roleId:e.role?.id||null})},22349:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var n=i(64996),r=i(87439),a=i(37040),s=i(19554),l=i(93341),o=i.n(l),u=i(62881),d=i.n(u),c=i(54055);function m(e,t){return t?e?d()({},t,e,(e,t)=>null==t?e:Array.isArray(t)?t:void 0):{...t}:{}}function f({itemName:e,initialValues:t,defaultValues:i,itemId:l,onClose:u,onSuccess:d,createRecord:f,updateRecord:p,crudOptions:h={},getCreateDto:g,getUpdateDto:y,validator:v,mergeWithDefaults:b=m}){let{setAlert:w}=(0,r.Z)(),x=(0,n.useMemo)(()=>b(t,i),[t,i,b]),T=(0,n.useRef)(x),[E,k]=(0,n.useState)(x),[P,A]=(0,n.useState)({}),I=(0,n.useCallback)((e,t)=>{k(i=>({...i,[e]:t})),A(t=>({...t,[e]:!0}))},[]),R=(0,n.useMemo)(()=>!o()(E,T.current),[E]),N=(0,n.useMemo)(()=>{if(!v)return{isValid:!0,errors:{}};let e=v(E);console.log("errors",e);let t=(0,c.isFormValid)(e);console.log("isValid",t);let i=t?{}:Object.fromEntries(Object.entries(e).filter(([e])=>P[e]));return{isValid:t,errors:i}},[E,v,P]),D=(0,n.useMemo)(()=>!v||(console.log("canSubmit( isValid, isDirty ): ",N.isValid,R),N.isValid&&R),[N,R]),S=(0,a.n)({mutationFn:e=>f(e,h),onSuccess:()=>{w(`${(0,s.wR)(e)} creat cu succes!`,"success",1500),O(),u?.(),d?.()},onError:t=>console.error(`Crearea ${e}-ului a eșuat:`,t)}),q=(0,a.n)({mutationFn:({id:e,data:t})=>p(e,t,h),onSuccess:()=>{w(`${(0,s.wR)(e)} actualizat cu succes!`,"success",1500),u?.(),d?.()},onError:t=>console.error(`Actualizarea ${e}-ului a eșuat:`,t)}),O=(0,n.useCallback)(()=>{k(x),A({})},[x]);return{values:E,setValues:I,reset:O,submit:()=>{if(!D)return;let e={};Object.keys(E).forEach(t=>{e[t]=!0}),A(e);let t=g?g(E):E,i=y?y(E):E;void 0!==l?q.mutate({id:l,data:i}):S.mutate(t)},canSubmit:D,isDirty:R,isLoading:S.isPending||q.isPending,error:S.error||q.error,validationErrors:N.errors}}},22919:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let{PrismaClientKnownRequestError:n,PrismaClientUnknownRequestError:r,PrismaClientRustPanicError:a,PrismaClientInitializationError:s,PrismaClientValidationError:l,getPrismaClient:o,sqltag:u,empty:d,join:c,raw:m,skip:f,Decimal:p,Debug:h,objectEnumValues:g,makeStrictEnum:y,Extensions:v,warnOnce:b,defineDmmfProperty:w,Public:x,getRuntime:T,createParam:E}=i(31303),k={};t.Prisma=k,t.$Enums={},k.prismaVersion={client:"6.12.0",engine:"8047c96bbd92db98a2abc7c9323ce77c02c89dbc"},k.PrismaClientKnownRequestError=n,k.PrismaClientUnknownRequestError=r,k.PrismaClientRustPanicError=a,k.PrismaClientInitializationError=s,k.PrismaClientValidationError=l,k.Decimal=p,k.sql=u,k.empty=d,k.join=c,k.raw=m,k.validator=x.validator,k.getExtensionContext=v.getExtensionContext,k.defineExtension=v.defineExtension,k.DbNull=g.instances.DbNull,k.JsonNull=g.instances.JsonNull,k.AnyNull=g.instances.AnyNull,k.NullTypes={DbNull:g.classes.DbNull,JsonNull:g.classes.JsonNull,AnyNull:g.classes.AnyNull};let P=i(33873);t.Prisma.TransactionIsolationLevel=y({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),t.Prisma.ClientScalarFieldEnum={id:"id",type:"type",personId:"personId",companyId:"companyId",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.PersonScalarFieldEnum={id:"id",fullName:"fullName",phone:"phone",email:"email",address:"address",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.CompanyRepresentativeScalarFieldEnum={personId:"personId",companyId:"companyId"},t.Prisma.CompanyScalarFieldEnum={id:"id",name:"name",taxId:"taxId",headquarters:"headquarters",email:"email",phone:"phone",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.DepartmentScalarFieldEnum={id:"id",name:"name",description:"description",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.EmployeeRoleScalarFieldEnum={id:"id",name:"name",description:"description",createdAt:"createdAt"},t.Prisma.EmployeeScalarFieldEnum={id:"id",fullName:"fullName",email:"email",phone:"phone",roleId:"roleId",departmentId:"departmentId",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.TicketScalarFieldEnum={id:"id",equipmentDescription:"equipmentDescription",imageUrl:"imageUrl",priority:"priority",submittedAt:"submittedAt",clientId:"clientId",personRepresentativeId:"personRepresentativeId",companyRepresentativeId:"companyRepresentativeId",status:"status",estimatedCost:"estimatedCost",finalCost:"finalCost",estimatedDeliveryDate:"estimatedDeliveryDate",estimatedExecutionTime:"estimatedExecutionTime",observations:"observations",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.TicketItemScalarFieldEnum={id:"id",ticketId:"ticketId",type:"type",productId:"productId",serviceId:"serviceId",quantity:"quantity",unitPrice:"unitPrice",totalCost:"totalCost",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.TaskScalarFieldEnum={id:"id",ticketId:"ticketId",title:"title",description:"description",status:"status",dueDate:"dueDate",assigneeId:"assigneeId",createdAt:"createdAt",updatedAt:"updatedAt",completedAt:"completedAt"},t.Prisma.TicketCommentScalarFieldEnum={id:"id",ticketId:"ticketId",text:"text",createdAt:"createdAt",authorId:"authorId"},t.Prisma.TaskCommentScalarFieldEnum={id:"id",taskId:"taskId",text:"text",createdAt:"createdAt",authorId:"authorId"},t.Prisma.ActivityLogScalarFieldEnum={id:"id",ticketId:"ticketId",entity:"entity",entityId:"entityId",action:"action",details:"details",authorId:"authorId",createdAt:"createdAt"},t.Prisma.ProductScalarFieldEnum={id:"id",productCode:"productCode",name:"name",description:"description",category:"category",quantity:"quantity",unitPrice:"unitPrice",entryDate:"entryDate",supplier:"supplier",status:"status",weight:"weight",observations:"observations",createdAt:"createdAt",updatedAt:"updatedAt",serialNumber:"serialNumber"},t.Prisma.ServiceScalarFieldEnum={id:"id",serviceCode:"serviceCode",name:"name",description:"description",price:"price",duration:"duration",observations:"observations",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.SortOrder={asc:"asc",desc:"desc"},t.Prisma.NullableJsonNullValueInput={DbNull:k.DbNull,JsonNull:k.JsonNull},t.Prisma.NullsOrder={first:"first",last:"last"},t.Prisma.QueryMode={default:"default",insensitive:"insensitive"},t.Prisma.JsonNullValueFilter={DbNull:k.DbNull,JsonNull:k.JsonNull,AnyNull:k.AnyNull},t.ItemType=t.$Enums.ItemType={PRODUCT:"PRODUCT",SERVICE:"SERVICE"},t.OrderStatus=t.$Enums.OrderStatus={NEW:"NEW",TAKEN:"TAKEN",IN_PROGRESS:"IN_PROGRESS",APPROVED:"APPROVED",IN_TESTING:"IN_TESTING",COMPLETED:"COMPLETED",CONTACT_CLIENT:"CONTACT_CLIENT",WAITING_CLIENT:"WAITING_CLIENT",DELIVERED:"DELIVERED",CANCELLED:"CANCELLED"},t.OrderPriority=t.$Enums.OrderPriority={NORMAL:"NORMAL",URGENT:"URGENT"},t.ClientType=t.$Enums.ClientType={PERSON:"PERSON",COMPANY:"COMPANY"},t.ProductStatus=t.$Enums.ProductStatus={AVAILABLE:"AVAILABLE",UNAVAILABLE:"UNAVAILABLE",DEPLETED:"DEPLETED",ON_ORDER:"ON_ORDER",DEFECTIVE:"DEFECTIVE"},t.TaskStatus=t.$Enums.TaskStatus={TODO:"TODO",COMPLETED:"COMPLETED"},t.Prisma.ModelName={Client:"Client",Person:"Person",CompanyRepresentative:"CompanyRepresentative",Company:"Company",Department:"Department",EmployeeRole:"EmployeeRole",Employee:"Employee",Ticket:"Ticket",TicketItem:"TicketItem",Task:"Task",TicketComment:"TicketComment",TaskComment:"TaskComment",ActivityLog:"ActivityLog",Product:"Product",Service:"Service"};let A={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"/home/madeandenis/web-projects/crs/generated/prisma",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"debian-openssl-3.0.x",native:!0}],previewFeatures:[],sourceFilePath:"/home/madeandenis/web-projects/crs/prisma/schema.prisma",isCustomOutput:!0},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../.env"},relativePath:"../../prisma",clientVersion:"6.12.0",engineVersion:"8047c96bbd92db98a2abc7c9323ce77c02c89dbc",datasourceNames:["db"],activeProvider:"postgresql",inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:'generator client {\n  provider = "prisma-client-js"\n  output   = "../generated/prisma"\n}\n\n// generator erd {\n//   provider = "prisma-erd-generator"\n// }\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\nmodel Client {\n  id        Int        @id @default(autoincrement())\n  type      ClientType\n  personId  Int?       @unique\n  companyId Int?       @unique\n  createdAt DateTime   @default(now())\n  updatedAt DateTime   @updatedAt\n  tickets   Ticket[]\n  company   Company?   @relation("ClientCompany", fields: [companyId], references: [id])\n  person    Person?    @relation("ClientPerson", fields: [personId], references: [id])\n\n  @@map("clients")\n}\n\nmodel Person {\n  id        Int      @id @default(autoincrement())\n  fullName  String\n  phone     String?\n  email     String?\n  address   String?\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  representatives CompanyRepresentative[]\n  client          Client?                 @relation("ClientPerson")\n\n  @@map("persons")\n}\n\nmodel CompanyRepresentative {\n  personId  Int\n  companyId Int\n\n  person  Person  @relation(fields: [personId], references: [id])\n  company Company @relation(fields: [companyId], references: [id])\n\n  tickets Ticket[] @relation("TicketRepresentative")\n\n  @@id([personId, companyId])\n  @@map("company_representatives")\n}\n\nmodel Company {\n  id              Int                     @id @default(autoincrement())\n  name            String\n  taxId           String?\n  headquarters    String?\n  email           String?\n  phone           String?\n  createdAt       DateTime                @default(now())\n  updatedAt       DateTime                @updatedAt\n  client          Client?                 @relation("ClientCompany")\n  representatives CompanyRepresentative[]\n\n  @@map("companies")\n}\n\nmodel Department {\n  id          Int        @id @default(autoincrement())\n  name        String\n  description String?\n  createdAt   DateTime   @default(now())\n  updatedAt   DateTime   @updatedAt\n  employees   Employee[]\n\n  @@map("departments")\n}\n\nmodel EmployeeRole {\n  id          Int        @id @default(autoincrement())\n  name        String     @unique\n  description String?\n  createdAt   DateTime   @default(now())\n  employees   Employee[]\n\n  @@map("employee_roles")\n}\n\nmodel Employee {\n  id           Int      @id @default(autoincrement())\n  fullName     String\n  email        String?\n  phone        String?\n  roleId       Int?\n  departmentId Int?\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n\n  role       EmployeeRole? @relation(fields: [roleId], references: [id])\n  department Department?   @relation(fields: [departmentId], references: [id])\n\n  tasks          Task[]\n  ticketComments TicketComment[]\n  taskComments   TaskComment[]\n  tickets        Ticket[]        @relation("TicketEmployees")\n  activityLogs   ActivityLog[]\n\n  @@map("employees")\n}\n\nmodel Ticket {\n  id                      Int           @id @default(autoincrement())\n  equipmentDescription    String\n  imageUrl                String?\n  priority                OrderPriority @default(NORMAL)\n  submittedAt             DateTime      @default(now())\n  clientId                Int\n  personRepresentativeId  Int?\n  companyRepresentativeId Int?\n  status                  OrderStatus   @default(NEW)\n  estimatedCost           Float         @default(0)\n  finalCost               Float         @default(0)\n\n  ticketItems  TicketItem[]\n  comments     TicketComment[]\n  tasks        Task[]\n  activityLogs ActivityLog[]\n\n  estimatedDeliveryDate  DateTime?\n  estimatedExecutionTime Int?\n  observations           String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  client         Client                 @relation(fields: [clientId], references: [id])\n  representative CompanyRepresentative? @relation("TicketRepresentative", fields: [personRepresentativeId, companyRepresentativeId], references: [personId, companyId])\n  employees      Employee[]             @relation("TicketEmployees")\n\n  @@map("tickets")\n}\n\nmodel TicketItem {\n  id        Int      @id @default(autoincrement())\n  ticketId  Int\n  type      ItemType\n  productId Int?\n  serviceId Int?\n  quantity  Int      @default(1)\n  unitPrice Float\n  totalCost Float    @default(0)\n\n  ticket  Ticket   @relation(fields: [ticketId], references: [id])\n  product Product? @relation(fields: [productId], references: [id])\n  service Service? @relation(fields: [serviceId], references: [id])\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([id, ticketId])\n  @@index([productId])\n  @@index([serviceId])\n  @@map("ticket_items")\n}\n\nenum ItemType {\n  PRODUCT\n  SERVICE\n}\n\nmodel Task {\n  id          Int        @id @default(autoincrement())\n  ticketId    Int\n  title       String\n  description String?\n  status      TaskStatus @default(TODO)\n  dueDate     DateTime?\n\n  assigneeId Int?\n  assignee   Employee? @relation(fields: [assigneeId], references: [id])\n\n  createdAt   DateTime  @default(now())\n  updatedAt   DateTime  @updatedAt\n  completedAt DateTime?\n\n  taskComments TaskComment[]\n  ticket       Ticket        @relation(fields: [ticketId], references: [id])\n\n  @@map("tasks")\n}\n\nmodel TicketComment {\n  id        Int      @id @default(autoincrement())\n  ticketId  Int\n  text      String\n  createdAt DateTime @default(now())\n  authorId  Int\n\n  ticket Ticket   @relation(fields: [ticketId], references: [id])\n  author Employee @relation(fields: [authorId], references: [id])\n\n  @@map("ticket_comments")\n}\n\nmodel TaskComment {\n  id        Int      @id @default(autoincrement())\n  taskId    Int\n  text      String\n  createdAt DateTime @default(now())\n  authorId  Int\n\n  task   Task     @relation(fields: [taskId], references: [id])\n  author Employee @relation(fields: [authorId], references: [id])\n\n  @@map("task_comments")\n}\n\nmodel ActivityLog {\n  id        Int      @id @default(autoincrement())\n  ticketId  Int?\n  entity    String\n  entityId  Int?\n  action    String\n  details   Json?\n  authorId  Int?\n  createdAt DateTime @default(now())\n\n  author Employee? @relation(fields: [authorId], references: [id])\n  ticket Ticket?   @relation(fields: [ticketId], references: [id])\n\n  @@index([ticketId])\n  @@index([entity, entityId])\n  @@map("activity_logs")\n}\n\nmodel Product {\n  id Int @id @default(autoincrement())\n\n  productCode  String?       @unique\n  name         String\n  description  String?\n  category     String\n  quantity     Int?          @default(0)\n  unitPrice    Float?\n  entryDate    DateTime\n  supplier     String?\n  status       ProductStatus\n  weight       Float?\n  observations String?\n\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n  serialNumber String?  @unique\n\n  ticketItems TicketItem[]\n\n  @@map("products")\n}\n\nmodel Service {\n  id Int @id @default(autoincrement())\n\n  serviceCode  String? @unique\n  name         String\n  description  String?\n  price        Float\n  duration     Int?\n  observations String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  ticketItems TicketItem[]\n\n  @@map("services")\n}\n\nenum OrderStatus {\n  NEW\n  TAKEN\n  IN_PROGRESS\n  APPROVED\n  IN_TESTING\n  COMPLETED\n  CONTACT_CLIENT\n  WAITING_CLIENT\n  DELIVERED\n  CANCELLED\n}\n\nenum OrderPriority {\n  NORMAL\n  URGENT\n}\n\nenum ClientType {\n  PERSON\n  COMPANY\n}\n\nenum ProductStatus {\n  AVAILABLE\n  UNAVAILABLE\n  DEPLETED\n  ON_ORDER\n  DEFECTIVE\n}\n\nenum TaskStatus {\n  TODO\n  COMPLETED\n}\n',inlineSchemaHash:"cdc8e9f08af43e810814d67eef3e75d62448826c73f90cfd99c7ec19fdd1bdf3",copyEngine:!0},I=i(29021);if(A.dirname=__dirname,!I.existsSync(P.join(__dirname,"schema.prisma"))){let e=["generated/prisma","prisma"],t=e.find(e=>I.existsSync(P.join(process.cwd(),e,"schema.prisma")))??e[0];A.dirname=P.join(process.cwd(),t),A.isBundled=!0}A.runtimeDataModel=JSON.parse('{"models":{"Client":{"dbName":"clients","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"type","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ClientType","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"personId","kind":"scalar","isList":false,"isRequired":false,"isUnique":true,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"companyId","kind":"scalar","isList":false,"isRequired":false,"isUnique":true,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"tickets","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Ticket","nativeType":null,"relationName":"ClientToTicket","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"company","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Company","nativeType":null,"relationName":"ClientCompany","relationFromFields":["companyId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"person","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Person","nativeType":null,"relationName":"ClientPerson","relationFromFields":["personId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Person":{"dbName":"persons","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"fullName","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"phone","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"address","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"representatives","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CompanyRepresentative","nativeType":null,"relationName":"CompanyRepresentativeToPerson","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"client","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Client","nativeType":null,"relationName":"ClientPerson","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"CompanyRepresentative":{"dbName":"company_representatives","schema":null,"fields":[{"name":"personId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"companyId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"person","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Person","nativeType":null,"relationName":"CompanyRepresentativeToPerson","relationFromFields":["personId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"company","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Company","nativeType":null,"relationName":"CompanyToCompanyRepresentative","relationFromFields":["companyId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"tickets","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Ticket","nativeType":null,"relationName":"TicketRepresentative","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":{"name":null,"fields":["personId","companyId"]},"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Company":{"dbName":"companies","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"taxId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"headquarters","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"phone","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"client","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Client","nativeType":null,"relationName":"ClientCompany","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"representatives","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CompanyRepresentative","nativeType":null,"relationName":"CompanyToCompanyRepresentative","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Department":{"dbName":"departments","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"employees","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Employee","nativeType":null,"relationName":"DepartmentToEmployee","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"EmployeeRole":{"dbName":"employee_roles","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"employees","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Employee","nativeType":null,"relationName":"EmployeeToEmployeeRole","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Employee":{"dbName":"employees","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"fullName","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"phone","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"roleId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"departmentId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"role","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"EmployeeRole","nativeType":null,"relationName":"EmployeeToEmployeeRole","relationFromFields":["roleId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"department","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Department","nativeType":null,"relationName":"DepartmentToEmployee","relationFromFields":["departmentId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"tasks","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Task","nativeType":null,"relationName":"EmployeeToTask","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"ticketComments","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"TicketComment","nativeType":null,"relationName":"EmployeeToTicketComment","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"taskComments","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"TaskComment","nativeType":null,"relationName":"EmployeeToTaskComment","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"tickets","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Ticket","nativeType":null,"relationName":"TicketEmployees","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"activityLogs","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ActivityLog","nativeType":null,"relationName":"ActivityLogToEmployee","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Ticket":{"dbName":"tickets","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"equipmentDescription","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"imageUrl","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"priority","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"OrderPriority","nativeType":null,"default":"NORMAL","isGenerated":false,"isUpdatedAt":false},{"name":"submittedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"clientId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"personRepresentativeId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"companyRepresentativeId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"OrderStatus","nativeType":null,"default":"NEW","isGenerated":false,"isUpdatedAt":false},{"name":"estimatedCost","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Float","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"finalCost","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Float","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"ticketItems","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"TicketItem","nativeType":null,"relationName":"TicketToTicketItem","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"comments","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"TicketComment","nativeType":null,"relationName":"TicketToTicketComment","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"tasks","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Task","nativeType":null,"relationName":"TaskToTicket","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"activityLogs","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ActivityLog","nativeType":null,"relationName":"ActivityLogToTicket","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"estimatedDeliveryDate","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"estimatedExecutionTime","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"observations","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"client","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Client","nativeType":null,"relationName":"ClientToTicket","relationFromFields":["clientId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"representative","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CompanyRepresentative","nativeType":null,"relationName":"TicketRepresentative","relationFromFields":["personRepresentativeId","companyRepresentativeId"],"relationToFields":["personId","companyId"],"isGenerated":false,"isUpdatedAt":false},{"name":"employees","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Employee","nativeType":null,"relationName":"TicketEmployees","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"TicketItem":{"dbName":"ticket_items","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"ticketId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"type","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ItemType","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"productId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"serviceId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"quantity","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":1,"isGenerated":false,"isUpdatedAt":false},{"name":"unitPrice","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"totalCost","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Float","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"ticket","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Ticket","nativeType":null,"relationName":"TicketToTicketItem","relationFromFields":["ticketId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"product","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Product","nativeType":null,"relationName":"ProductToTicketItem","relationFromFields":["productId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"service","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Service","nativeType":null,"relationName":"ServiceToTicketItem","relationFromFields":["serviceId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[["id","ticketId"]],"uniqueIndexes":[{"name":null,"fields":["id","ticketId"]}],"isGenerated":false},"Task":{"dbName":"tasks","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"ticketId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"TaskStatus","nativeType":null,"default":"TODO","isGenerated":false,"isUpdatedAt":false},{"name":"dueDate","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"assigneeId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"assignee","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Employee","nativeType":null,"relationName":"EmployeeToTask","relationFromFields":["assigneeId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"completedAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"taskComments","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"TaskComment","nativeType":null,"relationName":"TaskToTaskComment","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"ticket","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Ticket","nativeType":null,"relationName":"TaskToTicket","relationFromFields":["ticketId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"TicketComment":{"dbName":"ticket_comments","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"ticketId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"text","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"authorId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"ticket","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Ticket","nativeType":null,"relationName":"TicketToTicketComment","relationFromFields":["ticketId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"author","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Employee","nativeType":null,"relationName":"EmployeeToTicketComment","relationFromFields":["authorId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"TaskComment":{"dbName":"task_comments","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"taskId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"text","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"authorId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"task","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Task","nativeType":null,"relationName":"TaskToTaskComment","relationFromFields":["taskId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"author","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Employee","nativeType":null,"relationName":"EmployeeToTaskComment","relationFromFields":["authorId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"ActivityLog":{"dbName":"activity_logs","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"ticketId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"entity","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"entityId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"action","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"details","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"authorId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"author","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Employee","nativeType":null,"relationName":"ActivityLogToEmployee","relationFromFields":["authorId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"ticket","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Ticket","nativeType":null,"relationName":"ActivityLogToTicket","relationFromFields":["ticketId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Product":{"dbName":"products","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"productCode","kind":"scalar","isList":false,"isRequired":false,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"category","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"quantity","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"unitPrice","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"entryDate","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"supplier","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ProductStatus","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"weight","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"observations","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"serialNumber","kind":"scalar","isList":false,"isRequired":false,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"ticketItems","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"TicketItem","nativeType":null,"relationName":"ProductToTicketItem","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Service":{"dbName":"services","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":{"name":"autoincrement","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"serviceCode","kind":"scalar","isList":false,"isRequired":false,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"price","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"duration","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"observations","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"ticketItems","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"TicketItem","nativeType":null,"relationName":"ServiceToTicketItem","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{"ItemType":{"values":[{"name":"PRODUCT","dbName":null},{"name":"SERVICE","dbName":null}],"dbName":null},"OrderStatus":{"values":[{"name":"NEW","dbName":null},{"name":"TAKEN","dbName":null},{"name":"IN_PROGRESS","dbName":null},{"name":"APPROVED","dbName":null},{"name":"IN_TESTING","dbName":null},{"name":"COMPLETED","dbName":null},{"name":"CONTACT_CLIENT","dbName":null},{"name":"WAITING_CLIENT","dbName":null},{"name":"DELIVERED","dbName":null},{"name":"CANCELLED","dbName":null}],"dbName":null},"OrderPriority":{"values":[{"name":"NORMAL","dbName":null},{"name":"URGENT","dbName":null}],"dbName":null},"ClientType":{"values":[{"name":"PERSON","dbName":null},{"name":"COMPANY","dbName":null}],"dbName":null},"ProductStatus":{"values":[{"name":"AVAILABLE","dbName":null},{"name":"UNAVAILABLE","dbName":null},{"name":"DEPLETED","dbName":null},{"name":"ON_ORDER","dbName":null},{"name":"DEFECTIVE","dbName":null}],"dbName":null},"TaskStatus":{"values":[{"name":"TODO","dbName":null},{"name":"COMPLETED","dbName":null}],"dbName":null}},"types":{}}'),w(t.Prisma,A.runtimeDataModel),A.engineWasm=void 0,A.compilerWasm=void 0;let{warnEnvConflicts:R}=i(31303);R({rootEnvPath:A.relativeEnvPaths.rootEnvPath&&P.resolve(A.dirname,A.relativeEnvPaths.rootEnvPath),schemaEnvPath:A.relativeEnvPaths.schemaEnvPath&&P.resolve(A.dirname,A.relativeEnvPaths.schemaEnvPath)}),t.PrismaClient=o(A),Object.assign(t,k),P.join(__dirname,"libquery_engine-debian-openssl-3.0.x.so.node"),P.join(process.cwd(),"generated/prisma/libquery_engine-debian-openssl-3.0.x.so.node"),P.join(__dirname,"schema.prisma"),P.join(process.cwd(),"generated/prisma/schema.prisma")},23138:(e,t,i)=>{"use strict";i.d(t,{KA:()=>s,Sx:()=>a});var n=i(22919);let r=e=>{let t=new Date(e||"");if(isNaN(t.getTime()))return"";let i=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${i}-${n}-${r}`},a=()=>({equipmentDescription:"",imageUrl:"",priority:n.OrderPriority.NORMAL,client:null,representative:null,status:n.OrderStatus.NEW,estimatedCost:0,estimatedDeliveryDate:null,estimatedExecutionTime:0,observations:"",employees:[]}),s=e=>({equipmentDescription:e.equipmentDescription,imageUrl:e.imageUrl||null,priority:e.priority,clientId:e.client.id,personRepresentativeId:e.representative?.personId||null,companyRepresentativeId:e.representative?.companyId||null,status:e.status,estimatedCost:e.estimatedCost||null,estimatedDeliveryDate:r(e.estimatedDeliveryDate),estimatedExecutionTime:e.estimatedExecutionTime||null,observations:e.observations||null,employeeIds:e.employees.map(e=>e.id)})},24022:(e,t,i)=>{"use strict";function n(e){return"person"in e}i.d(t,{R:()=>n})},24537:(e,t,i)=>{"use strict";i.d(t,{o:()=>r});var n=i(3109);let r=e=>{let t={};return t.ticketId=(0,n.fH)([{check:e=>e>0,message:"Ticket ID is required"}])(e.ticketId),t.title=(0,n.fH)([{check:e=>n.PT.required(e),message:"Title is required"},{check:e=>n.PT.minLength(e,2),message:"Title must be at least 2 characters"},{check:e=>n.PT.maxLength(e,200),message:"Title must be less than 200 characters"}])(e.title),t.description=(0,n.fH)([{check:e=>!e||n.PT.minLength(e,5),message:"Description must be at least 5 characters"},{check:e=>!e||n.PT.maxLength(e,1e3),message:"Description must be less than 1000 characters"}])(e.description),t.dueDate=(0,n.fH)([{check:e=>!e||n.PT.required(e),message:"Due date is required"},{check:e=>!e||n.PT.date(e),message:"Please enter a valid date"}])(e.dueDate),t.assignee=null,t.status=null,t}},29149:(e,t,i)=>{"use strict";i.d(t,{C:()=>n});var n=function(e){return e.CREATE="CREATE",e.UPDATE="UPDATE",e.DELETE="DELETE",e.UPDATE_STATE="UPDATE_STATE",e.ASSIGN="ASSIGN",e.UNASSIGN="UNASSIGN",e.ADD="ADD",e.EDIT="EDIT",e.CHANGE_STATUS="CHANGE_STATUS",e.MARK_DONE="MARK_DONE",e}({})},31303:(e,t,i)=>{"use strict";var n=Object.create,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=(e,t)=>()=>(e&&(t=e(e=0)),t),d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=(e,t)=>{for(var i in t)r(e,i,{get:t[i],enumerable:!0})},m=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of s(t))o.call(e,l)||l===i||r(e,l,{get:()=>t[l],enumerable:!(n=a(t,l))||n.enumerable});return e},f=(e,t,i)=>(i=null!=e?n(l(e)):{},m(!t&&e&&e.__esModule?i:r(i,"default",{value:e,enumerable:!0}),e)),p=d((e,t)=>{t.exports=(e,t=process.argv)=>{let i=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(i+e),r=t.indexOf("--");return -1!==n&&(-1===r||n<r)}}),h=d((e,t)=>{var n,r=i(48161),a=i(7066),s=p(),{env:l}=process;function o(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===n)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let i=n||0;if("dumb"===l.TERM)return i;if("win32"===process.platform){let e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in l)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in l)||"codeship"===l.CI_NAME?1:i;if("TEAMCITY_VERSION"in l)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(l.TEAMCITY_VERSION);if("truecolor"===l.COLORTERM)return 3;if("TERM_PROGRAM"in l){let e=parseInt((l.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(l.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(l.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(l.TERM)||"COLORTERM"in l?1:i}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?n=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(n=1),"FORCE_COLOR"in l&&(n="true"===l.FORCE_COLOR?1:"false"===l.FORCE_COLOR?0:0===l.FORCE_COLOR.length?1:Math.min(parseInt(l.FORCE_COLOR,10),3)),t.exports={supportsColor:function(e){return o(u(e,e&&e.isTTY))},stdout:o(u(!0,a.isatty(1))),stderr:o(u(!0,a.isatty(2)))}}),g=d((e,t)=>{var i=h(),n=p();function r(e){if(/^\d{3,4}$/.test(e)){let t=/(\d{1,2})(\d{2})/.exec(e)||[];return{major:0,minor:parseInt(t[1],10),patch:parseInt(t[2],10)}}let t=(e||"").split(".").map(e=>parseInt(e,10));return{major:t[0],minor:t[1],patch:t[2]}}function a(e){let{CI:t,FORCE_HYPERLINK:a,NETLIFY:s,TEAMCITY_VERSION:l,TERM_PROGRAM:o,TERM_PROGRAM_VERSION:u,VTE_VERSION:d,TERM:c}=process.env;if(a)return!(a.length>0&&0===parseInt(a,10));if(n("no-hyperlink")||n("no-hyperlinks")||n("hyperlink=false")||n("hyperlink=never"))return!1;if(n("hyperlink=true")||n("hyperlink=always")||s)return!0;if(!i.supportsColor(e)||e&&!e.isTTY)return!1;if("WT_SESSION"in process.env)return!0;if("win32"===process.platform||t||l)return!1;if(o){let e=r(u||"");switch(o){case"iTerm.app":return 3===e.major?e.minor>=1:e.major>3;case"WezTerm":return e.major>=0x1343cac;case"vscode":return e.major>1||1===e.major&&e.minor>=72;case"ghostty":return!0}}if(d){if("0.50.0"===d)return!1;let e=r(d);return e.major>0||e.minor>=50}return"alacritty"===c}t.exports={supportsHyperlink:a,stdout:a(process.stdout),stderr:a(process.stderr)}}),y=d((e,t)=>{t.exports={name:"@prisma/internals",version:"6.12.0",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",esbuild:"0.25.5","escape-string-regexp":"5.0.0",execa:"5.1.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","fs-jetpack":"5.1.0","global-dirs":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0","read-package-up":"11.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-ansi":"6.0.1","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-node":"10.9.2","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.12.0-15.8047c96bbd92db98a2abc7c9323ce77c02c89dbc","@prisma/schema-engine-wasm":"6.12.0-15.8047c96bbd92db98a2abc7c9323ce77c02c89dbc","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),v=d((e,t)=>{t.exports={name:"@prisma/engines-version",version:"6.12.0-15.8047c96bbd92db98a2abc7c9323ce77c02c89dbc",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"8047c96bbd92db98a2abc7c9323ce77c02c89dbc"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),b=d(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.enginesVersion=void 0,e.enginesVersion=v().prisma.enginesVersion}),w=d((e,t)=>{t.exports=e=>{let t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((e,t)=>Math.min(e,t.length),1/0):0}}),x=d((e,t)=>{t.exports=(e,t=1,i)=>{if(i={indent:" ",includeEmptyLines:!1,...i},"string"!=typeof e)throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof i.indent)throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof i.indent}\``);if(0===t)return e;let n=i.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,i.indent.repeat(t))}}),T=d((e,t)=>{t.exports=({onlyFirst:e=!1}={})=>RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))",e?void 0:"g")}),E=d((e,t)=>{var i=T();t.exports=e=>"string"==typeof e?e.replace(i(),""):e}),k=d((e,t)=>{t.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),P=d((e,t)=>{var n=i(73024),r=i(76760),a=i(48161),s=i(77598),l=k().version,o=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function u(e){console.log(`[dotenv@${l}][DEBUG] ${e}`)}function d(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function c(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let i of e.path)n.existsSync(i)&&(t=i.endsWith(".vault")?i:`${i}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=r.resolve(process.cwd(),".env.vault");return n.existsSync(t)?t:null}function m(e){return"~"===e[0]?r.join(a.homedir(),e.slice(1)):e}var f={configDotenv:function(e){let t=r.resolve(process.cwd(),".env"),i="utf8",a=!!(e&&e.debug);e&&e.encoding?i=e.encoding:a&&u("No encoding is specified. UTF-8 is used by default");let s=[t];if(e&&e.path)if(Array.isArray(e.path))for(let t of(s=[],e.path))s.push(m(t));else s=[m(e.path)];let l,o={};for(let t of s)try{let r=f.parse(n.readFileSync(t,{encoding:i}));f.populate(o,r,e)}catch(e){a&&u(`Failed to load ${t} ${e.message}`),l=e}let d=process.env;return e&&null!=e.processEnv&&(d=e.processEnv),f.populate(d,o,e),l?{parsed:o,error:l}:{parsed:o}},_configVault:function(e){e&&e.debug&&u("Loading env from encrypted .env.vault");let t=f._parseVault(e),i=process.env;return e&&null!=e.processEnv&&(i=e.processEnv),f.populate(i,t,e),{parsed:t}},_parseVault:function(e){let t=c(e),i=f.configDotenv({path:t});if(!i.parsed){let e=Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw e.code="MISSING_DATA",e}let n=d(e).split(","),r=n.length,a;for(let e=0;e<r;e++)try{let t=n[e].trim(),r=function(e,t){let i;try{i=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){let e=Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}let n=i.password;if(!n){let e=Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}let r=i.searchParams.get("environment");if(!r){let e=Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}let a=`DOTENV_VAULT_${r.toUpperCase()}`,s=e.parsed[a];if(!s){let e=Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${a} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:s,key:n}}(i,t);a=f.decrypt(r.ciphertext,r.key);break}catch(t){if(e+1>=r)throw t}return f.parse(a)},config:function(e){var t;if(0===d(e).length)return f.configDotenv(e);let i=c(e);return i?f._configVault(e):(t=`You set DOTENV_KEY but you are missing a .env.vault file at ${i}. Did you forget to build it?`,console.log(`[dotenv@${l}][WARN] ${t}`),f.configDotenv(e))},decrypt:function(e,t){let i=Buffer.from(t.slice(-64),"hex"),n=Buffer.from(e,"base64"),r=n.subarray(0,12),a=n.subarray(-16);n=n.subarray(12,-16);try{let e=s.createDecipheriv("aes-256-gcm",i,r);return e.setAuthTag(a),`${e.update(n)}${e.final()}`}catch(n){let e=n instanceof RangeError,t="Invalid key length"===n.message,i="Unsupported state or unable to authenticate data"===n.message;if(e||t){let e=Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(i){let e=Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw n}},parse:function(e){let t,i={},n=e.toString();for(n=n.replace(/\r\n?/mg,`
`);null!=(t=o.exec(n));){let e=t[1],n=t[2]||"",r=(n=n.trim())[0];n=n.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),'"'===r&&(n=(n=n.replace(/\\n/g,`
`)).replace(/\\r/g,"\r")),i[e]=n}return i},populate:function(e,t,i={}){let n=!!(i&&i.debug),r=!!(i&&i.override);if("object"!=typeof t){let e=Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(let i of Object.keys(t))Object.prototype.hasOwnProperty.call(e,i)?(!0===r&&(e[i]=t[i]),n&&u(!0===r?`"${i}" is already defined and WAS overwritten`:`"${i}" is already defined and was NOT overwritten`)):e[i]=t[i]}};t.exports.configDotenv=f.configDotenv,t.exports._configVault=f._configVault,t.exports._parseVault=f._parseVault,t.exports.config=f.config,t.exports.decrypt=f.decrypt,t.exports.parse=f.parse,t.exports.populate=f.populate,t.exports=f}),A=d((e,t)=>{t.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let i=new URL(`${t}/issues/new`);for(let t of["body","title","labels","template","milestone","assignee","projects"]){let n=e[t];if(void 0!==n){if("labels"===t||"projects"===t){if(!Array.isArray(n))throw TypeError(`The \`${t}\` option should be an array`);n=n.join(",")}i.searchParams.set(t,n)}}return i.toString()},t.exports.default=t.exports}),I=d((e,t)=>{t.exports=function(){function e(e,t,i,n,r){return e<t||i<t?e>i?i+1:e+1:n===r?t:t+1}return function(t,i){if(t===i)return 0;if(t.length>i.length){var n=t;t=i,i=n}for(var r=t.length,a=i.length;r>0&&t.charCodeAt(r-1)===i.charCodeAt(a-1);)r--,a--;for(var s=0;s<r&&t.charCodeAt(s)===i.charCodeAt(s);)s++;if(r-=s,a-=s,0===r||a<3)return a;var l,o,u,d,c,m,f,p,h,g,y,v,b=0,w=[];for(l=0;l<r;l++)w.push(l+1),w.push(t.charCodeAt(s+l));for(var x=w.length-1;b<a-3;)for(h=i.charCodeAt(s+(o=b)),g=i.charCodeAt(s+(u=b+1)),y=i.charCodeAt(s+(d=b+2)),v=i.charCodeAt(s+(c=b+3)),m=b+=4,l=0;l<x;l+=2)o=e(f=w[l],o,u,h,p=w[l+1]),u=e(o,u,d,g,p),d=e(u,d,c,y,p),m=e(d,c,m,v,p),w[l]=m,c=d,d=u,u=o,o=f;for(;b<a;)for(h=i.charCodeAt(s+(o=b)),m=++b,l=0;l<x;l+=2)f=w[l],w[l]=m=e(f,o,m,h,w[l+1]),o=f;return m}}()}),R=u(()=>{}),N=u(()=>{}),D={};c(D,{DMMF:()=>n1,Debug:()=>eT,Decimal:()=>nH,Extensions:()=>S,MetricsClient:()=>r7,PrismaClientInitializationError:()=>iv,PrismaClientKnownRequestError:()=>ib,PrismaClientRustPanicError:()=>iw,PrismaClientUnknownRequestError:()=>ix,PrismaClientValidationError:()=>iT,Public:()=>C,Sql:()=>ad,createParam:()=>rJ,defineDmmfProperty:()=>r6,deserializeJsonResponse:()=>nW,deserializeRawResult:()=>lj,dmmfToRuntimeDataModel:()=>nQ,empty:()=>af,getPrismaClient:()=>l0,getRuntime:()=>si,join:()=>ac,makeStrictEnum:()=>l3,makeTypedQueryFactory:()=>an,objectEnumValues:()=>rF,raw:()=>am,serializeJsonQuery:()=>r2,skip:()=>rZ,sqltag:()=>ap,warnEnvConflicts:()=>l5,warnOnce:()=>iy}),e.exports=m(r({},"__esModule",{value:!0}),D);var S={};function q(e){return"function"==typeof e?e:t=>t.$extends(e)}function O(e){return e}c(S,{defineExtension:()=>q,getExtensionContext:()=>O});var C={};function _(...e){return e=>e}c(C,{validator:()=>_});var F={};c(F,{$:()=>M,bgBlack:()=>eo,bgBlue:()=>em,bgCyan:()=>ep,bgGreen:()=>ed,bgMagenta:()=>ef,bgRed:()=>eu,bgWhite:()=>eh,bgYellow:()=>ec,black:()=>Z,blue:()=>ei,bold:()=>H,cyan:()=>er,dim:()=>W,gray:()=>es,green:()=>ee,grey:()=>el,hidden:()=>Q,inverse:()=>J,italic:()=>K,magenta:()=>en,red:()=>X,reset:()=>B,strikethrough:()=>Y,underline:()=>z,white:()=>ea,yellow:()=>et});var $,j,L,U,V=!0;"u">typeof process&&({FORCE_COLOR:$,NODE_DISABLE_COLORS:j,NO_COLOR:L,TERM:U}=process.env||{},V=process.stdout&&process.stdout.isTTY);var M={enabled:!j&&null==L&&"dumb"!==U&&(null!=$&&"0"!==$||V)};function G(e,t){let i=RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1b[${e}m`,r=`\x1b[${t}m`;return function(e){return M.enabled&&null!=e?n+(~(""+e).indexOf(r)?e.replace(i,r+n):e)+r:e}}var B=G(0,0),H=G(1,22),W=G(2,22),K=G(3,23),z=G(4,24),J=G(7,27),Q=G(8,28),Y=G(9,29),Z=G(30,39),X=G(31,39),ee=G(32,39),et=G(33,39),ei=G(34,39),en=G(35,39),er=G(36,39),ea=G(37,39),es=G(90,39),el=G(90,39),eo=G(40,49),eu=G(41,49),ed=G(42,49),ec=G(43,49),em=G(44,49),ef=G(45,49),ep=G(46,49),eh=G(47,49),eg=["green","yellow","blue","magenta","cyan","red"],ey=[],ev=Date.now(),eb=0,ew="u">typeof process?process.env:{};globalThis.DEBUG??=ew.DEBUG??"",globalThis.DEBUG_COLORS??=!ew.DEBUG_COLORS||"true"===ew.DEBUG_COLORS;var ex={enable(e){"string"==typeof e&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(e=>e.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),i=t.some(t=>""!==t&&"-"!==t[0]&&e.match(RegExp(t.split("*").join(".*")+"$"))),n=t.some(t=>""!==t&&"-"===t[0]&&e.match(RegExp(t.slice(1).split("*").join(".*")+"$")));return i&&!n},log:(...e)=>{let[t,i,...n]=e;(console.warn??console.log)(`${t} ${i}`,...n)},formatters:{}},eT=new Proxy(function(e){let t={color:eg[eb++%eg.length],enabled:ex.enabled(e),namespace:e,log:ex.log,extend:()=>{}};return new Proxy((...e)=>{let{enabled:i,namespace:n,color:r,log:a}=t;if(0!==e.length&&ey.push([n,...e]),ey.length>100&&ey.shift(),ex.enabled(n)||i){let t=e.map(e=>"string"==typeof e?e:function(e,t=2){let i=new Set;return JSON.stringify(e,(e,t)=>{if("object"==typeof t&&null!==t){if(i.has(t))return"[Circular *]";i.add(t)}else if("bigint"==typeof t)return t.toString();return t},t)}(e)),i=`+${Date.now()-ev}ms`;ev=Date.now(),globalThis.DEBUG_COLORS?a(F[r](H(n)),...t,F[r](i)):a(n,...t,i)}},{get:(e,i)=>t[i],set:(e,i,n)=>t[i]=n})},{get:(e,t)=>ex[t],set:(e,t,i)=>ex[t]=i}),eE=f(i(73024)),ek="libquery_engine",eP=f(i(31421)),eA=f(i(51455)),eI=f(i(48161)),eR=Symbol.for("@ts-pattern/matcher"),eN=Symbol.for("@ts-pattern/isVariadic"),eD="@ts-pattern/anonymous-select-key",eS=e=>!!(e&&"object"==typeof e),eq=e=>e&&!!e[eR],eO=(e,t,i)=>{if(eq(e)){let{matched:n,selections:r}=e[eR]().match(t);return n&&r&&Object.keys(r).forEach(e=>i(e,r[e])),n}if(eS(e)){if(!eS(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=[],r=[],a=[];for(let t of e.keys()){let i=e[t];eq(i)&&i[eN]?a.push(i):a.length?r.push(i):n.push(i)}if(a.length){if(a.length>1)throw Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<n.length+r.length)return!1;let e=t.slice(0,n.length),s=0===r.length?[]:t.slice(-r.length),l=t.slice(n.length,0===r.length?1/0:-r.length);return n.every((t,n)=>eO(t,e[n],i))&&r.every((e,t)=>eO(e,s[t],i))&&(0===a.length||eO(a[0],l,i))}return e.length===t.length&&e.every((e,n)=>eO(e,t[n],i))}return Reflect.ownKeys(e).every(n=>{let r=e[n];return(n in t||eq(r)&&"optional"===r[eR]().matcherType)&&eO(r,t[n],i)})}return Object.is(t,e)},eC=e=>{var t,i,n;return eS(e)?eq(e)?null!=(t=null==(i=(n=e[eR]()).getSelectionKeys)?void 0:i.call(n))?t:[]:Array.isArray(e)?e_(e,eC):e_(Object.values(e),eC):[]},e_=(e,t)=>e.reduce((e,i)=>e.concat(t(i)),[]);function eF(e){return Object.assign(e,{optional:()=>{var t;return t=e,eF({[eR]:()=>({match:e=>{let i={},n=(e,t)=>{i[e]=t};return void 0===e?(eC(t).forEach(e=>n(e,void 0)),{matched:!0,selections:i}):{matched:eO(t,e,n),selections:i}},getSelectionKeys:()=>eC(t),matcherType:"optional"})})},and:t=>e$(e,t),or:t=>(function(...e){return eF({[eR]:()=>({match:t=>{let i={},n=(e,t)=>{i[e]=t};return e_(e,eC).forEach(e=>n(e,void 0)),{matched:e.some(e=>eO(e,t,n)),selections:i}},getSelectionKeys:()=>e_(e,eC),matcherType:"or"})})})(e,t),select:t=>void 0===t?eL(e):eL(t,e)})}function e$(...e){return eF({[eR]:()=>({match:t=>{let i={},n=(e,t)=>{i[e]=t};return{matched:e.every(e=>eO(e,t,n)),selections:i}},getSelectionKeys:()=>e_(e,eC),matcherType:"and"})})}function ej(e){return{[eR]:()=>({match:t=>({matched:!!e(t)})})}}function eL(...e){let t="string"==typeof e[0]?e[0]:void 0,i=2===e.length?e[1]:"string"==typeof e[0]?void 0:e[0];return eF({[eR]:()=>({match:e=>{let n={[t??eD]:e};return{matched:void 0===i||eO(i,e,(e,t)=>{n[e]=t}),selections:n}},getSelectionKeys:()=>[t??eD].concat(void 0===i?[]:eC(i))})})}function eU(e){return"number"==typeof e}function eV(e){return"string"==typeof e}function eM(e){return"bigint"==typeof e}eF(ej(function(e){return!0}));var eG=e=>Object.assign(eF(e),{startsWith:t=>eG(e$(e,ej(e=>eV(e)&&e.startsWith(t)))),endsWith:t=>eG(e$(e,ej(e=>eV(e)&&e.endsWith(t)))),minLength:t=>eG(e$(e,ej(e=>eV(e)&&e.length>=t))),length:t=>eG(e$(e,ej(e=>eV(e)&&e.length===t))),maxLength:t=>eG(e$(e,ej(e=>eV(e)&&e.length<=t))),includes:t=>eG(e$(e,ej(e=>eV(e)&&e.includes(t)))),regex:t=>eG(e$(e,ej(e=>eV(e)&&!!e.match(t))))}),eB=(eG(ej(eV)),e=>Object.assign(eF(e),{between:(t,i)=>eB(e$(e,ej(e=>eU(e)&&t<=e&&i>=e))),lt:t=>eB(e$(e,ej(e=>eU(e)&&e<t))),gt:t=>eB(e$(e,ej(e=>eU(e)&&e>t))),lte:t=>eB(e$(e,ej(e=>eU(e)&&e<=t))),gte:t=>eB(e$(e,ej(e=>eU(e)&&e>=t))),int:()=>eB(e$(e,ej(e=>eU(e)&&Number.isInteger(e)))),finite:()=>eB(e$(e,ej(e=>eU(e)&&Number.isFinite(e)))),positive:()=>eB(e$(e,ej(e=>eU(e)&&e>0))),negative:()=>eB(e$(e,ej(e=>eU(e)&&e<0)))})),eH=(eB(ej(eU)),e=>Object.assign(eF(e),{between:(t,i)=>eH(e$(e,ej(e=>eM(e)&&t<=e&&i>=e))),lt:t=>eH(e$(e,ej(e=>eM(e)&&e<t))),gt:t=>eH(e$(e,ej(e=>eM(e)&&e>t))),lte:t=>eH(e$(e,ej(e=>eM(e)&&e<=t))),gte:t=>eH(e$(e,ej(e=>eM(e)&&e>=t))),positive:()=>eH(e$(e,ej(e=>eM(e)&&e>0))),negative:()=>eH(e$(e,ej(e=>eM(e)&&e<0)))}));eH(ej(eM)),eF(ej(function(e){return"boolean"==typeof e})),eF(ej(function(e){return"symbol"==typeof e})),eF(ej(function(e){return null==e})),eF(ej(function(e){return null!=e}));var eW=class extends Error{constructor(e){let t;try{t=JSON.stringify(e)}catch{t=e}super(`Pattern matching error: no pattern matches value ${t}`),this.input=void 0,this.input=e}},eK={matched:!1,value:void 0};function ez(e){return new eJ(e,eK)}var eJ=class e{constructor(e,t){this.input=void 0,this.state=void 0,this.input=e,this.state=t}with(...t){if(this.state.matched)return this;let i=t[t.length-1],n=[t[0]],r;3===t.length&&"function"==typeof t[1]?r=t[1]:t.length>2&&n.push(...t.slice(1,t.length-1));let a=!1,s={},l=(e,t)=>{a=!0,s[e]=t},o=n.some(e=>eO(e,this.input,l))&&(!r||r(this.input))?{matched:!0,value:i(a?eD in s?s[eD]:s:this.input,this.input)}:eK;return new e(this.input,o)}when(t,i){if(this.state.matched)return this;let n=!!t(this.input);return new e(this.input,n?{matched:!0,value:i(this.input,this.input)}:eK)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new eW(this.input)}run(){return this.exhaustive()}returnType(){return this}},eQ=i(57975),eY={warn:et("prisma:warn")},eZ={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function eX(e,...t){eZ.warn()&&console.warn(`${eY.warn} ${e}`,...t)}var e0=(0,eQ.promisify)(eP.default.exec),e1=eT("prisma:get-platform"),e2=["1.0.x","1.1.x","3.0.x"];async function e3(){let e=eI.default.platform(),t=process.arch;if("freebsd"===e){let e=await ta("freebsd-version");if(e&&e.trim().length>0){let i=/^(\d+)\.?/.exec(e);if(i)return{platform:"freebsd",targetDistro:`freebsd${i[1]}`,arch:t}}}if("linux"!==e)return{platform:e,arch:t};let i=await e5(),n=await ts(),r=ez({arch:t,archFromUname:n,familyDistro:i.familyDistro}).with({familyDistro:"musl"},()=>(e1('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:e})=>(e1('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${e}-linux-gnu`,`/lib/${e}-linux-gnu`])).with({familyDistro:"rhel"},()=>(e1('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:e,arch:t,archFromUname:i})=>(e1(`Don't know any platform-specific paths for "${e}" on ${t} (${i})`),[])),{libssl:a}=await e7(r);return{platform:"linux",libssl:a,arch:t,archFromUname:n,...i}}async function e5(){try{var e;let t,i,n,r;return e=await eA.default.readFile("/etc/os-release",{encoding:"utf-8"}),i=(t=/^ID="?([^"\n]*)"?$/im.exec(e))&&t[1]&&t[1].toLowerCase()||"",n=/^ID_LIKE="?([^"\n]*)"?$/im.exec(e),r=ez({id:i,idLike:n&&n[1]&&n[1].toLowerCase()||""}).with({id:"alpine"},({id:e})=>({targetDistro:"musl",familyDistro:e,originalDistro:e})).with({id:"raspbian"},({id:e})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:e})).with({id:"nixos"},({id:e})=>({targetDistro:"nixos",originalDistro:e,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:e})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:e})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:e})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:e})).when(({idLike:e})=>e.includes("debian")||e.includes("ubuntu"),({id:e})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:e})).when(({idLike:e})=>"arch"===i||e.includes("arch"),({id:e})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:e})).when(({idLike:e})=>e.includes("centos")||e.includes("fedora")||e.includes("rhel")||e.includes("suse"),({id:e})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:e})).otherwise(({id:e})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:e})),e1(`Found distro info:
${JSON.stringify(r,null,2)}`),r}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function e4(e){let t=/libssl\.so\.(\d)(\.\d)?/.exec(e);if(t)return e9(`${t[1]}${t[2]??".0"}.x`)}function e9(e){let t=(()=>{if(tl(e))return e;let t=e.split(".");return t[1]="0",t.join(".")})();if(e2.includes(t))return t}async function e7(e){let t=await e6(e);if(t){e1(`Found libssl.so file using platform-specific paths: ${t}`);let e=e4(t);if(e1(`The parsed libssl version is: ${e}`),e)return{libssl:e,strategy:"libssl-specific-path"}}e1('Falling back to "ldconfig" and other generic paths');let i=await ta('ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | grep -v "libssl.so.0"');if(i||(i=await e6(["/lib64","/usr/lib64","/lib","/usr/lib"])),i){e1(`Found libssl.so file using "ldconfig" or other generic paths: ${i}`);let e=e4(i);if(e1(`The parsed libssl version is: ${e}`),e)return{libssl:e,strategy:"ldconfig"}}let n=await ta("openssl version -v");if(n){e1(`Found openssl binary with version: ${n}`);let e=function(e){let t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);if(t)return e9(`${t[1]}.x`)}(n);if(e1(`The parsed openssl version is: ${e}`),e)return{libssl:e,strategy:"openssl-binary"}}return e1("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function e6(e){for(let t of e){let e=await e8(t);if(e)return e}}async function e8(e){try{return(await eA.default.readdir(e)).find(e=>e.startsWith("libssl.so.")&&!e.startsWith("libssl.so.0"))}catch(e){if("ENOENT"===e.code)return;throw e}}async function te(){let{binaryTarget:e}=await tn();return e}async function tt(){let{memoized:e,...t}=await tn();return t}var ti={};async function tn(){if(void 0!==ti.binaryTarget)return Promise.resolve({...ti,memoized:!0});let e=await e3(),t=function(e){let{platform:t,arch:i,archFromUname:n,libssl:r,targetDistro:a,familyDistro:s,originalDistro:l}=e;"linux"!==t||["x64","arm64"].includes(i)||eX(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${i}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${n}".`);let o="1.1.x";if("linux"===t&&void 0===r){let e=ez({familyDistro:s}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");eX(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${o}".
${e}`)}let u="debian";if("linux"===t&&void 0===a&&e1(`Distro is "${l}". Falling back to Prisma engines built for "${u}".`),"darwin"===t&&"arm64"===i)return"darwin-arm64";if("darwin"===t)return"darwin";if("win32"===t)return"windows";if("freebsd"===t)return a;if("openbsd"===t)return"openbsd";if("netbsd"===t)return"netbsd";if("linux"===t&&"nixos"===a)return"linux-nixos";if("linux"===t&&"arm64"===i)return`${"musl"===a?"linux-musl-arm64":"linux-arm64"}-openssl-${r||o}`;if("linux"===t&&"arm"===i)return`linux-arm-openssl-${r||o}`;if("linux"===t&&"musl"===a){let e="linux-musl";return!r||tl(r)?e:`${e}-openssl-${r}`}return"linux"===t&&a&&r?`${a}-openssl-${r}`:("linux"!==t&&eX(`Prisma detected unknown OS "${t}" and may not work as expected. Defaulting to "linux".`),r?`${u}-openssl-${r}`:a?`${a}-openssl-${o}`:`${u}-openssl-${o}`)}(e);return{...ti={...e,binaryTarget:t},memoized:!1}}async function tr(e){try{return await e()}catch{return}}function ta(e){return tr(async()=>{let t=await e0(e);return e1(`Command "${e}" successfully returned "${t.stdout}"`),t.stdout})}async function ts(){return"function"==typeof eI.default.machine?eI.default.machine():(await ta("uname -m"))?.trim()}function tl(e){return e.startsWith("1.")}var to={};c(to,{beep:()=>tM,clearScreen:()=>tj,clearTerminal:()=>tL,cursorBackward:()=>tw,cursorDown:()=>tv,cursorForward:()=>tb,cursorGetPosition:()=>tk,cursorHide:()=>tI,cursorLeft:()=>tx,cursorMove:()=>tg,cursorNextLine:()=>tP,cursorPrevLine:()=>tA,cursorRestorePosition:()=>tE,cursorSavePosition:()=>tT,cursorShow:()=>tR,cursorTo:()=>th,cursorUp:()=>ty,enterAlternativeScreen:()=>tU,eraseDown:()=>tO,eraseEndLine:()=>tD,eraseLine:()=>tq,eraseLines:()=>tN,eraseScreen:()=>t_,eraseStartLine:()=>tS,eraseUp:()=>tC,exitAlternativeScreen:()=>tV,iTerm:()=>tH,image:()=>tB,link:()=>tG,scrollDown:()=>t$,scrollUp:()=>tF});var tu=f(i(1708),1),td=globalThis.window?.document!==void 0,tc=(globalThis.process?.versions?.node,globalThis.process?.versions?.bun,globalThis.Deno?.version?.deno,globalThis.process?.versions?.electron,globalThis.navigator?.userAgent?.includes("jsdom"),"u">typeof WorkerGlobalScope&&WorkerGlobalScope,"u">typeof DedicatedWorkerGlobalScope&&DedicatedWorkerGlobalScope,"u">typeof SharedWorkerGlobalScope&&SharedWorkerGlobalScope,"u">typeof ServiceWorkerGlobalScope&&ServiceWorkerGlobalScope,globalThis.navigator?.userAgentData?.platform);"macOS"===tc||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform,"Windows"===tc||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform,"Linux"===tc||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform,"iOS"===tc||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),"Android"===tc||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform;var tm=!td&&"Apple_Terminal"===tu.default.env.TERM_PROGRAM,tf=!td&&"win32"===tu.default.platform,tp=td?()=>{throw Error("`process.cwd()` only works in Node.js, not the browser.")}:tu.default.cwd,th=(e,t)=>{if("number"!=typeof e)throw TypeError("The `x` argument is required");return"number"!=typeof t?"\x1b["+(e+1)+"G":"\x1b["+(t+1)+";"+(e+1)+"H"},tg=(e,t)=>{if("number"!=typeof e)throw TypeError("The `x` argument is required");let i="";return e<0?i+="\x1b["+-e+"D":e>0&&(i+="\x1b["+e+"C"),t<0?i+="\x1b["+-t+"A":t>0&&(i+="\x1b["+t+"B"),i},ty=(e=1)=>"\x1b["+e+"A",tv=(e=1)=>"\x1b["+e+"B",tb=(e=1)=>"\x1b["+e+"C",tw=(e=1)=>"\x1b["+e+"D",tx="\x1b[G",tT=tm?"\x1b7":"\x1b[s",tE=tm?"\x1b8":"\x1b[u",tk="\x1b[6n",tP="\x1b[E",tA="\x1b[F",tI="\x1b[?25l",tR="\x1b[?25h",tN=e=>{let t="";for(let i=0;i<e;i++)t+=tq+(i<e-1?ty():"");return e&&(t+=tx),t},tD="\x1b[K",tS="\x1b[1K",tq="\x1b[2K",tO="\x1b[J",tC="\x1b[1J",t_="\x1b[2J",tF="\x1b[S",t$="\x1b[T",tj="\x1bc",tL=tf?`${t_}\x1b[0f`:`${t_}\x1b[3J\x1b[H`,tU="\x1b[?1049h",tV="\x1b[?1049l",tM="\x07",tG=(e,t)=>["\x1b]","8",";",";",t,"\x07",e,"\x1b]","8",";",";","\x07"].join(""),tB=(e,t={})=>{let i=`\x1b]1337;File=inline=1`;return t.width&&(i+=`;width=${t.width}`),t.height&&(i+=`;height=${t.height}`),!1===t.preserveAspectRatio&&(i+=";preserveAspectRatio=0"),i+":"+Buffer.from(e).toString("base64")+"\x07"},tH={setCwd:(e=tp())=>`\x1b]50;CurrentDir=${e}\x07`,annotation(e,t={}){let i=`\x1b]1337;`,n=void 0!==t.x,r=void 0!==t.y;if((n||r)&&!(n&&r&&void 0!==t.length))throw Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replaceAll("|",""),i+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?i+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):i+=e,i+"\x07"}},tW=f(g(),1);function tK(e,t,{target:i="stdout",...n}={}){return tW.default[i]?to.link(e,t):!1===n.fallback?e:"function"==typeof n.fallback?n.fallback(e,t):`${e} (\u200B${t}\u200B)`}tK.isSupported=tW.default.stdout,tK.stderr=(e,t,i={})=>tK(e,t,{target:"stderr",...i}),tK.stderr.isSupported=tW.default.stderr;var tz=y().version;function tJ(e){var t;let i;return("library"===(i=process.env.PRISMA_CLIENT_ENGINE_TYPE)?"library":"binary"===i?"binary":"client"===i?"client":void 0)||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":e?.config.engineType==="client"?"client":(t=e,t?.previewFeatures.includes("queryCompiler")?"client":"library"))}f(b());var tQ=f(i(76760));f(b()),eT("prisma:engines"),tQ.default.join(__dirname,"../query-engine-darwin"),tQ.default.join(__dirname,"../query-engine-darwin-arm64"),tQ.default.join(__dirname,"../query-engine-debian-openssl-1.0.x"),tQ.default.join(__dirname,"../query-engine-debian-openssl-1.1.x"),tQ.default.join(__dirname,"../query-engine-debian-openssl-3.0.x"),tQ.default.join(__dirname,"../query-engine-linux-static-x64"),tQ.default.join(__dirname,"../query-engine-linux-static-arm64"),tQ.default.join(__dirname,"../query-engine-rhel-openssl-1.0.x"),tQ.default.join(__dirname,"../query-engine-rhel-openssl-1.1.x"),tQ.default.join(__dirname,"../query-engine-rhel-openssl-3.0.x"),tQ.default.join(__dirname,"../libquery_engine-darwin.dylib.node"),tQ.default.join(__dirname,"../libquery_engine-darwin-arm64.dylib.node"),tQ.default.join(__dirname,"../libquery_engine-debian-openssl-1.0.x.so.node"),tQ.default.join(__dirname,"../libquery_engine-debian-openssl-1.1.x.so.node"),tQ.default.join(__dirname,"../libquery_engine-debian-openssl-3.0.x.so.node"),tQ.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.0.x.so.node"),tQ.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.1.x.so.node"),tQ.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-3.0.x.so.node"),tQ.default.join(__dirname,"../libquery_engine-linux-musl.so.node"),tQ.default.join(__dirname,"../libquery_engine-linux-musl-openssl-3.0.x.so.node"),tQ.default.join(__dirname,"../libquery_engine-rhel-openssl-1.0.x.so.node"),tQ.default.join(__dirname,"../libquery_engine-rhel-openssl-1.1.x.so.node"),tQ.default.join(__dirname,"../libquery_engine-rhel-openssl-3.0.x.so.node"),tQ.default.join(__dirname,"../query_engine-windows.dll.node");var tY=f(i(73024)),tZ=eT("chmodPlusX"),tX=f(w(),1),t0="prisma+postgres:";function t1(e){return e?.toString().startsWith(`${t0}//`)??!1}var t2=f(x()),t3=class{constructor(e){this.config=e}toString(){var e;let t,{config:i}=this,n=JSON.parse(JSON.stringify({provider:i.provider.fromEnvVar?`env("${i.provider.fromEnvVar}")`:i.provider.value,binaryTargets:function(e){let t;if(e.length>0){let i=e.find(e=>null!==e.fromEnvVar);t=i?`env("${i.fromEnvVar}")`:e.map(e=>e.native?"native":e.value)}else t=void 0;return t}(i.binaryTargets)}));return`generator ${i.name} {
${(0,t2.default)((t=Object.keys(e=n).reduce((e,t)=>Math.max(e,t.length),0),Object.entries(e).map(([e,i])=>`${e.padEnd(t)} = ${JSON.parse(JSON.stringify(i,(e,t)=>Array.isArray(t)?`[${t.map(e=>JSON.stringify(e)).join(", ")}]`:JSON.stringify(t)))}`).join(`
`)),2)}
}`}},t5={};c(t5,{error:()=>ie,info:()=>t8,log:()=>t7,query:()=>it,should:()=>t9,tags:()=>t4,warn:()=>t6});var t4={error:X("prisma:error"),warn:et("prisma:warn"),info:er("prisma:info"),query:ei("prisma:query")},t9={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function t7(...e){console.log(...e)}function t6(e,...t){t9.warn()&&console.warn(`${t4.warn} ${e}`,...t)}function t8(e,...t){console.info(`${t4.info} ${e}`,...t)}function ie(e,...t){console.error(`${t4.error} ${e}`,...t)}function it(e,...t){console.log(`${t4.query} ${e}`,...t)}function ii(e,t){if(!e)throw Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function ir(e,t){throw Error(t)}var ia=f(i(76760)),is=f(P()),il=f(i(73024)),io=f(i(76760)),iu=eT("prisma:tryLoadEnv");function id({rootEnvPath:e,schemaEnvPath:t},i={conflictCheck:"none"}){let n=ic(e);"none"!==i.conflictCheck&&function(e,t,i){let n=e?.dotenvResult.parsed,r=!im(e?.path,t);if(n&&t&&r&&il.default.existsSync(t)){let r=is.default.parse(il.default.readFileSync(t)),a=[];for(let e in r)n[e]===r[e]&&a.push(e);if(a.length>0){let n=io.default.relative(process.cwd(),e.path),r=io.default.relative(process.cwd(),t);if("error"===i)throw Error(`There is a conflict between env var${a.length>1?"s":""} in ${z(n)} and ${z(r)}
Conflicting env vars:
${a.map(e=>`  ${H(e)}`).join(`
`)}

We suggest to move the contents of ${z(r)} to ${z(n)} to consolidate your env vars.
`);if("warn"===i){let e=`Conflict for env var${a.length>1?"s":""} ${a.map(e=>H(e)).join(", ")} in ${z(n)} and ${z(r)}
Env vars from ${z(r)} overwrite the ones from ${z(n)}
      `;console.warn(`${et("warn(prisma)")} ${e}`)}}}}(n,t,i.conflictCheck);let r=null;return im(n?.path,t)||(r=ic(t)),n||r||iu("No Environment variables loaded"),r?.dotenvResult.error?console.error(X(H("Schema Env Error: "))+r.dotenvResult.error):{message:[n?.message,r?.message].filter(Boolean).join(`
`),parsed:{...n?.dotenvResult?.parsed,...r?.dotenvResult?.parsed}}}function ic(e){var t;return(t=e)&&il.default.existsSync(t)?(iu(`Environment variables loaded from ${e}`),{dotenvResult:function(e){let t=e.ignoreProcessEnv?{}:process.env,i=n=>n.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(n,r){let a=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(r);if(!a)return n;let s=a[1],l,o;if("\\"===s)l=(o=a[0]).replace("\\$","$");else{let n=a[2];o=a[0].substring(s.length),l=i(l=Object.hasOwnProperty.call(t,n)?t[n]:e.parsed[n]||"")}return n.replace(o,l)},n)??n;for(let n in e.parsed){let r=Object.hasOwnProperty.call(t,n)?t[n]:e.parsed[n];e.parsed[n]=i(r)}for(let i in e.parsed)t[i]=e.parsed[i];return e}(is.default.config({path:e,debug:!!process.env.DOTENV_CONFIG_DEBUG||void 0})),message:W(`Environment variables loaded from ${io.default.relative(process.cwd(),e)}`),path:e}):(iu(`Environment variables not found at ${e}`),null)}function im(e,t){return e&&t&&io.default.resolve(e)===io.default.resolve(t)}function ip(e,t){let i={};for(let n of Object.keys(e))i[n]=t(e[n],n);return i}function ih(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var ig=new Set,iy=(e,t,...i)=>{ig.has(e)||(ig.add(e),t6(t,...i))},iv=class e extends Error{constructor(t,i,n){super(t),this.name="PrismaClientInitializationError",this.clientVersion=i,this.errorCode=n,Error.captureStackTrace(e)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};ih(iv,"PrismaClientInitializationError");var ib=class extends Error{constructor(e,{code:t,clientVersion:i,meta:n,batchRequestIdx:r}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=i,this.meta=n,Object.defineProperty(this,"batchRequestIdx",{value:r,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};ih(ib,"PrismaClientKnownRequestError");var iw=class extends Error{constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};ih(iw,"PrismaClientRustPanicError");var ix=class extends Error{constructor(e,{clientVersion:t,batchRequestIdx:i}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:i,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};ih(ix,"PrismaClientUnknownRequestError");var iT=class extends Error{constructor(e,{clientVersion:t}){super(e),this.name="PrismaClientValidationError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};ih(iT,"PrismaClientValidationError");var iE,ik,iP="0123456789abcdef",iA="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",iI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",iR={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},iN=!0,iD="[DecimalError] ",iS=iD+"Invalid argument: ",iq=iD+"Precision limit exceeded",iO=iD+"crypto unavailable",iC="[object Decimal]",i_=Math.floor,iF=Math.pow,i$=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ij=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,iL=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,iU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,iV=iA.length-1,iM=iI.length-1,iG={toStringTag:iC};function iB(e){var t,i,n,r=e.length-1,a="",s=e[0];if(r>0){for(a+=s,t=1;t<r;t++)(i=7-(n=e[t]+"").length)&&(a+=i1(i)),a+=n;(i=7-(n=(s=e[t])+"").length)&&(a+=i1(i))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}function iH(e,t,i){if(e!==~~e||e<t||e>i)throw Error(iS+e)}function iW(e,t,i,n){var r,a,s,l;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,r=0):(r=Math.ceil((t+1)/7),t%=7),a=iF(10,7-t),l=e[r]%a|0,null==n?t<3?(0==t?l=l/100|0:1==t&&(l=l/10|0),s=i<4&&99999==l||i>3&&49999==l||5e4==l||0==l):s=(i<4&&l+1==a||i>3&&l+1==a/2)&&(e[r+1]/a/100|0)==iF(10,t-2)-1||(l==a/2||0==l)&&(e[r+1]/a/100|0)==0:t<4?(0==t?l=l/1e3|0:1==t?l=l/100|0:2==t&&(l=l/10|0),s=(n||i<4)&&9999==l||!n&&i>3&&4999==l):s=((n||i<4)&&l+1==a||!n&&i>3&&l+1==a/2)&&(e[r+1]/a/1e3|0)==iF(10,t-3)-1,s}function iK(e,t,i){for(var n,r,a=[0],s=0,l=e.length;s<l;){for(r=a.length;r--;)a[r]*=t;for(a[0]+=iP.indexOf(e.charAt(s++)),n=0;n<a.length;n++)a[n]>i-1&&(void 0===a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/i|0,a[n]%=i)}return a.reverse()}iG.absoluteValue=iG.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),iJ(e)},iG.ceil=function(){return iJ(new this.constructor(this),this.e+1,2)},iG.clampedTo=iG.clamp=function(e,t){var i=this.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(iS+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new i(this)},iG.comparedTo=iG.cmp=function(e){var t,i,n,r,a=this.d,s=(e=new this.constructor(e)).d,l=this.s,o=e.s;if(!a||!s)return l&&o?l!==o?l:a===s?0:!a^l<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?l:s[0]?-o:0;if(l!==o)return l;if(this.e!==e.e)return this.e>e.e^l<0?1:-1;for(n=a.length,r=s.length,t=0,i=n<r?n:r;t<i;++t)if(a[t]!==s[t])return a[t]>s[t]^l<0?1:-1;return n===r?0:n>r^l<0?1:-1},iG.cosine=iG.cos=function(){var e,t,i=this,n=i.constructor;return i.d?i.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(i.e,i.sd())+7,n.rounding=1,i=function(e,t){var i,n,r;if(t.isZero())return t;(n=t.d.length)<32?r=(1/ne(4,i=Math.ceil(n/3))).toString():(i=16,r="2.3283064365386962890625e-10"),e.precision+=i,t=i8(e,1,t.times(r),new e(1));for(var a=i;a--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=i,t}(n,nt(n,i)),n.precision=e,n.rounding=t,iJ(2==ik||3==ik?i.neg():i,e,t,!0)):new n(1):new n(NaN)},iG.cubeRoot=iG.cbrt=function(){var e,t,i,n,r,a,s,l,o,u,d=this.constructor;if(!this.isFinite()||this.isZero())return new d(this);for(iN=!1,(a=this.s*iF(this.s*this,1/3))&&Math.abs(a)!=1/0?n=new d(a.toString()):(i=iB(this.d),(a=((e=this.e)-i.length+1)%3)&&(i+=1==a||-2==a?"0":"00"),a=iF(i,1/3),e=i_((e+1)/3)-(e%3==(e<0?-1:2)),(n=new d(i=a==1/0?"5e"+e:(i=a.toExponential()).slice(0,i.indexOf("e")+1)+e)).s=this.s),s=(e=d.precision)+3;;)if(n=iz((u=(o=(l=n).times(l).times(l)).plus(this)).plus(this).times(l),u.plus(o),s+2,1),iB(l.d).slice(0,s)===(i=iB(n.d)).slice(0,s))if("9999"!=(i=i.slice(s-3,s+1))&&(r||"4999"!=i)){+i&&(+i.slice(1)||"5"!=i.charAt(0))||(iJ(n,e+1,1),t=!n.times(n).times(n).eq(this));break}else{if(!r&&(iJ(l,e+1,0),l.times(l).times(l).eq(this))){n=l;break}s+=4,r=1}return iN=!0,iJ(n,e,d.rounding,t)},iG.decimalPlaces=iG.dp=function(){var e,t=this.d,i=NaN;if(t){if(i=((e=t.length-1)-i_(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)i--;i<0&&(i=0)}return i},iG.dividedBy=iG.div=function(e){return iz(this,new this.constructor(e))},iG.dividedToIntegerBy=iG.divToInt=function(e){var t=this.constructor;return iJ(iz(this,new t(e),0,1,1),t.precision,t.rounding)},iG.equals=iG.eq=function(e){return 0===this.cmp(e)},iG.floor=function(){return iJ(new this.constructor(this),this.e+1,3)},iG.greaterThan=iG.gt=function(e){return this.cmp(e)>0},iG.greaterThanOrEqualTo=iG.gte=function(e){var t=this.cmp(e);return 1==t||0===t},iG.hyperbolicCosine=iG.cosh=function(){var e,t,i,n,r,a=this,s=a.constructor,l=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return l;i=s.precision,n=s.rounding,s.precision=i+Math.max(a.e,a.sd())+4,s.rounding=1,(r=a.d.length)<32?t=(1/ne(4,e=Math.ceil(r/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=i8(s,1,a.times(t),new s(1),!0);for(var o,u=e,d=new s(8);u--;)o=a.times(a),a=l.minus(o.times(d.minus(o.times(d))));return iJ(a,s.precision=i,s.rounding=n,!0)},iG.hyperbolicSine=iG.sinh=function(){var e,t,i,n,r=this,a=r.constructor;if(!r.isFinite()||r.isZero())return new a(r);if(t=a.precision,i=a.rounding,a.precision=t+Math.max(r.e,r.sd())+4,a.rounding=1,(n=r.d.length)<3)r=i8(a,2,r,r,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,r=i8(a,2,r=r.times(1/ne(5,e)),r,!0);for(var s,l=new a(5),o=new a(16),u=new a(20);e--;)s=r.times(r),r=r.times(l.plus(s.times(o.times(s).plus(u))))}return a.precision=t,a.rounding=i,iJ(r,t,i,!0)},iG.hyperbolicTangent=iG.tanh=function(){var e,t,i=this.constructor;return this.isFinite()?this.isZero()?new i(this):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,iz(this.sinh(),this.cosh(),i.precision=e,i.rounding=t)):new i(this.s)},iG.inverseCosine=iG.acos=function(){var e=this,t=e.constructor,i=e.abs().cmp(1),n=t.precision,r=t.rounding;return -1!==i?0===i?e.isNeg()?iX(t,n,r):new t(0):new t(NaN):e.isZero()?iX(t,n+4,r).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=r,e.times(2))},iG.inverseHyperbolicCosine=iG.acosh=function(){var e,t,i=this,n=i.constructor;return i.lte(1)?new n(i.eq(1)?0:NaN):i.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(i.e),i.sd())+4,n.rounding=1,iN=!1,i=i.times(i).minus(1).sqrt().plus(i),iN=!0,n.precision=e,n.rounding=t,i.ln()):new n(i)},iG.inverseHyperbolicSine=iG.asinh=function(){var e,t,i=this,n=i.constructor;return!i.isFinite()||i.isZero()?new n(i):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(i.e),i.sd())+6,n.rounding=1,iN=!1,i=i.times(i).plus(1).sqrt().plus(i),iN=!0,n.precision=e,n.rounding=t,i.ln())},iG.inverseHyperbolicTangent=iG.atanh=function(){var e,t,i,n,r=this,a=r.constructor;return r.isFinite()?r.e>=0?new a(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(e=a.precision,t=a.rounding,Math.max(n=r.sd(),e)<-(2*r.e)-1?iJ(new a(r),e,t,!0):(a.precision=i=n-r.e,r=iz(r.plus(1),new a(1).minus(r),i+e,1),a.precision=e+4,a.rounding=1,r=r.ln(),a.precision=e,a.rounding=t,r.times(.5))):new a(NaN)},iG.inverseSine=iG.asin=function(){var e,t,i,n,r=this,a=r.constructor;return r.isZero()?new a(r):(t=r.abs().cmp(1),i=a.precision,n=a.rounding,-1!==t?0===t?((e=iX(a,i+4,n).times(.5)).s=r.s,e):new a(NaN):(a.precision=i+6,a.rounding=1,r=r.div(new a(1).minus(r.times(r)).sqrt().plus(1)).atan(),a.precision=i,a.rounding=n,r.times(2)))},iG.inverseTangent=iG.atan=function(){var e,t,i,n,r,a,s,l,o,u=this,d=u.constructor,c=d.precision,m=d.rounding;if(u.isFinite()){if(u.isZero())return new d(u);if(u.abs().eq(1)&&c+4<=iM)return(s=iX(d,c+4,m).times(.25)).s=u.s,s}else{if(!u.s)return new d(NaN);if(c+4<=iM)return(s=iX(d,c+4,m).times(.5)).s=u.s,s}for(d.precision=l=c+10,d.rounding=1,e=i=Math.min(28,l/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(iN=!1,t=Math.ceil(l/7),n=1,o=u.times(u),s=new d(u),r=u;-1!==e;)if(r=r.times(o),a=s.minus(r.div(n+=2)),r=r.times(o),void 0!==(s=a.plus(r.div(n+=2))).d[t])for(e=t;s.d[e]===a.d[e]&&e--;);return i&&(s=s.times(2<<i-1)),iN=!0,iJ(s,d.precision=c,d.rounding=m,!0)},iG.isFinite=function(){return!!this.d},iG.isInteger=iG.isInt=function(){return!!this.d&&i_(this.e/7)>this.d.length-2},iG.isNaN=function(){return!this.s},iG.isNegative=iG.isNeg=function(){return this.s<0},iG.isPositive=iG.isPos=function(){return this.s>0},iG.isZero=function(){return!!this.d&&0===this.d[0]},iG.lessThan=iG.lt=function(e){return 0>this.cmp(e)},iG.lessThanOrEqualTo=iG.lte=function(e){return 1>this.cmp(e)},iG.logarithm=iG.log=function(e){var t,i,n,r,a,s,l,o,u=this.constructor,d=u.precision,c=u.rounding;if(null==e)e=new u(10),t=!0;else{if(i=(e=new u(e)).d,e.s<0||!i||!i[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(i=this.d,this.s<0||!i||!i[0]||this.eq(1))return new u(i&&!i[0]?-1/0:1!=this.s?NaN:i?0:1/0);if(t)if(i.length>1)a=!0;else{for(r=i[0];r%10==0;)r/=10;a=1!==r}if(iN=!1,iW((o=iz(s=i9(this,l=d+5),t?iZ(u,l+10):i9(e,l),l,1)).d,r=d,c))do if(l+=10,o=iz(s=i9(this,l),t?iZ(u,l+10):i9(e,l),l,1),!a){+iB(o.d).slice(r+1,r+15)+1==1e14&&(o=iJ(o,d+1,0));break}while(iW(o.d,r+=10,c));return iN=!0,iJ(o,d,c)},iG.minus=iG.sub=function(e){var t,i,n,r,a,s,l,o,u,d,c,m,f=this.constructor;if(e=new f(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new f(e.d||this.s!==e.s?this:NaN):e=new f(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(u=this.d,m=e.d,l=f.precision,o=f.rounding,!u[0]||!m[0]){if(m[0])e.s=-e.s;else{if(!u[0])return new f(3===o?-0:0);e=new f(this)}return iN?iJ(e,l,o):e}if(i=i_(e.e/7),d=i_(this.e/7),u=u.slice(),a=d-i){for((c=a<0)?(t=u,a=-a,s=m.length):(t=m,i=d,s=u.length),a>(n=Math.max(Math.ceil(l/7),s)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((c=(n=u.length)<(s=m.length))&&(s=n),n=0;n<s;n++)if(u[n]!=m[n]){c=u[n]<m[n];break}a=0}for(c&&(t=u,u=m,m=t,e.s=-e.s),s=u.length,n=m.length-s;n>0;--n)u[s++]=0;for(n=m.length;n>a;){if(u[--n]<m[n]){for(r=n;r&&0===u[--r];)u[r]=1e7-1;--u[r],u[n]+=1e7}u[n]-=m[n]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--i;return u[0]?(e.d=u,e.e=iY(u,i),iN?iJ(e,l,o):e):new f(3===o?-0:0)},iG.modulo=iG.mod=function(e){var t,i=this.constructor;return e=new i(e),this.d&&e.s&&(!e.d||e.d[0])?e.d&&(!this.d||this.d[0])?(iN=!1,9==i.modulo?(t=iz(this,e.abs(),0,3,1),t.s*=e.s):t=iz(this,e,0,i.modulo,1),t=t.times(e),iN=!0,this.minus(t)):iJ(new i(this),i.precision,i.rounding):new i(NaN)},iG.naturalExponential=iG.exp=function(){return i4(this)},iG.naturalLogarithm=iG.ln=function(){return i9(this)},iG.negated=iG.neg=function(){var e=new this.constructor(this);return e.s=-e.s,iJ(e)},iG.plus=iG.add=function(e){var t,i,n,r,a,s,l,o,u,d,c=this.constructor;if(e=new c(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new c(e.d||this.s===e.s?this:NaN)):e=new c(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(u=this.d,d=e.d,l=c.precision,o=c.rounding,!u[0]||!d[0])return d[0]||(e=new c(this)),iN?iJ(e,l,o):e;if(a=i_(this.e/7),n=i_(e.e/7),u=u.slice(),r=a-n){for(r<0?(i=u,r=-r,s=d.length):(i=d,n=a,s=u.length),r>(s=(a=Math.ceil(l/7))>s?a+1:s+1)&&(r=s,i.length=1),i.reverse();r--;)i.push(0);i.reverse()}for((s=u.length)-(r=d.length)<0&&(r=s,i=d,d=u,u=i),t=0;r;)t=(u[--r]=u[r]+d[r]+t)/1e7|0,u[r]%=1e7;for(t&&(u.unshift(t),++n),s=u.length;0==u[--s];)u.pop();return e.d=u,e.e=iY(u,n),iN?iJ(e,l,o):e},iG.precision=iG.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(iS+e);return this.d?(t=i0(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},iG.round=function(){var e=this.constructor;return iJ(new e(this),this.e+1,e.rounding)},iG.sine=iG.sin=function(){var e,t,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(e=n.precision,t=n.rounding,n.precision=e+Math.max(i.e,i.sd())+7,n.rounding=1,i=function(e,t){var i,n=t.d.length;if(n<3)return t.isZero()?t:i8(e,2,t,t);i=(i=1.4*Math.sqrt(n))>16?16:0|i,t=i8(e,2,t=t.times(1/ne(5,i)),t);for(var r,a=new e(5),s=new e(16),l=new e(20);i--;)r=t.times(t),t=t.times(a.plus(r.times(s.times(r).minus(l))));return t}(n,nt(n,i)),n.precision=e,n.rounding=t,iJ(ik>2?i.neg():i,e,t,!0)):new n(NaN)},iG.squareRoot=iG.sqrt=function(){var e,t,i,n,r,a,s=this.d,l=this.e,o=this.s,u=this.constructor;if(1!==o||!s||!s[0])return new u(!o||o<0&&(!s||s[0])?NaN:s?this:1/0);for(iN=!1,0==(o=Math.sqrt(+this))||o==1/0?(((t=iB(s)).length+l)%2==0&&(t+="0"),o=Math.sqrt(t),l=i_((l+1)/2)-(l<0||l%2),n=new u(t=o==1/0?"5e"+l:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new u(o.toString()),i=(l=u.precision)+3;;)if(n=(a=n).plus(iz(this,a,i+2,1)).times(.5),iB(a.d).slice(0,i)===(t=iB(n.d)).slice(0,i))if("9999"!=(t=t.slice(i-3,i+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(iJ(n,l+1,1),e=!n.times(n).eq(this));break}else{if(!r&&(iJ(a,l+1,0),a.times(a).eq(this))){n=a;break}i+=4,r=1}return iN=!0,iJ(n,l,u.rounding,e)},iG.tangent=iG.tan=function(){var e,t,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(i=i.sin()).s=1,i=iz(i,new n(1).minus(i.times(i)).sqrt(),e+10,0),n.precision=e,n.rounding=t,iJ(2==ik||4==ik?i.neg():i,e,t,!0)):new n(NaN)},iG.times=iG.mul=function(e){var t,i,n,r,a,s,l,o,u,d=this.constructor,c=this.d,m=(e=new d(e)).d;if(e.s*=this.s,!c||!c[0]||!m||!m[0])return new d(e.s&&(!c||c[0]||m)&&(!m||m[0]||c)?c&&m?0*e.s:e.s/0:NaN);for(i=i_(this.e/7)+i_(e.e/7),(o=c.length)<(u=m.length)&&(a=c,c=m,m=a,s=o,o=u,u=s),a=[],n=s=o+u;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,r=o+n;r>n;)l=a[r]+m[n]*c[r-n-1]+t,a[r--]=l%1e7|0,t=l/1e7|0;a[r]=(a[r]+t)%1e7|0}for(;!a[--s];)a.pop();return t?++i:a.shift(),e.d=a,e.e=iY(a,i),iN?iJ(e,d.precision,d.rounding):e},iG.toBinary=function(e,t){return ni(this,2,e,t)},iG.toDecimalPlaces=iG.toDP=function(e,t){var i=this,n=i.constructor;return i=new n(i),void 0===e?i:(iH(e,0,1e9),void 0===t?t=n.rounding:iH(t,0,8),iJ(i,e+i.e+1,t))},iG.toExponential=function(e,t){var i,n=this,r=n.constructor;return void 0===e?i=iQ(n,!0):(iH(e,0,1e9),void 0===t?t=r.rounding:iH(t,0,8),i=iQ(n=iJ(new r(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+i:i},iG.toFixed=function(e,t){var i,n,r=this.constructor;return void 0===e?i=iQ(this):(iH(e,0,1e9),void 0===t?t=r.rounding:iH(t,0,8),i=iQ(n=iJ(new r(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+i:i},iG.toFraction=function(e){var t,i,n,r,a,s,l,o,u,d,c,m,f=this.d,p=this.constructor;if(!f)return new p(this);if(u=i=new p(1),n=o=new p(0),s=(a=(t=new p(n)).e=i0(f)-this.e-1)%7,t.d[0]=iF(10,s<0?7+s:s),null==e)e=a>0?t:u;else{if(!(l=new p(e)).isInt()||l.lt(u))throw Error(iS+l);e=l.gt(t)?a>0?t:u:l}for(iN=!1,l=new p(iB(f)),d=p.precision,p.precision=a=7*f.length*2;c=iz(l,t,0,1,1),1!=(r=i.plus(c.times(n))).cmp(e);)i=n,n=r,r=u,u=o.plus(c.times(r)),o=r,r=t,t=l.minus(c.times(r)),l=r;return r=iz(e.minus(i),n,0,1,1),o=o.plus(r.times(u)),i=i.plus(r.times(n)),o.s=u.s=this.s,m=1>iz(u,n,a,1).minus(this).abs().cmp(iz(o,i,a,1).minus(this).abs())?[u,n]:[o,i],p.precision=d,iN=!0,m},iG.toHexadecimal=iG.toHex=function(e,t){return ni(this,16,e,t)},iG.toNearest=function(e,t){var i=this,n=i.constructor;if(i=new n(i),null==e){if(!i.d)return i;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:iH(t,0,8),!i.d)return e.s?i:e;if(!e.d)return e.s&&(e.s=i.s),e}return e.d[0]?(iN=!1,i=iz(i,e,0,t,1).times(e),iN=!0,iJ(i)):(e.s=i.s,i=e),i},iG.toNumber=function(){return+this},iG.toOctal=function(e,t){return ni(this,8,e,t)},iG.toPower=iG.pow=function(e){var t,i,n,r,a,s,l=this,o=l.constructor,u=+(e=new o(e));if(!l.d||!e.d||!l.d[0]||!e.d[0])return new o(iF(+l,u));if((l=new o(l)).eq(1))return l;if(n=o.precision,a=o.rounding,e.eq(1))return iJ(l,n,a);if((t=i_(e.e/7))>=e.d.length-1&&(i=u<0?-u:u)<=0x1fffffffffffff)return r=i2(o,l,i,n),e.s<0?new o(1).div(r):iJ(r,n,a);if((s=l.s)<0){if(t<e.d.length-1)return new o(NaN);if((1&e.d[t])==0&&(s=1),0==l.e&&1==l.d[0]&&1==l.d.length)return l.s=s,l}return(t=0!=(i=iF(+l,u))&&isFinite(i)?new o(i+"").e:i_(u*(Math.log("0."+iB(l.d))/Math.LN10+l.e+1)))>o.maxE+1||t<o.minE-1?new o(t>0?s/0:0):(iN=!1,o.rounding=l.s=1,i=Math.min(12,(t+"").length),(r=i4(e.times(i9(l,n+i)),n)).d&&iW((r=iJ(r,n+5,1)).d,n,a)&&(t=n+10,+iB((r=iJ(i4(e.times(i9(l,t+i)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(r=iJ(r,n+1,0))),r.s=s,iN=!0,o.rounding=a,iJ(r,n,a))},iG.toPrecision=function(e,t){var i,n=this,r=n.constructor;return void 0===e?i=iQ(n,n.e<=r.toExpNeg||n.e>=r.toExpPos):(iH(e,1,1e9),void 0===t?t=r.rounding:iH(t,0,8),i=iQ(n=iJ(new r(n),e,t),e<=n.e||n.e<=r.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+i:i},iG.toSignificantDigits=iG.toSD=function(e,t){var i=this.constructor;return void 0===e?(e=i.precision,t=i.rounding):(iH(e,1,1e9),void 0===t?t=i.rounding:iH(t,0,8)),iJ(new i(this),e,t)},iG.toString=function(){var e=this.constructor,t=iQ(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},iG.truncated=iG.trunc=function(){return iJ(new this.constructor(this),this.e+1,1)},iG.valueOf=iG.toJSON=function(){var e=this.constructor,t=iQ(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var iz=function(){function e(e,t,i){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%i|0,r=n/i|0;return r&&e.unshift(r),e}function t(e,t,i,n){var r,a;if(i!=n)a=i>n?1:-1;else for(r=a=0;r<i;r++)if(e[r]!=t[r]){a=e[r]>t[r]?1:-1;break}return a}function i(e,t,i,n){for(var r=0;i--;)e[i]-=r,r=+(e[i]<t[i]),e[i]=r*n+e[i]-t[i];for(;!e[0]&&e.length>1;)e.shift()}return function(n,r,a,s,l,o){var u,d,c,m,f,p,h,g,y,v,b,w,x,T,E,k,P,A,I,R,N=n.constructor,D=n.s==r.s?1:-1,S=n.d,q=r.d;if(!S||!S[0]||!q||!q[0])return new N(n.s&&r.s&&(S?!q||S[0]!=q[0]:q)?S&&0==S[0]||!q?0*D:D/0:NaN);for(o?(f=1,d=n.e-r.e):(o=1e7,f=7,d=i_(n.e/f)-i_(r.e/f)),I=q.length,P=S.length,v=(y=new N(D)).d=[],c=0;q[c]==(S[c]||0);c++);if(q[c]>(S[c]||0)&&d--,null==a?(T=a=N.precision,s=N.rounding):T=l?a+(n.e-r.e)+1:a,T<0)v.push(1),p=!0;else{if(T=T/f+2|0,c=0,1==I){for(m=0,q=q[0],T++;(c<P||m)&&T--;c++)E=m*o+(S[c]||0),v[c]=E/q|0,m=E%q|0;p=m||c<P}else{for((m=o/(q[0]+1)|0)>1&&(q=e(q,m,o),S=e(S,m,o),I=q.length,P=S.length),k=I,w=(b=S.slice(0,I)).length;w<I;)b[w++]=0;(R=q.slice()).unshift(0),A=q[0],q[1]>=o/2&&++A;do m=0,(u=t(q,b,I,w))<0?(x=b[0],I!=w&&(x=x*o+(b[1]||0)),(m=x/A|0)>1?(m>=o&&(m=o-1),g=(h=e(q,m,o)).length,w=b.length,1==(u=t(h,b,g,w))&&(m--,i(h,I<g?R:q,g,o))):(0==m&&(u=m=1),h=q.slice()),(g=h.length)<w&&h.unshift(0),i(b,h,w,o),-1==u&&(w=b.length,(u=t(q,b,I,w))<1&&(m++,i(b,I<w?R:q,w,o))),w=b.length):0===u&&(m++,b=[0]),v[c++]=m,u&&b[0]?b[w++]=S[k]||0:(b=[S[k]],w=1);while((k++<P||void 0!==b[0])&&T--);p=void 0!==b[0]}v[0]||v.shift()}if(1==f)y.e=d,iE=p;else{for(c=1,m=v[0];m>=10;m/=10)c++;y.e=c+d*f-1,iJ(y,l?a+y.e+1:a,s,p)}return y}}();function iJ(e,t,i,n){var r,a,s,l,o,u,d,c,m,f=e.constructor;e:if(null!=t){if(!(c=e.d))return e;for(r=1,l=c[0];l>=10;l/=10)r++;if((a=t-r)<0)a+=7,s=t,o=(d=c[m=0])/iF(10,r-s-1)%10|0;else if((m=Math.ceil((a+1)/7))>=(l=c.length))if(n){for(;l++<=m;)c.push(0);d=o=0,r=1,a%=7,s=a-7+1}else break e;else{for(d=l=c[m],r=1;l>=10;l/=10)r++;a%=7,o=(s=a-7+r)<0?0:d/iF(10,r-s-1)%10|0}if(n=n||t<0||void 0!==c[m+1]||(s<0?d:d%iF(10,r-s-1)),u=i<4?(o||n)&&(0==i||i==(e.s<0?3:2)):o>5||5==o&&(4==i||n||6==i&&(a>0?s>0?d/iF(10,r-s):0:c[m-1])%10&1||i==(e.s<0?8:7)),t<1||!c[0])return c.length=0,u?(t-=e.e+1,c[0]=iF(10,(7-t%7)%7),e.e=-t||0):c[0]=e.e=0,e;if(0==a?(c.length=m,l=1,m--):(c.length=m+1,l=iF(10,7-a),c[m]=s>0?(d/iF(10,r-s)%iF(10,s)|0)*l:0),u)for(;;)if(0==m){for(a=1,s=c[0];s>=10;s/=10)a++;for(s=c[0]+=l,l=1;s>=10;s/=10)l++;a!=l&&(e.e++,1e7==c[0]&&(c[0]=1));break}else{if(c[m]+=l,1e7!=c[m])break;c[m--]=0,l=1}for(a=c.length;0===c[--a];)c.pop()}return iN&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function iQ(e,t,i){if(!e.isFinite())return i7(e);var n,r=e.e,a=iB(e.d),s=a.length;return t?(i&&(n=i-s)>0?a=a.charAt(0)+"."+a.slice(1)+i1(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):r<0?(a="0."+i1(-r-1)+a,i&&(n=i-s)>0&&(a+=i1(n))):r>=s?(a+=i1(r+1-s),i&&(n=i-r-1)>0&&(a=a+"."+i1(n))):((n=r+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),i&&(n=i-s)>0&&(r+1===s&&(a+="."),a+=i1(n))),a}function iY(e,t){var i=e[0];for(t*=7;i>=10;i/=10)t++;return t}function iZ(e,t,i){if(t>iV)throw iN=!0,i&&(e.precision=i),Error(iq);return iJ(new e(iA),t,1,!0)}function iX(e,t,i){if(t>iM)throw Error(iq);return iJ(new e(iI),t,i,!0)}function i0(e){var t=e.length-1,i=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)i--;for(t=e[0];t>=10;t/=10)i++}return i}function i1(e){for(var t="";e--;)t+="0";return t}function i2(e,t,i,n){var r,a=new e(1),s=Math.ceil(n/7+4);for(iN=!1;;){if(i%2&&nn((a=a.times(t)).d,s)&&(r=!0),0===(i=i_(i/2))){i=a.d.length-1,r&&0===a.d[i]&&++a.d[i];break}nn((t=t.times(t)).d,s)}return iN=!0,a}function i3(e){return 1&e.d[e.d.length-1]}function i5(e,t,i){for(var n,r,a=new e(t[0]),s=0;++s<t.length;){if(!(r=new e(t[s])).s){a=r;break}((n=a.cmp(r))===i||0===n&&a.s===i)&&(a=r)}return a}function i4(e,t){var i,n,r,a,s,l,o,u=0,d=0,c=0,m=e.constructor,f=m.rounding,p=m.precision;if(!e.d||!e.d[0]||e.e>17)return new m(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(iN=!1,o=p):o=t,l=new m(.03125);e.e>-2;)e=e.times(l),c+=5;for(o+=n=Math.log(iF(2,c))/Math.LN10*2+5|0,i=a=s=new m(1),m.precision=o;;){if(a=iJ(a.times(e),o,1),i=i.times(++d),iB((l=s.plus(iz(a,i,o,1))).d).slice(0,o)===iB(s.d).slice(0,o)){for(r=c;r--;)s=iJ(s.times(s),o,1);if(null!=t)return m.precision=p,s;if(!(u<3&&iW(s.d,o-n,f,u)))return iJ(s,m.precision=p,f,iN=!0);m.precision=o+=10,i=a=l=new m(1),d=0,u++}s=l}}function i9(e,t){var i,n,r,a,s,l,o,u,d,c,m,f=1,p=e,h=p.d,g=p.constructor,y=g.rounding,v=g.precision;if(p.s<0||!h||!h[0]||!p.e&&1==h[0]&&1==h.length)return new g(h&&!h[0]?-1/0:1!=p.s?NaN:h?0:p);if(null==t?(iN=!1,d=v):d=t,g.precision=d+=10,n=(i=iB(h)).charAt(0),!(15e14>Math.abs(a=p.e)))return u=iZ(g,d+2,v).times(a+""),p=i9(new g(n+"."+i.slice(1)),d-10).plus(u),g.precision=v,null==t?iJ(p,v,y,iN=!0):p;for(;n<7&&1!=n||1==n&&i.charAt(1)>3;)n=(i=iB((p=p.times(e)).d)).charAt(0),f++;for(a=p.e,n>1?(p=new g("0."+i),a++):p=new g(n+"."+i.slice(1)),c=p,o=s=p=iz(p.minus(1),p.plus(1),d,1),m=iJ(p.times(p),d,1),r=3;;){if(s=iJ(s.times(m),d,1),iB((u=o.plus(iz(s,new g(r),d,1))).d).slice(0,d)===iB(o.d).slice(0,d))if(o=o.times(2),0!==a&&(o=o.plus(iZ(g,d+2,v).times(a+""))),o=iz(o,new g(f),d,1),null!=t)return g.precision=v,o;else{if(!iW(o.d,d-10,y,l))return iJ(o,g.precision=v,y,iN=!0);g.precision=d+=10,u=s=p=iz(c.minus(1),c.plus(1),d,1),m=iJ(p.times(p),d,1),r=l=1}o=u,r+=2}}function i7(e){return String(e.s*e.s/0)}function i6(e,t){var i,n,r;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(i<0&&(i=n),i+=+t.slice(n+1),t=t.substring(0,n)):i<0&&(i=t.length),n=0;48===t.charCodeAt(n);n++);for(r=t.length;48===t.charCodeAt(r-1);--r);if(t=t.slice(n,r)){if(r-=n,e.e=i=i-n-1,e.d=[],n=(i+1)%7,i<0&&(n+=7),n<r){for(n&&e.d.push(+t.slice(0,n)),r-=7;n<r;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=r;for(;n--;)t+="0";e.d.push(+t),iN&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function i8(e,t,i,n,r){var a,s,l,o,u=e.precision,d=Math.ceil(u/7);for(iN=!1,o=i.times(i),l=new e(n);;){if(s=iz(l.times(o),new e(t++*t++),u,1),l=r?n.plus(s):n.minus(s),n=iz(s.times(o),new e(t++*t++),u,1),void 0!==(s=l.plus(n)).d[d]){for(a=d;s.d[a]===l.d[a]&&a--;);if(-1==a)break}a=l,l=n,n=s,s=a}return iN=!0,s.d.length=d+1,s}function ne(e,t){for(var i=e;--t;)i*=e;return i}function nt(e,t){var i,n=t.s<0,r=iX(e,e.precision,1),a=r.times(.5);if((t=t.abs()).lte(a))return ik=n?4:1,t;if((i=t.divToInt(r)).isZero())ik=n?3:2;else{if((t=t.minus(i.times(r))).lte(a))return ik=i3(i)?n?2:3:n?4:1,t;ik=i3(i)?n?1:4:n?3:2}return t.minus(r).abs()}function ni(e,t,i,n){var r,a,s,l,o,u,d,c,m,f=e.constructor,p=void 0!==i;if(p?(iH(i,1,1e9),void 0===n?n=f.rounding:iH(n,0,8)):(i=f.precision,n=f.rounding),e.isFinite()){for(s=(d=iQ(e)).indexOf("."),p?(r=2,16==t?i=4*i-3:8==t&&(i=3*i-2)):r=t,s>=0&&(d=d.replace(".",""),(m=new f(1)).e=d.length-s,m.d=iK(iQ(m),10,r),m.e=m.d.length),a=o=(c=iK(d,10,r)).length;0==c[--o];)c.pop();if(c[0]){if(s<0?a--:((e=new f(e)).d=c,e.e=a,c=(e=iz(e,m,i,n,0,r)).d,a=e.e,u=iE),s=c[i],l=r/2,u=u||void 0!==c[i+1],u=n<4?(void 0!==s||u)&&(0===n||n===(e.s<0?3:2)):s>l||s===l&&(4===n||u||6===n&&1&c[i-1]||n===(e.s<0?8:7)),c.length=i,u)for(;++c[--i]>r-1;)c[i]=0,i||(++a,c.unshift(1));for(o=c.length;!c[o-1];--o);for(s=0,d="";s<o;s++)d+=iP.charAt(c[s]);if(p){if(o>1)if(16==t||8==t){for(s=16==t?4:3,--o;o%s;o++)d+="0";for(o=(c=iK(d,r,t)).length;!c[o-1];--o);for(s=1,d="1.";s<o;s++)d+=iP.charAt(c[s])}else d=d.charAt(0)+"."+d.slice(1);d=d+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)d="0"+d;d="0."+d}else if(++a>o)for(a-=o;a--;)d+="0";else a<o&&(d=d.slice(0,a)+"."+d.slice(a))}else d=p?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=i7(e);return e.s<0?"-"+d:d}function nn(e,t){if(e.length>t)return e.length=t,!0}function nr(e){return new this(e).abs()}function na(e){return new this(e).acos()}function ns(e){return new this(e).acosh()}function nl(e,t){return new this(e).plus(t)}function no(e){return new this(e).asin()}function nu(e){return new this(e).asinh()}function nd(e){return new this(e).atan()}function nc(e){return new this(e).atanh()}function nm(e,t){e=new this(e),t=new this(t);var i,n=this.precision,r=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(i=t.s<0?iX(this,n,r):new this(0)).s=e.s:!e.d||t.isZero()?(i=iX(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,i=this.atan(iz(e,t,a,1)),t=iX(this,a,1),this.precision=n,this.rounding=r,i=e.s<0?i.minus(t):i.plus(t)):i=this.atan(iz(e,t,a,1)):(i=iX(this,a,1).times(t.s>0?.25:.75)).s=e.s:i=new this(NaN),i}function nf(e){return new this(e).cbrt()}function np(e){return iJ(e=new this(e),e.e+1,2)}function nh(e,t,i){return new this(e).clamp(t,i)}function ng(e){if(!e||"object"!=typeof e)throw Error(iD+"Object expected");var t,i,n,r=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(i=a[t],r&&(this[i]=iR[i]),void 0!==(n=e[i]))if(i_(n)===n&&n>=a[t+1]&&n<=a[t+2])this[i]=n;else throw Error(iS+i+": "+n);if(i="crypto",r&&(this[i]=iR[i]),void 0!==(n=e[i]))if(!0===n||!1===n||0===n||1===n)if(n)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(iO);else this[i]=!1;else throw Error(iS+i+": "+n);return this}function ny(e){return new this(e).cos()}function nv(e){return new this(e).cosh()}function nb(e,t){return new this(e).div(t)}function nw(e){return new this(e).exp()}function nx(e){return iJ(e=new this(e),e.e+1,3)}function nT(){var e,t,i=new this(0);for(iN=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)i.d&&(i=i.plus(t.times(t)));else{if(t.s)return iN=!0,new this(1/0);i=t}return iN=!0,i.sqrt()}function nE(e){return e instanceof nB||e&&e.toStringTag===iC||!1}function nk(e){return new this(e).ln()}function nP(e,t){return new this(e).log(t)}function nA(e){return new this(e).log(2)}function nI(e){return new this(e).log(10)}function nR(){return i5(this,arguments,-1)}function nN(){return i5(this,arguments,1)}function nD(e,t){return new this(e).mod(t)}function nS(e,t){return new this(e).mul(t)}function nq(e,t){return new this(e).pow(t)}function nO(e){var t,i,n,r,a=0,s=new this(1),l=[];if(void 0===e?e=this.precision:iH(e,1,1e9),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(r=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:l[a++]=r%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)(r=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(l.push(r%1e7),a+=4);a=n/4}else throw Error(iO);else for(;a<n;)l[a++]=1e7*Math.random()|0;for(n=l[--a],e%=7,n&&e&&(r=iF(10,7-e),l[a]=(n/r|0)*r);0===l[a];a--)l.pop();if(a<0)i=0,l=[0];else{for(i=-1;0===l[0];i-=7)l.shift();for(n=1,r=l[0];r>=10;r/=10)n++;n<7&&(i-=7-n)}return s.e=i,s.d=l,s}function nC(e){return iJ(e=new this(e),e.e+1,this.rounding)}function n_(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function nF(e){return new this(e).sin()}function n$(e){return new this(e).sinh()}function nj(e){return new this(e).sqrt()}function nL(e,t){return new this(e).sub(t)}function nU(){var e=0,t=arguments,i=new this(t[0]);for(iN=!1;i.s&&++e<t.length;)i=i.plus(t[e]);return iN=!0,iJ(i,this.precision,this.rounding)}function nV(e){return new this(e).tan()}function nM(e){return new this(e).tanh()}function nG(e){return iJ(e=new this(e),e.e+1,1)}iG[Symbol.for("nodejs.util.inspect.custom")]=iG.toString,iG[Symbol.toStringTag]="Decimal";var nB=iG.constructor=function e(t){var i,n,r;function a(e){var t,i,n;if(!(this instanceof a))return new a(e);if(this.constructor=a,nE(e)){this.s=e.s,iN?!e.d||e.e>a.maxE?(this.e=NaN,this.d=null):e.e<a.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,i=e;i>=10;i/=10)t++;iN?t>a.maxE?(this.e=NaN,this.d=null):t<a.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return i6(this,e.toString())}if("string"===n)return 45===(i=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===i&&(e=e.slice(1)),this.s=1),iU.test(e)?i6(this,e):function(e,t){var i,n,r,a,s,l,o,u,d;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),iU.test(t))return i6(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(ij.test(t))i=16,t=t.toLowerCase();else if(i$.test(t))i=2;else if(iL.test(t))i=8;else throw Error(iS+t);for((a=t.search(/p/i))>0?(o=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),s=(a=t.indexOf("."))>=0,n=e.constructor,s&&(a=(l=(t=t.replace(".","")).length)-a,r=i2(n,new n(i),a,2*a)),a=d=(u=iK(t,i,1e7)).length-1;0===u[a];--a)u.pop();return a<0?new n(0*e.s):(e.e=iY(u,d),e.d=u,iN=!1,s&&(e=iz(e,r,4*l)),o&&(e=e.times(54>Math.abs(o)?iF(2,o):nB.pow(2,o))),iN=!0,e)}(this,e);if("bigint"===n)return e<0?(e=-e,this.s=-1):this.s=1,i6(this,e.toString());throw Error(iS+e)}if(a.prototype=iG,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=ng,a.clone=e,a.isDecimal=nE,a.abs=nr,a.acos=na,a.acosh=ns,a.add=nl,a.asin=no,a.asinh=nu,a.atan=nd,a.atanh=nc,a.atan2=nm,a.cbrt=nf,a.ceil=np,a.clamp=nh,a.cos=ny,a.cosh=nv,a.div=nb,a.exp=nw,a.floor=nx,a.hypot=nT,a.ln=nk,a.log=nP,a.log10=nI,a.log2=nA,a.max=nR,a.min=nN,a.mod=nD,a.mul=nS,a.pow=nq,a.random=nO,a.round=nC,a.sign=n_,a.sin=nF,a.sinh=n$,a.sqrt=nj,a.sub=nL,a.sum=nU,a.tan=nV,a.tanh=nM,a.trunc=nG,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],i=0;i<r.length;)t.hasOwnProperty(n=r[i++])||(t[n]=this[n]);return a.config(t),a}(iR);iA=new nB(iA),iI=new nB(iI);var nH=nB;function nW(e){var t;return null===e?e:Array.isArray(e)?e.map(nW):"object"==typeof e?null!==(t=e)&&"object"==typeof t&&"string"==typeof t.$type?function({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:e,byteOffset:i,byteLength:n}=Buffer.from(t,"base64");return new Uint8Array(e,i,n)}case"DateTime":return new Date(t);case"Decimal":return new nH(t);case"Json":return JSON.parse(t);default:ir(t,"Unknown tagged value")}}(e):null!==e.constructor&&"Object"!==e.constructor.name?e:ip(e,nW):e}var nK=class{get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let i=this._map.get(e);if(i)return i.value;let n=t();return this.set(e,n),n}constructor(){this._map=new Map}};function nz(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function nJ(e){let t;return{get:()=>(t||(t={value:e()}),t.value)}}function nQ(e){return{models:nY(e.models),enums:nY(e.enums),types:nY(e.types)}}function nY(e){let t={};for(let{name:i,...n}of e)t[i]=n;return t}function nZ(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function nX(e){return"Invalid Date"!==e.toString()}function n0(e){return!!nB.isDecimal(e)||null!==e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.e&&"function"==typeof e.toFixed&&Array.isArray(e.d)}var n1={};function n2(e){return{name:e.name,values:e.values.map(e=>e.name)}}c(n1,{ModelAction:()=>n3,datamodelEnumToSchemaEnum:()=>n2});var n3=(e=>(e.findUnique="findUnique",e.findUniqueOrThrow="findUniqueOrThrow",e.findFirst="findFirst",e.findFirstOrThrow="findFirstOrThrow",e.findMany="findMany",e.create="create",e.createMany="createMany",e.createManyAndReturn="createManyAndReturn",e.update="update",e.updateMany="updateMany",e.updateManyAndReturn="updateManyAndReturn",e.upsert="upsert",e.delete="delete",e.deleteMany="deleteMany",e.groupBy="groupBy",e.count="count",e.aggregate="aggregate",e.findRaw="findRaw",e.aggregateRaw="aggregateRaw",e))(n3||{}),n5=(f(x()),f(i(73024))),n4={keyword:er,entity:er,value:e=>H(ei(e)),punctuation:ei,directive:er,function:er,variable:e=>H(ei(e)),string:e=>H(ee(e)),boolean:et,number:er,comment:es},n9=e=>e,n7={},n6=0,n8={manual:n7.Prism&&n7.Prism.manual,disableWorkerMessageHandler:n7.Prism&&n7.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof re?new re(e.type,n8.util.encode(e.content),e.alias):Array.isArray(e)?e.map(n8.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n6}),e.__id},clone:function e(t,i){let n,r,a=n8.util.type(t);switch(i=i||{},a){case"Object":if(i[r=n8.util.objId(t)])return i[r];for(let a in n={},i[r]=n,t)t.hasOwnProperty(a)&&(n[a]=e(t[a],i));return n;case"Array":return i[r=n8.util.objId(t)]?i[r]:(n=[],i[r]=n,t.forEach(function(t,r){n[r]=e(t,i)}),n);default:return t}}},languages:{extend:function(e,t){let i=n8.util.clone(n8.languages[e]);for(let e in t)i[e]=t[e];return i},insertBefore:function(e,t,i,n){let r=(n=n||n8.languages)[e],a={};for(let e in r)if(r.hasOwnProperty(e)){if(e==t)for(let e in i)i.hasOwnProperty(e)&&(a[e]=i[e]);i.hasOwnProperty(e)||(a[e]=r[e])}let s=n[e];return n[e]=a,n8.languages.DFS(n8.languages,function(t,i){i===s&&t!=e&&(this[t]=a)}),a},DFS:function e(t,i,n,r){r=r||{};let a=n8.util.objId;for(let s in t)if(t.hasOwnProperty(s)){i.call(t,s,t[s],n||s);let l=t[s],o=n8.util.type(l);"Object"!==o||r[a(l)]?"Array"!==o||r[a(l)]||(r[a(l)]=!0,e(l,i,s,r)):(r[a(l)]=!0,e(l,i,null,r))}}},plugins:{},highlight:function(e,t,i){let n={code:e,grammar:t,language:i};return n8.hooks.run("before-tokenize",n),n.tokens=n8.tokenize(n.code,n.grammar),n8.hooks.run("after-tokenize",n),re.stringify(n8.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,i,n,r,a,s){for(let h in i){if(!i.hasOwnProperty(h)||!i[h])continue;if(h==s)return;let g=i[h];g="Array"===n8.util.type(g)?g:[g];for(let s=0;s<g.length;++s){let y=g[s],v=y.inside,b=!!y.lookbehind,w=!!y.greedy,x=0,T=y.alias;if(w&&!y.pattern.global){let e=y.pattern.toString().match(/[imuy]*$/)[0];y.pattern=RegExp(y.pattern.source,e+"g")}y=y.pattern||y;for(let s=n,g=r;s<t.length;g+=t[s].length,++s){let n=t[s];if(t.length>e.length)return;if(n instanceof re)continue;if(w&&s!=t.length-1){y.lastIndex=g;var l=y.exec(e);if(!l)break;var o=l.index+(b?l[1].length:0),u=l.index+l[0].length,d=s,c=g;for(let e=t.length;d<e&&(c<u||!t[d].type&&!t[d-1].greedy);++d)o>=(c+=t[d].length)&&(++s,g=c);if(t[s]instanceof re)continue;m=d-s,n=e.slice(g,c),l.index-=g}else{y.lastIndex=0;var l=y.exec(n),m=1}if(!l){if(a)break;continue}b&&(x=l[1]?l[1].length:0);var o=l.index+x,l=l[0].slice(x),u=o+l.length,f=n.slice(0,o),p=n.slice(u);let r=[s,m];f&&(++s,g+=f.length,r.push(f));let E=new re(h,v?n8.tokenize(l,v):l,T,l,w);if(r.push(E),p&&r.push(p),Array.prototype.splice.apply(t,r),1!=m&&n8.matchGrammar(e,t,i,s,g,!0,h),a)break}}}},tokenize:function(e,t){let i=[e],n=t.rest;if(n){for(let e in n)t[e]=n[e];delete t.rest}return n8.matchGrammar(e,i,t,0,0,!1),i},hooks:{all:{},add:function(e,t){let i=n8.hooks.all;i[e]=i[e]||[],i[e].push(t)},run:function(e,t){let i=n8.hooks.all[e];if(!(!i||!i.length))for(var n,r=0;n=i[r++];)n(t)}},Token:re};function re(e,t,i,n,r){this.type=e,this.content=t,this.alias=i,this.length=0|(n||"").length,this.greedy=!!r}n8.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},n8.languages.javascript=n8.languages.extend("clike",{"class-name":[n8.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),n8.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,n8.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:n8.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:n8.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:n8.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:n8.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n8.languages.markup&&n8.languages.markup.tag.addInlined("script","javascript"),n8.languages.js=n8.languages.javascript,n8.languages.typescript=n8.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),n8.languages.ts=n8.languages.typescript,re.stringify=function(e,t){return"string"==typeof e?e:Array.isArray(e)?e.map(function(e){return re.stringify(e,t)}).join(""):(n4[e.type]||n9)(e.content)};var rt={red:X,gray:es,dim:W,bold:H,underline:z,highlightSource:e=>e.highlight()},ri={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function rn(e){let t=e.showColors?rt:ri;return function({functionName:e,location:t,message:i,isPanic:n,contextLines:r,callArguments:a},s){var l;let o,u=[""],d=t?" in":":";if(n?(u.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),u.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${d}`))):u.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${d}`)),t&&u.push(s.underline((o=[(l=t).fileName],l.lineNumber&&o.push(String(l.lineNumber)),l.columnNumber&&o.push(String(l.columnNumber)),o.join(":")))),r){u.push("");let e=[r.toString()];a&&(e.push(a),e.push(s.dim(")"))),u.push(e.join("")),a&&u.push("")}else u.push(""),a&&u.push(a),u.push("");return u.push(i),u.join(`
`)}(function({callsite:e,message:t,originalMethod:i,isPanic:n,callArguments:r},a){let s=function({message:e,originalMethod:t,isPanic:i,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:i??!1,callArguments:n}}({message:t,originalMethod:i,isPanic:n,callArguments:r});return s}(e,0),t)}var rr=f(I());function ra(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function rs(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return -10;default:return 0}}var rl=class{constructor(e,t){this.isRequired=!1,this.name=e,this.value=t}makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),"string"==typeof this.value?e.write(t(this.value)):e.write(this.value)}};N();var ro=class{constructor(e=0,t){this.lines=[],this.currentLine="",this.currentIndent=0,this.context=t,this.currentIndent=e}write(e){return"string"==typeof e?this.currentLine+=e:e.write(this),this}writeJoined(e,t,i=(e,t)=>t.write(e)){let n=t.length-1;for(let r=0;r<t.length;r++)i(t[r],this),r!==n&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}};R();var ru=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}},rd=e=>e,rc={bold:rd,red:rd,green:rd,dim:rd,enabled:!1},rm={bold:H,red:X,green:ee,dim:W,enabled:!0},rf={write(e){e.writeLine(",")}},rp=class{constructor(e){this.isUnderlined=!1,this.color=e=>e,this.contents=e}underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}},rh=class{markAsError(){return this.hasError=!0,this}constructor(){this.hasError=!1}},rg=class extends rh{addItem(e){return this.items.push(new ru(e)),this}getField(e){return this.items[e]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){if(0===this.items.length){this.writeEmpty(e);return}this.writeWithItems(e)}writeEmpty(e){let t=new rp("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(rf,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}constructor(...e){super(...e),this.items=[]}},ry=class e extends rh{addField(e){this.fields[e.name]=e}addSuggestion(e){this.suggestions.push(e)}getField(e){return this.fields[e]}getDeepField(t){let[i,...n]=t,r=this.getField(i);if(!r)return;let a=r;for(let t of n){let i;if(a.value instanceof e?i=a.value.getField(t):a.value instanceof rg&&(i=a.value.getField(Number(t))),!i)return;a=i}return a}getDeepFieldValue(e){return 0===e.length?this:this.getDeepField(e)?.value}hasField(e){return!!this.getField(e)}removeAllFields(){this.fields={}}removeField(e){delete this.fields[e]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(e){return this.getField(e)?.value}getDeepSubSelectionValue(t){let i=this;for(let n of t){if(!(i instanceof e))return;let t=i.getSubSelectionValue(n);if(!t)return;i=t}return i}getDeepSelectionParent(t){let i=this.getSelectionParent();if(!i)return;let n=i;for(let i of t){let t=n.value.getFieldValue(i);if(!t||!(t instanceof e))return;let r=t.getSelectionParent();if(!r)return;n=r}return n}getSelectionParent(){let e=this.getField("select")?.value.asObject();if(e)return{kind:"select",value:e};let t=this.getField("include")?.value.asObject();if(t)return{kind:"include",value:t}}getSubSelectionValue(e){return this.getSelectionParent()?.value.fields[e].value}getPrintWidth(){let e=Object.values(this.fields);return 0==e.length?2:Math.max(...e.map(e=>e.getPrintWidth()))+2}write(e){let t=Object.values(this.fields);if(0===t.length&&0===this.suggestions.length){this.writeEmpty(e);return}this.writeWithContents(e,t)}asObject(){return this}writeEmpty(e){let t=new rp("{}");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithContents(e,t){e.writeLine("{").withIndent(()=>{e.writeJoined(rf,[...t,...this.suggestions]).newLine()}),e.write("}"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(e.context.colors.red("~".repeat(this.getPrintWidth())))})}constructor(...e){super(...e),this.fields={},this.suggestions=[]}},rv=class extends rh{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new rp(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}},rb=class{addField(e,t){return this.fields.push({write(i){let{green:n,dim:r}=i.context.colors;i.write(n(r(`${e}: ${t}`))).addMarginSymbol(n(r("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(rf,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}constructor(){this.fields=[]}};function rw(e,t,i){let n=[`Unknown argument \`${e.red(t)}\`.`],r=function(e,t){let i=1/0,n;for(let r of t){let t=(0,rr.default)(e,r);t>3||t<i&&(i=t,n=r)}return n}(t,i);return r&&n.push(`Did you mean \`${e.green(r)}\`?`),i.length>0&&n.push(rP(e)),n.join(" ")}function rx(e,t){for(let i of t.fields)e.hasField(i.name)||e.addSuggestion(new rl(i.name,"true"))}function rT(e,t){let[i,n]=rk(e),r=t.arguments.getDeepSubSelectionValue(i)?.asObject();if(!r)return{parentKind:"unknown",fieldName:n};let a=r.getFieldValue("select")?.asObject(),s=r.getFieldValue("include")?.asObject(),l=r.getFieldValue("omit")?.asObject(),o=a?.getField(n);return a&&o?{parentKind:"select",parent:a,field:o,fieldName:n}:(o=s?.getField(n),s&&o?{parentKind:"include",field:o,parent:s,fieldName:n}:(o=l?.getField(n),l&&o?{parentKind:"omit",field:o,parent:l,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function rE(e,t){if("object"===t.kind)for(let i of t.fields)e.hasField(i.name)||e.addSuggestion(new rl(i.name,i.typeNames.join(" | ")))}function rk(e){let t=[...e],i=t.pop();if(!i)throw Error("unexpected empty path");return[t,i]}function rP({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function rA(e,t){if(1===t.length)return t[0];let i=[...t],n=i.pop();return`${i.join(", ")} ${e} ${n}`}var rI=class{constructor(e,t,i,n,r){this.modelName=e,this.name=t,this.typeName=i,this.isList=n,this.isEnum=r}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function rR(e){return e instanceof rI}var rN=Symbol(),rD=new WeakMap,rS=class{constructor(e){e===rN?rD.set(this,`Prisma.${this._getName()}`):rD.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return rD.get(this)}},rq=class extends rS{_getNamespace(){return"NullTypes"}},rO=class extends rq{#e};r$(rO,"DbNull");var rC=class extends rq{#e};r$(rC,"JsonNull");var r_=class extends rq{#e};r$(r_,"AnyNull");var rF={classes:{DbNull:rO,JsonNull:rC,AnyNull:r_},instances:{DbNull:new rO(rN),JsonNull:new rC(rN),AnyNull:new r_(rN)}};function r$(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var rj=class{constructor(e,t){this.hasError=!1,this.name=e,this.value=t}markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+2}write(e){let t=new rp(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(": ").write(this.value)}},rL=class{constructor(e){this.errorMessages=[],this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function rU(e){return new rL(rV(e))}function rV(e){let t=new ry;for(let[i,n]of Object.entries(e)){let e=new rj(i,function e(t){if("string"==typeof t)return new rv(JSON.stringify(t));if("number"==typeof t||"boolean"==typeof t)return new rv(String(t));if("bigint"==typeof t)return new rv(`${t}n`);if(null===t)return new rv("null");if(void 0===t)return new rv("undefined");if(n0(t))return new rv(`new Prisma.Decimal("${t.toFixed()}")`);if(t instanceof Uint8Array)return Buffer.isBuffer(t)?new rv(`Buffer.alloc(${t.byteLength})`):new rv(`new Uint8Array(${t.byteLength})`);if(t instanceof Date){let e=nX(t)?t.toISOString():"Invalid Date";return new rv(`new Date("${e}")`)}return t instanceof rS?new rv(`Prisma.${t._getName()}`):rR(t)?new rv(`prisma.${nz(t.modelName)}.$fields.${t.name}`):Array.isArray(t)?function(t){let i=new rg;for(let n of t)i.addItem(e(n));return i}(t):"object"==typeof t?rV(t):new rv(Object.prototype.toString.call(t))}(n));t.addField(e)}return t}function rM(e,t){let i="pretty"===t?rm:rc;return{message:e.renderAllMessages(i),args:new ro(0,{colors:i}).write(e).toString()}}function rG({args:e,errors:t,errorFormat:i,callsite:n,originalMethod:r,clientVersion:a,globalOmit:s}){let l=rU(e);for(let e of t)(function e(t,i,n){var r,a,s,l,o,u,d,c,m,f;switch(t.kind){case"MutuallyExclusiveFields":let p;r=t,a=i,(p=a.arguments.getDeepSubSelectionValue(r.selectionPath)?.asObject())&&(p.getField(r.firstField)?.markAsError(),p.getField(r.secondField)?.markAsError()),a.addErrorMessage(e=>`Please ${e.bold("either")} use ${e.green(`\`${r.firstField}\``)} or ${e.green(`\`${r.secondField}\``)}, but ${e.red("not both")} at the same time.`);break;case"IncludeOnScalar":(function(e,t){let[i,n]=rk(e.selectionPath),r=e.outputType,a=t.arguments.getDeepSelectionParent(i)?.value;if(a&&(a.getField(n)?.markAsError(),r))for(let e of r.fields)e.isRelation&&a.addSuggestion(new rl(e.name,"true"));t.addErrorMessage(e=>{let t=`Invalid scalar field ${e.red(`\`${n}\``)} for ${e.bold("include")} statement`;return r?t+=` on model ${e.bold(r.name)}. ${rP(e)}`:t+=".",t+=`
Note that ${e.bold("include")} statements only accept relation fields.`})})(t,i);break;case"EmptySelection":(function(e,t,i){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getField("omit")?.value.asObject();if(i){(function(e,t,i){for(let t of(i.removeAllFields(),e.outputType.fields))i.addSuggestion(new rl(t.name,"false"));t.addErrorMessage(t=>`The ${t.red("omit")} statement includes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)})(e,t,i);return}if(n.hasField("select")){var r,a;let i,n,s;r=e,a=t,i=r.outputType,n=a.arguments.getDeepSelectionParent(r.selectionPath)?.value,s=n?.isEmpty()??!1,n&&(n.removeAllFields(),rx(n,i)),a.addErrorMessage(e=>s?`The ${e.red("`select`")} statement for type ${e.bold(i.name)} must not be empty. ${rP(e)}`:`The ${e.red("`select`")} statement for type ${e.bold(i.name)} needs ${e.bold("at least one truthy value")}.`);return}}if(i?.[nz(e.outputType.name)]){(function(e,t){let i=new rb;for(let t of e.outputType.fields)t.isRelation||i.addField(t.name,"false");let n=new rl("omit",i).makeRequired();if(0===e.selectionPath.length)t.arguments.addSuggestion(n);else{let[i,r]=rk(e.selectionPath),a=t.arguments.getDeepSelectionParent(i)?.value.asObject()?.getField(r);if(a){let e=a?.value.asObject()??new ry;e.addSuggestion(n),a.value=e}}t.addErrorMessage(t=>`The global ${t.red("omit")} configuration excludes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)})(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)})(t,i,n);break;case"UnknownSelectionField":(function(e,t){let i=rT(e.selectionPath,t);if("unknown"!==i.parentKind){i.field.markAsError();let t=i.parent;switch(i.parentKind){case"select":rx(t,e.outputType);break;case"include":var n=t,r=e.outputType;for(let e of r.fields)e.isRelation&&!n.hasField(e.name)&&n.addSuggestion(new rl(e.name,"true"));break;case"omit":var a=t,s=e.outputType;for(let e of s.fields)a.hasField(e.name)||e.isRelation||a.addSuggestion(new rl(e.name,"true"))}}t.addErrorMessage(t=>{let n=[`Unknown field ${t.red(`\`${i.fieldName}\``)}`];return"unknown"!==i.parentKind&&n.push(`for ${t.bold(i.parentKind)} statement`),n.push(`on model ${t.bold(`\`${e.outputType.name}\``)}.`),n.push(rP(t)),n.join(" ")})})(t,i);break;case"InvalidSelectionValue":let h;s=t,l=i,"unknown"!==(h=rT(s.selectionPath,l)).parentKind&&h.field.value.markAsError(),l.addErrorMessage(e=>`Invalid value for selection field \`${e.red(h.fieldName)}\`: ${s.underlyingError}`);break;case"UnknownArgument":let g,y;o=t,u=i,g=o.argumentPath[0],(y=u.arguments.getDeepSubSelectionValue(o.selectionPath)?.asObject())&&(y.getField(g)?.markAsError(),function(e,t){for(let i of t)e.hasField(i.name)||e.addSuggestion(new rl(i.name,i.typeNames.join(" | ")))}(y,o.arguments)),u.addErrorMessage(e=>rw(e,g,o.arguments.map(e=>e.name)));break;case"UnknownInputField":(function(e,t){let[i,n]=rk(e.argumentPath),r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(r){r.getDeepField(e.argumentPath)?.markAsError();let t=r.getDeepFieldValue(i)?.asObject();t&&rE(t,e.inputType)}t.addErrorMessage(t=>rw(t,n,e.inputType.fields.map(e=>e.name)))})(t,i);break;case"RequiredArgumentMissing":(function(e,t){let i;t.addErrorMessage(e=>i?.value instanceof rv&&"null"===i.value.text?`Argument \`${e.green(a)}\` must not be ${e.red("null")}.`:`Argument \`${e.green(a)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[r,a]=rk(e.argumentPath),s=new rb,l=n.getDeepFieldValue(r)?.asObject();if(l)if((i=l.getField(a))&&l.removeField(a),1===e.inputTypes.length&&"object"===e.inputTypes[0].kind){for(let t of e.inputTypes[0].fields)s.addField(t.name,t.typeNames.join(" | "));l.addSuggestion(new rl(a,s).makeRequired())}else{let t=e.inputTypes.map(function e(t){return"list"===t.kind?`${e(t.elementType)}[]`:t.name}).join(" | ");l.addSuggestion(new rl(a,t).makeRequired())}})(t,i);break;case"InvalidArgumentType":let v,b;d=t,c=i,v=d.argument.name,(b=c.arguments.getDeepSubSelectionValue(d.selectionPath)?.asObject())&&b.getDeepFieldValue(d.argumentPath)?.markAsError(),c.addErrorMessage(e=>{let t=rA("or",d.argument.typeNames.map(t=>e.green(t)));return`Argument \`${e.bold(v)}\`: Invalid value provided. Expected ${t}, provided ${e.red(d.inferredType)}.`});break;case"InvalidArgumentValue":let w,x;m=t,f=i,w=m.argument.name,(x=f.arguments.getDeepSubSelectionValue(m.selectionPath)?.asObject())&&x.getDeepFieldValue(m.argumentPath)?.markAsError(),f.addErrorMessage(e=>{let t=[`Invalid value for argument \`${e.bold(w)}\``];if(m.underlyingError&&t.push(`: ${m.underlyingError}`),t.push("."),m.argument.typeNames.length>0){let i=rA("or",m.argument.typeNames.map(t=>e.green(t)));t.push(` Expected ${i}.`)}return t.join("")});break;case"ValueTooLarge":(function(e,t){let i=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),r;if(n){let t=n.getDeepField(e.argumentPath)?.value;t?.markAsError(),t instanceof rv&&(r=t.text)}t.addErrorMessage(e=>{let t=["Unable to fit value"];return r&&t.push(e.red(r)),t.push(`into a 64-bit signed integer for field \`${e.bold(i)}\``),t.join(" ")})})(t,i);break;case"SomeFieldsMissing":(function(e,t){let i=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let t=n.getDeepFieldValue(e.argumentPath)?.asObject();t&&rE(t,e.inputType)}t.addErrorMessage(t=>{let n=[`Argument \`${t.bold(i)}\` of type ${t.bold(e.inputType.name)} needs`];return 1===e.constraints.minFieldCount?e.constraints.requiredFields?n.push(`${t.green("at least one of")} ${rA("or",e.constraints.requiredFields.map(e=>`\`${t.bold(e)}\``))} arguments.`):n.push(`${t.green("at least one")} argument.`):n.push(`${t.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),n.push(rP(t)),n.join(" ")})})(t,i);break;case"TooManyFieldsGiven":(function(e,t){let i=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),r=[];if(n){let t=n.getDeepFieldValue(e.argumentPath)?.asObject();t&&(t.markAsError(),r=Object.keys(t.getFields()))}t.addErrorMessage(t=>{let n=[`Argument \`${t.bold(i)}\` of type ${t.bold(e.inputType.name)} needs`];return 1===e.constraints.minFieldCount&&1==e.constraints.maxFieldCount?n.push(`${t.green("exactly one")} argument,`):1==e.constraints.maxFieldCount?n.push(`${t.green("at most one")} argument,`):n.push(`${t.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),n.push(`but you provided ${rA("and",r.map(e=>t.red(e)))}. Please choose`),1===e.constraints.maxFieldCount?n.push("one."):n.push(`${e.constraints.maxFieldCount}.`),n.join(" ")})})(t,i);break;case"Union":let T;(T=function(e){var t=(e,t)=>{let i=ra(e),n=ra(t);return i!==n?i-n:rs(e)-rs(t)};if(0===e.length)return;let i=e[0];for(let n=1;n<e.length;n++)0>t(i,e[n])&&(i=e[n]);return i}(function(e){let t=new Map,i=[];for(let a of e){var n,r;if("InvalidArgumentType"!==a.kind){i.push(a);continue}let e=`${a.selectionPath.join(".")}:${a.argumentPath.join(".")}`,s=t.get(e);s?t.set(e,{...a,argument:{...a.argument,typeNames:(n=s.argument.typeNames,r=a.argument.typeNames,[...new Set(n.concat(r))])}}):t.set(e,a)}return i.push(...t.values()),i}(function e(t){return t.errors.flatMap(t=>"Union"===t.kind?e(t):[t])}(t))))?e(T,i,n):i.addErrorMessage(()=>"Unknown error");break;default:throw Error("not implemented: "+t.kind)}})(e,l,s);let{message:o,args:u}=rM(l,i);throw new iT(rn({message:o,callsite:n,originalMethod:r,showColors:"pretty"===i,callArguments:u}),{clientVersion:a})}function rB(e){return e.replace(/^./,e=>e.toLowerCase())}function rH(e,t,i){return i?ip(i,({needs:e,compute:i},n)=>{var r,a,s;let l;return{name:n,needs:e?Object.keys(e).filter(t=>e[t]):[],compute:(r=t,a=n,s=i,(l=r?.[a]?.compute)?e=>s({...e,[a]:l(e)}):s)}}):{}}var rW=class{constructor(e,t){this.computedFieldsCache=new nK,this.modelExtensionsCache=new nK,this.queryCallbacksCache=new nK,this.clientExtensions=nJ(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions()),this.batchCallbacks=nJ(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e}),this.extension=e,this.previous=t}getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>{var t,i,n;let r,a,s;return t=this.previous?.getAllComputedFields(e),i=this.extension,r=rB(e),i.result&&(i.result.$allModels||i.result[r])?(n={...t,...rH(i.name,t,i.result.$allModels),...rH(i.name,t,i.result[r])},a=new nK,s=(e,t)=>a.getOrCreate(e,()=>t.has(e)?[e]:(t.add(e),n[e]?n[e].needs.flatMap(e=>s(e,t)):[e])),ip(n,e=>({...e,needs:s(e.name,new Set)}))):t})}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=rB(e);return this.extension.model&&(this.extension.model[t]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}:this.previous?.getAllModelExtensions(e)})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let i=this.previous?.getAllQueryCallbacks(e,t)??[],n=[],r=this.extension.query;return r&&(r[e]||r.$allModels||r[t]||r.$allOperations)?(void 0!==r[e]&&(void 0!==r[e][t]&&n.push(r[e][t]),void 0!==r[e].$allOperations&&n.push(r[e].$allOperations)),"$none"!==e&&void 0!==r.$allModels&&(void 0!==r.$allModels[t]&&n.push(r.$allModels[t]),void 0!==r.$allModels.$allOperations&&n.push(r.$allModels.$allOperations)),void 0!==r[t]&&n.push(r[t]),void 0!==r.$allOperations&&n.push(r.$allOperations),i.concat(n)):i})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},rK=class e{constructor(e){this.head=e}static empty(){return new e}static single(t){return new e(new rW(t))}isEmpty(){return void 0===this.head}append(t){return new e(new rW(t,this.head))}getAllComputedFields(e){return this.head?.getAllComputedFields(e)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(e){return this.head?.getAllModelExtensions(e)}getAllQueryCallbacks(e,t){return this.head?.getAllQueryCallbacks(e,t)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},rz=class{constructor(e){this.name=e}};function rJ(e){return new rz(e)}var rQ=Symbol(),rY=class{constructor(e){if(e!==rQ)throw Error("Skip instance can not be constructed directly")}ifUndefined(e){return void 0===e?rZ:e}},rZ=new rY(rQ);function rX(e){return e instanceof rY}var r0={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},r1="explicitly `undefined` values are not allowed";function r2({modelName:e,action:t,args:i,runtimeDataModel:n,extensions:r=rK.empty(),callsite:a,clientMethod:s,errorFormat:l,clientVersion:o,previewFeatures:u,globalOmit:d}){let c=new r4({runtimeDataModel:n,modelName:e,action:t,rootArgs:i,callsite:a,extensions:r,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:l,clientVersion:o,previewFeatures:u,globalOmit:d});return{modelName:e,action:r0[t],query:function e({select:t,include:i,...n}={},r){var a,s,l,o,u,d,c;let m,f=n.omit;return delete n.omit,{arguments:r3(n,r),selection:(a=t,s=i,l=f,o=r,a?(s?o.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:o.getSelectionPath()}):l&&o.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:o.getSelectionPath()}),function(t,i){let n={},r=i.getComputedFields();for(let[a,s]of Object.entries(function(e,t){if(!t)return e;let i={...e};for(let n of Object.values(t))if(e[n.name])for(let e of n.needs)i[e]=!0;return i}(t,r))){if(rX(s))continue;let t=i.nestSelection(a);r5(s,t);let l=i.findField(a);if(!(r?.[a]&&!l)){if(!1===s||void 0===s||rX(s)){n[a]=!1;continue}if(!0===s){l?.kind==="object"?n[a]=e({},t):n[a]=!0;continue}n[a]=e(s,t)}}return n}(a,o)):(u=o,d=s,c=l,m={},u.modelOrType&&!u.isRawAction()&&(m.$composites=!0,m.$scalars=!0),d&&function(t,i,n){for(let[r,a]of Object.entries(i)){if(rX(a))continue;let i=n.nestSelection(r);if(r5(a,i),!1===a||void 0===a){t[r]=!1;continue}let s=n.findField(r);if(s&&"object"!==s.kind&&n.throwValidationError({kind:"IncludeOnScalar",selectionPath:n.getSelectionPath().concat(r),outputType:n.getOutputTypeDescription()}),s){t[r]=e(!0===a?{}:a,i);continue}if(!0===a){t[r]=!0;continue}t[r]=e(a,i)}}(m,d,u),function(e,t,i){let n=i.getComputedFields();for(let[r,a]of Object.entries(function(e,t){if(!t)return e;let i={...e};for(let n of Object.values(t))if(!e[n.name])for(let e of n.needs)delete i[e];return i}({...i.getGlobalOmit(),...t},n))){if(rX(a))continue;r5(a,i.nestSelection(r));let t=i.findField(r);n?.[r]&&!t||(e[r]=!a)}}(m,c,u),m))}}(i,c)}}function r3(e,t){if(e.$type)return{$type:"Raw",value:e};let i={};for(let n in e){let r=e[n],a=t.nestArgument(n);rX(r)||(void 0!==r?i[n]=function e(t,i){var n,r;if(null===t)return null;if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return t;if("bigint"==typeof t)return{$type:"BigInt",value:String(t)};if(nZ(t)){if(nX(t))return{$type:"DateTime",value:t.toISOString()};i.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:i.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(t instanceof rz)return{$type:"Param",value:t.name};if(rR(t))return{$type:"FieldRef",value:{_ref:t.name,_container:t.modelName}};if(Array.isArray(t))return function(t,i){let n=[];for(let r=0;r<t.length;r++){let a=i.nestArgument(String(r)),s=t[r];if(void 0===s||rX(s)){let e=void 0===s?"undefined":"Prisma.skip";i.throwValidationError({kind:"InvalidArgumentValue",selectionPath:a.getSelectionPath(),argumentPath:a.getArgumentPath(),argument:{name:`${i.getArgumentName()}[${r}]`,typeNames:[]},underlyingError:`Can not use \`${e}\` value within array. Use \`null\` or filter out \`${e}\` values`})}n.push(e(s,a))}return n}(t,i);if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:i,byteLength:n}=t;return{$type:"Bytes",value:Buffer.from(e,i,n).toString("base64")}}if("object"==typeof(n=t)&&null!==n&&!0===n.__prismaRawParameters__)return t.values;if(n0(t))return{$type:"Decimal",value:t.toFixed()};if(t instanceof rS){if(t!==rF.instances[t._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:t._getName()}}return"object"==typeof(r=t)&&null!==r&&"function"==typeof r.toJSON?t.toJSON():"object"==typeof t?r3(t,i):void i.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:i.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(t)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}(r,a):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:a.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:r1}))}return i}function r5(e,t){void 0===e&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:r1})}var r4=class e{constructor(e){this.params=e,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}throwValidationError(e){rG({errors:[e],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(e=>({name:e.name,typeName:"boolean",isRelation:"object"===e.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(e){return this.params.previewFeatures.includes(e)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(e){return this.modelOrType?.fields.find(t=>t.name===e)}nestSelection(t){let i=this.findField(t),n=i?.kind==="object"?i.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[nz(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:ir(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function r9(e){if(!e._hasPreviewFlag("metrics"))throw new iT("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}var r7=class{constructor(e){this._client=e}prometheus(e){return r9(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return r9(this._client),this._client._engine.metrics({format:"json",...e})}};function r6(e,t){let i=nJ(()=>{var e;return{datamodel:{models:r8((e=t).models),enums:r8(e.enums),types:r8(e.types)}}});Object.defineProperty(e,"dmmf",{get:()=>i.get()})}function r8(e){return Object.entries(e).map(([e,t])=>({name:e,...t}))}var ae=new WeakMap,at="$$PrismaTypedSql",ai=class{constructor(e,t){ae.set(this,{sql:e,values:t}),Object.defineProperty(this,at,{value:at})}get sql(){return ae.get(this).sql}get values(){return ae.get(this).values}};function an(e){return(...t)=>new ai(e,t)}function ar(e){return null!=e&&e[at]===at}var aa=f(v()),as=i(16698),al=i(78474),ao=f(i(73024)),au=f(i(76760)),ad=class e{constructor(t,i){if(t.length-1!==i.length)throw 0===t.length?TypeError("Expected at least 1 string"):TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let n=i.reduce((t,i)=>t+(i instanceof e?i.values.length:1),0);this.values=Array(n),this.strings=Array(n+1),this.strings[0]=t[0];let r=0,a=0;for(;r<i.length;){let n=i[r++],s=t[r];if(n instanceof e){this.strings[a]+=n.strings[0];let e=0;for(;e<n.values.length;)this.values[a++]=n.values[e++],this.strings[a]=n.strings[e];this.strings[a]+=s}else this.values[a++]=n,this.strings[a]=s}}get sql(){let e=this.strings.length,t=1,i=this.strings[0];for(;t<e;)i+=`?${this.strings[t++]}`;return i}get statement(){let e=this.strings.length,t=1,i=this.strings[0];for(;t<e;)i+=`:${t}${this.strings[t++]}`;return i}get text(){let e=this.strings.length,t=1,i=this.strings[0];for(;t<e;)i+=`$${t}${this.strings[t++]}`;return i}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function ac(e,t=",",i="",n=""){if(0===e.length)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new ad([i,...Array(e.length-1).fill(t),n],e)}function am(e){return new ad([e],[])}var af=am("");function ap(e,...t){return new ad(e,t)}function ah(e){return{getKeys:()=>Object.keys(e),getPropertyValue:t=>e[t]}}function ag(e,t){return{getKeys:()=>[e],getPropertyValue:()=>t()}}function ay(e){let t=new nK;return{getKeys:()=>e.getKeys(),getPropertyValue:i=>t.getOrCreate(i,()=>e.getPropertyValue(i)),getPropertyDescriptor:t=>e.getPropertyDescriptor?.(t)}}var av={enumerable:!0,configurable:!0,writable:!0};function ab(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>av,has:(e,i)=>t.has(i),set:(e,i,n)=>t.add(i)&&Reflect.set(e,i,n),ownKeys:()=>[...t]}}var aw=Symbol.for("nodejs.util.inspect.custom");function ax(e,t){let i=function(e){let t=new Map;for(let i of e)for(let e of i.getKeys())t.set(e,i);return t}(t),n=new Set,r=new Proxy(e,{get(e,t){if(n.has(t))return e[t];let r=i.get(t);return r?r.getPropertyValue(t):e[t]},has(e,t){if(n.has(t))return!0;let r=i.get(t);return r?r.has?.(t)??!0:Reflect.has(e,t)},ownKeys:e=>[...new Set([...aT(Reflect.ownKeys(e),i),...aT(Array.from(i.keys()),i),...n])],set:(e,t,r)=>i.get(t)?.getPropertyDescriptor?.(t)?.writable!==!1&&(n.add(t),Reflect.set(e,t,r)),getOwnPropertyDescriptor(e,t){let n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return n;let r=i.get(t);return r?r.getPropertyDescriptor?{...av,...r?.getPropertyDescriptor(t)}:av:n},defineProperty:(e,t,i)=>(n.add(t),Reflect.defineProperty(e,t,i)),getPrototypeOf:()=>Object.prototype});return r[aw]=function(){let e={...this};return delete e[aw],e},r}function aT(e,t){return e.filter(e=>t.get(e)?.has?.(e)??!0)}function aE(e){return{getKeys:()=>e,has:()=>!1,getPropertyValue(){}}}function ak(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function aP({error:e,user_facing_error:t},i,n){var r,a;let s;return t.error_code?new ib((r=t,a=n,s=r.message,("postgresql"===a||"postgres"===a||"mysql"===a)&&"P2037"===r.error_code&&(s+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),s),{code:t.error_code,clientVersion:i,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new ix(e,{clientVersion:i,batchRequestIdx:t.batch_request_idx})}var aA="<unknown>",aI=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,aR=/\((\S*)(?::(\d+))(?::(\d+))\)/,aN=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,aD=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,aS=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,aq=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i,aO=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i,aC=class{getLocation(){return null}},a_=class{constructor(){this._error=Error()}getLocation(){let e=this._error.stack;if(!e)return null;let t=e.split(`
`).reduce(function(e,t){var i,n,r,a,s,l,o=function(e){var t=aI.exec(e);if(!t)return null;var i=t[2]&&0===t[2].indexOf("native"),n=t[2]&&0===t[2].indexOf("eval"),r=aR.exec(t[2]);return n&&null!=r&&(t[2]=r[1],t[3]=r[2],t[4]=r[3]),{file:i?null:t[2],methodName:t[1]||aA,arguments:i?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}(t)||(i=t,(n=aN.exec(i))?{file:n[2],methodName:n[1]||aA,arguments:[],lineNumber:+n[3],column:n[4]?+n[4]:null}:null)||function(e){var t=aD.exec(e);if(!t)return null;var i=t[3]&&t[3].indexOf(" > eval")>-1,n=aS.exec(t[3]);return i&&null!=n&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||aA,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}(t)||(r=t,(a=aO.exec(r))?{file:a[2],methodName:a[1]||aA,arguments:[],lineNumber:+a[3],column:a[4]?+a[4]:null}:null)||(s=t,(l=aq.exec(s))?{file:l[3],methodName:l[1]||aA,arguments:[],lineNumber:+l[4],column:l[5]?+l[5]:null}:null);return o&&e.push(o),e},[]).find(e=>{var t;if(!e.file)return!1;let i=(t=e.file,ia.default.sep===ia.default.posix.sep?t:t.split(ia.default.sep).join(ia.default.posix.sep));return"<anonymous>"!==i&&!i.includes("@prisma")&&!i.includes("/packages/client/src/runtime/")&&!i.endsWith("/runtime/binary.js")&&!i.endsWith("/runtime/library.js")&&!i.endsWith("/runtime/edge.js")&&!i.endsWith("/runtime/edge-esm.js")&&!i.startsWith("internal/")&&!e.methodName.includes("new ")&&!e.methodName.includes("getCallSite")&&!e.methodName.includes("Proxy.")&&e.methodName.split(".").length<4});return t&&t.file?{fileName:t.file,lineNumber:t.lineNumber,columnNumber:t.column}:null}};function aF(e){return"minimal"===e?"function"==typeof $EnabledCallSite&&"minimal"!==e?new $EnabledCallSite:new aC:new a_}var a$={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function aj(e={}){return Object.entries(function(e={}){return"boolean"==typeof e._count?{...e,_count:{_all:e._count}}:e}(e)).reduce((e,[t,i])=>(void 0!==a$[t]?e.select[t]={select:i}:e[t]=i,e),{select:{}})}function aL(e={}){return t=>("boolean"==typeof e._count&&(t._count=t._count._all),t)}function aU(e={}){let{select:t,...i}=e;return"object"==typeof t?aj({...i,_count:t}):aj({...i,_count:{_all:!0}})}function aV(e={}){let t=aj(e);if(Array.isArray(t.by))for(let e of t.by)"string"==typeof e&&(t.select[e]=!0);else"string"==typeof t.by&&(t.select[t.by]=!0);return t}var aM=e=>Array.isArray(e)?e:e.split("."),aG=(e,t)=>aM(t).reduce((e,t)=>e&&e[t],e),aB=(e,t,i)=>aM(t).reduceRight((t,i,n,r)=>Object.assign({},aG(e,r.slice(0,n)),{[i]:t}),i),aH=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],aW=["aggregate","count","groupBy"];function aK(e,t){var i,n,r,a;let s,l,o=e._extensions.getAllModelExtensions(t)??{};return ax({},[(i=e,s=rB(n=t),l=Object.keys(n3).concat("count"),{getKeys:()=>l,getPropertyValue(e){var t;let r=t=>r=>{let a=aF(i._errorFormat);return i._createPrismaPromise(l=>{let o={args:r,dataPath:[],action:e,model:n,clientMethod:`${s}.${e}`,jsModelName:s,transaction:l,callsite:a};return i._request({...o,...t})},{action:e,args:r,model:n})};return aH.includes(e)?function e(t,i,n,r,a,s){let l=t._runtimeDataModel.models[i].fields.reduce((e,t)=>({...e,[t.name]:t}),{});return o=>{var u,d;let c=aF(t._errorFormat),m=void 0===r||void 0===a?[]:[...a,"select",r],f=void 0===s?o??{}:aB(s,m,o||!0),p=n({dataPath:m,callsite:c})(f),h=(u=t,d=i,u._runtimeDataModel.models[d].fields.filter(e=>"object"===e.kind).map(e=>e.name));return new Proxy(p,{get:(i,r)=>h.includes(r)?e(t,l[r].type,n,r,m,f):i[r],...ab([...h,...Object.getOwnPropertyNames(p)])})}}(i,n,r):(t=e,aW.includes(t))?"aggregate"===e?e=>r({action:"aggregate",unpacker:aL(e),argsMapper:aj})(e):"count"===e?e=>r({action:"count",unpacker:function(e={}){return"object"==typeof e.select?t=>aL(e)(t)._count:t=>aL(e)(t)._count._all}(e),argsMapper:aU})(e):"groupBy"===e?e=>r({action:"groupBy",unpacker:function(e={}){return t=>("boolean"==typeof e?._count&&t.forEach(e=>{e._count=e._count._all}),t)}(e),argsMapper:aV})(e):void 0:r({})}}),(r=e,a=t,ay(ag("fields",()=>{let e;return new Proxy({},{get(t,i){if(i in t||"symbol"==typeof i)return t[i];let n=e[i];if(n)return new rI(a,i,n.type,n.isList,"enum"===n.kind)},...ab(Object.keys(e=function(e,t){let i={};for(let n of e)i[n[t]]=n;return i}(r._runtimeDataModel.models[a].fields.filter(e=>!e.relationName),"name")))})}))),ah(o),ag("name",()=>t),ag("$name",()=>t),ag("$parent",()=>e._appliedParent)])}var az=Symbol();function aJ(e){var t,i;let n,r,a,s,l=[(n=[...new Set(Object.getOwnPropertyNames(Object.getPrototypeOf((t=e)._originalClient)))],{getKeys:()=>n,getPropertyValue:e=>t[e]}),(a=(r=Object.keys((i=e)._runtimeDataModel.models)).map(rB),s=[...new Set(r.concat(a))],ay({getKeys:()=>s,getPropertyValue(e){let t=e.replace(/^./,e=>e.toUpperCase());return void 0!==i._runtimeDataModel.models[t]?aK(i,t):void 0!==i._runtimeDataModel.models[e]?aK(i,e):void 0},getPropertyDescriptor(e){if(!a.includes(e))return{enumerable:!1}}})),ag(az,()=>e),ag("$parent",()=>e._appliedParent)],o=e._extensions.getAllClientExtensions();return o&&l.push(ah(o)),ax(e,l)}function aQ(e){if("function"==typeof e)return e(this);if(e.client?.__AccelerateEngine){let t=e.client.__AccelerateEngine;this._originalClient._engine=new t(this._originalClient._accelerateEngineConfig)}return aJ(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$use:{value:void 0},$on:{value:void 0}}))}function aY({visitor:e,result:t,args:i,runtimeDataModel:n,modelName:r}){if(Array.isArray(t)){for(let a=0;a<t.length;a++)t[a]=aY({result:t[a],args:i,modelName:r,runtimeDataModel:n,visitor:e});return t}let a=e(t,r,i)??t;return i.include&&aZ({includeOrSelect:i.include,result:a,parentModelName:r,runtimeDataModel:n,visitor:e}),i.select&&aZ({includeOrSelect:i.select,result:a,parentModelName:r,runtimeDataModel:n,visitor:e}),a}function aZ({includeOrSelect:e,result:t,parentModelName:i,runtimeDataModel:n,visitor:r}){for(let[a,s]of Object.entries(e)){if(!s||null==t[a]||rX(s))continue;let e=n.models[i].fields.find(e=>e.name===a);if(!e||"object"!==e.kind||!e.relationName)continue;let l="object"==typeof s?s:{};t[a]=aY({visitor:r,result:t[a],args:l,modelName:e.type,runtimeDataModel:n})}}var aX=["$connect","$disconnect","$on","$transaction","$use","$extends"];function a0(e){if("object"!=typeof e||null==e||e instanceof rS||rR(e))return e;if(n0(e))return new nH(e.toFixed());if(nZ(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,i;for(i=Array(t);t--;)i[t]=a0(e[t]);return i}if("object"==typeof e){let t={};for(let i in e)"__proto__"===i?Object.defineProperty(t,i,{value:a0(e[i]),configurable:!0,enumerable:!0,writable:!0}):t[i]=a0(e[i]);return t}ir(e,"Unknown value")}var a1=e=>e;function a2(e=a1,t=a1){return i=>e(t(i))}var a3=eT("prisma:client"),a5={Vercel:"vercel","Netlify CI":"netlify"},a4=()=>globalThis.process?.release?.name==="node",a9=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,a7=()=>!!globalThis.Deno,a6=()=>"object"==typeof globalThis.Netlify,a8=()=>"object"==typeof globalThis.EdgeRuntime,se=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers",st={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function si(){let e=[[a6,"netlify"],[a8,"edge-light"],[se,"workerd"],[a7,"deno"],[a9,"bun"],[a4,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0)??"";return{id:e,prettyName:st[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}var sn=f(i(73024)),sr=f(i(76760));function sa(e){let{runtimeBinaryTarget:t}=e;return`Add "${t}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${function(e){let{generator:t,generatorBinaryTargets:i,runtimeBinaryTarget:n}=e,r=[...i,{fromEnvVar:null,value:n}];return String(new t3({...t,binaryTargets:r}))}(e)}`}function ss(e){let{runtimeBinaryTarget:t}=e;return`Prisma Client could not locate the Query Engine for runtime "${t}".`}function sl(e){let{searchedLocations:t}=e;return`The following locations have been searched:
${[...new Set(t)].map(e=>`  ${e}`).join(`
`)}`}function so(e){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${e}`}function su(e){let{errorStack:t}=e;return t?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}var sd=eT("prisma:client:engines:resolveEnginePath"),sc=()=>RegExp("runtime[\\\\/]library\\.m?js$");async function sm(e,t){let i={binary:process.env.PRISMA_QUERY_ENGINE_BINARY,library:process.env.PRISMA_QUERY_ENGINE_LIBRARY}[e]??t.prismaPath;if(void 0!==i)return i;let{enginePath:n,searchedLocations:r}=await sf(e,t);if(sd("enginePath",n),void 0!==n&&"binary"===e&&function(e){if("win32"===process.platform)return;let t=tY.default.statSync(e),i=64|t.mode|9;if(t.mode===i){tZ(`Execution permissions of ${e} are fine`);return}let n=i.toString(8).slice(-3);tZ(`Have to call chmodPlusX on ${e}`),tY.default.chmodSync(e,n)}(n),void 0!==n)return t.prismaPath=n;let a=await te(),s=t.generator?.binaryTargets??[],l=s.some(e=>e.native),o=!s.some(e=>e.value===a),u=null===__filename.match(sc()),d={searchedLocations:r,generatorBinaryTargets:s,generator:t.generator,runtimeBinaryTarget:a,queryEngineName:sp(e,a),expectedLocation:sr.default.relative(process.cwd(),t.dirname),errorStack:Error().stack},c;throw new iv(l&&o?function(e){let{runtimeBinaryTarget:t,generatorBinaryTargets:i}=e,n=i.find(e=>e.native);return`${ss(e)}

This happened because Prisma Client was generated for "${n?.value??"unknown"}", but the actual deployment required "${t}".
${sa(e)}

${sl(e)}`}(d):o?function(e){let{runtimeBinaryTarget:t}=e;return`${ss(e)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${t}".
${sa(e)}

${sl(e)}`}(d):u?function(e){let{queryEngineName:t}=e;return`${ss(e)}${su(e)}

This is likely caused by a bundler that has not copied "${t}" next to the resulting bundle.
Ensure that "${t}" has been copied next to the bundle or in "${e.expectedLocation}".

${so("engine-not-found-bundler-investigation")}

${sl(e)}`}(d):function(e){let{queryEngineName:t}=e;return`${ss(e)}${su(e)}

This is likely caused by tooling that has not copied "${t}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${t}" has been copied to "${e.expectedLocation}".

${so("engine-not-found-tooling-investigation")}

${sl(e)}`}(d),t.clientVersion)}async function sf(e,t){let i=await te(),n=[],r=[t.dirname,sr.default.resolve(__dirname,".."),t.generator?.output?.value??__dirname,sr.default.resolve(__dirname,"../../../.prisma/client"),"/tmp/prisma-engines",t.cwd];for(let t of(__filename.includes("resolveEnginePath")&&r.push(tQ.default.join(__dirname,"../")),r)){let r=sp(e,i),a=sr.default.join(t,r);if(n.push(t),sn.default.existsSync(a))return{enginePath:a,searchedLocations:n}}return{enginePath:void 0,searchedLocations:n}}function sp(e,t){return"library"===e?t.includes("windows")?`query_engine-${t}.dll.node`:t.includes("darwin")?`${ek}-${t}.dylib.node`:`${ek}-${t}.so.node`:`query-engine-${t}${"windows"===t?".exe":""}`}var sh=f(E()),sg=f(A());function sy(e){return"DriverAdapterError"===e.name&&"object"==typeof e.cause}function sv(e){return{ok:!0,value:e,map:t=>sv(t(e)),flatMap:t=>t(e)}}function sb(e){return{ok:!1,error:e,map:()=>sb(e),flatMap:()=>sb(e)}}var sw=eT("driver-adapter-utils"),sx=class{consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;void 0!==this.registeredErrors[t];)t++;return this.registeredErrors[t]={error:e},t}constructor(){this.registeredErrors=[]}},sT=(e,t=new sx)=>{var i,n;let r={adapterName:e.adapterName,errorRegistry:t,queryRaw:sk(t,e.queryRaw.bind(e)),executeRaw:sk(t,e.executeRaw.bind(e)),executeScript:sk(t,e.executeScript.bind(e)),dispose:sk(t,e.dispose.bind(e)),provider:e.provider,startTransaction:async(...i)=>(await sk(t,e.startTransaction.bind(e))(...i)).map(e=>sE(t,e))};return e.getConnectionInfo&&(i=t,n=e.getConnectionInfo.bind(e),r.getConnectionInfo=(...e)=>{try{return sv(n(...e))}catch(e){if(sw("[error@wrapSync]",e),sy(e))return sb(e.cause);return sb({kind:"GenericJs",id:i.registerNewError(e)})}}),r},sE=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:sk(e,t.queryRaw.bind(t)),executeRaw:sk(e,t.executeRaw.bind(t)),commit:sk(e,t.commit.bind(t)),rollback:sk(e,t.rollback.bind(t))});function sk(e,t){return async(...i)=>{try{return sv(await t(...i))}catch(t){if(sw("[error@wrapAsync]",t),sy(t))return sb(t.cause);return sb({kind:"GenericJs",id:e.registerNewError(t)})}}}function sP({inlineDatasources:e,overrideDatasources:t,env:i,clientVersion:n}){let r,a=Object.keys(e)[0],s=e[a]?.url,l=t[a]?.url;if(void 0===a?r=void 0:l?r=l:s?.value?r=s.value:s?.fromEnvVar&&(r=i[s.fromEnvVar]),s?.fromEnvVar!==void 0&&void 0===r)throw new iv(`error: Environment variable not found: ${s.fromEnvVar}.`,n);if(void 0===r)throw new iv("error: Missing URL environment variable, value, or override.",n);return r}var sA=class extends Error{constructor(e,t){super(e),this.clientVersion=t.clientVersion,this.cause=t.cause}get[Symbol.toStringTag](){return this.name}},sI=class extends sA{constructor(e,t){super(e,t),this.isRetryable=t.isRetryable??!0}};function sR(e,t){return{...e,isRetryable:t}}var sN=class extends sI{constructor(e,t){super(e,sR(t,!1)),this.name="InvalidDatasourceError",this.code="P6001"}};ih(sN,"InvalidDatasourceError");var sD=f(b()),sS=class{constructor({apiKey:e,tracingHelper:t,logLevel:i,logQueries:n,engineHash:r}){this.apiKey=e,this.tracingHelper=t,this.logLevel=i,this.logQueries=n,this.engineHash=r}build({traceparent:e,transactionId:t}={}){let i={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":sD.enginesVersion};this.tracingHelper.isEnabled()&&(i.traceparent=e??this.tracingHelper.getTraceParent()),t&&(i["X-Transaction-Id"]=t);let n=this.#e();return n.length>0&&(i["X-Capture-Telemetry"]=n.join(", ")),i}#e(){let e=[];return this.tracingHelper.isEnabled()&&e.push("tracing"),this.logLevel&&e.push(this.logLevel),this.logQueries&&e.push("query"),e}};function sq(e){return new Date(1e3*e[0]+e[1]/1e6)}var sO=class extends sI{constructor(e){super("This request must be retried",sR(e,!0)),this.name="ForcedRetryError",this.code="P5001"}};ih(sO,"ForcedRetryError");var sC=class extends sI{constructor(e,t){super(e,sR(t,!1)),this.name="NotImplementedYetError",this.code="P5004"}};ih(sC,"NotImplementedYetError");var s_=class extends sI{constructor(e,t){super(e,t),this.response=t.response;let i=this.response.headers.get("prisma-request-id");if(i){let e=`(The request id was: ${i})`;this.message=this.message+" "+e}}},sF=class extends s_{constructor(e){super("Schema needs to be uploaded",sR(e,!0)),this.name="SchemaMissingError",this.code="P5005"}};ih(sF,"SchemaMissingError");var s$="This request could not be understood by the server",sj=class extends s_{constructor(e,t,i){super(t||s$,sR(e,!1)),this.name="BadRequestError",this.code="P5000",i&&(this.code=i)}};ih(sj,"BadRequestError");var sL=class extends s_{constructor(e,t){super("Engine not started: healthcheck timeout",sR(e,!0)),this.name="HealthcheckTimeoutError",this.code="P5013",this.logs=t}};ih(sL,"HealthcheckTimeoutError");var sU=class extends s_{constructor(e,t,i){super(t,sR(e,!0)),this.name="EngineStartupError",this.code="P5014",this.logs=i}};ih(sU,"EngineStartupError");var sV=class extends s_{constructor(e){super("Engine version is not supported",sR(e,!1)),this.name="EngineVersionNotSupportedError",this.code="P5012"}};ih(sV,"EngineVersionNotSupportedError");var sM="Request timed out",sG=class extends s_{constructor(e,t=sM){super(t,sR(e,!1)),this.name="GatewayTimeoutError",this.code="P5009"}};ih(sG,"GatewayTimeoutError");var sB=class extends s_{constructor(e,t="Interactive transaction error"){super(t,sR(e,!1)),this.name="InteractiveTransactionError",this.code="P5015"}};ih(sB,"InteractiveTransactionError");var sH=class extends s_{constructor(e,t="Request parameters are invalid"){super(t,sR(e,!1)),this.name="InvalidRequestError",this.code="P5011"}};ih(sH,"InvalidRequestError");var sW="Requested resource does not exist",sK=class extends s_{constructor(e,t=sW){super(t,sR(e,!1)),this.name="NotFoundError",this.code="P5003"}};ih(sK,"NotFoundError");var sz="Unknown server error",sJ=class extends s_{constructor(e,t,i){super(t||sz,sR(e,!0)),this.name="ServerError",this.code="P5006",this.logs=i}};ih(sJ,"ServerError");var sQ="Unauthorized, check your connection string",sY=class extends s_{constructor(e,t=sQ){super(t,sR(e,!1)),this.name="UnauthorizedError",this.code="P5007"}};ih(sY,"UnauthorizedError");var sZ="Usage exceeded, retry again later",sX=class extends s_{constructor(e,t=sZ){super(t,sR(e,!0)),this.name="UsageExceededError",this.code="P5008"}};async function s0(e){let t;try{t=await e.text()}catch{return{type:"EmptyError"}}try{let e=JSON.parse(t);if("string"==typeof e)if("InternalDataProxyError"===e)return{type:"DataProxyError",body:e};else return{type:"UnknownTextError",body:e};if("object"==typeof e&&null!==e){if("is_panic"in e&&"message"in e&&"error_code"in e)return{type:"QueryEngineError",body:e};if("EngineNotStarted"in e||"InteractiveTransactionMisrouted"in e||"InvalidRequestError"in e){let t=Object.values(e)[0].reason;return"string"!=typeof t||["SchemaMissing","EngineVersionNotSupported"].includes(t)?{type:"DataProxyError",body:e}:{type:"UnknownJsonError",body:e}}}return{type:"UnknownJsonError",body:e}}catch{return""===t?{type:"EmptyError"}:{type:"UnknownTextError",body:t}}}async function s1(e,t){if(e.ok)return;let i={clientVersion:t,response:e},n=await s0(e);if("QueryEngineError"===n.type)throw new ib(n.body.message,{code:n.body.error_code,clientVersion:t});if("DataProxyError"===n.type){if("InternalDataProxyError"===n.body)throw new sJ(i,"Internal Data Proxy error");if("EngineNotStarted"in n.body){if("SchemaMissing"===n.body.EngineNotStarted.reason)return new sF(i);if("EngineVersionNotSupported"===n.body.EngineNotStarted.reason)throw new sV(i);if("EngineStartupError"in n.body.EngineNotStarted.reason){let{msg:e,logs:t}=n.body.EngineNotStarted.reason.EngineStartupError;throw new sU(i,e,t)}if("KnownEngineStartupError"in n.body.EngineNotStarted.reason){let{msg:e,error_code:i}=n.body.EngineNotStarted.reason.KnownEngineStartupError;throw new iv(e,t,i)}if("HealthcheckTimeout"in n.body.EngineNotStarted.reason){let{logs:e}=n.body.EngineNotStarted.reason.HealthcheckTimeout;throw new sL(i,e)}}if("InteractiveTransactionMisrouted"in n.body)throw new sB(i,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[n.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in n.body)throw new sH(i,n.body.InvalidRequestError.reason)}if(401===e.status||403===e.status)throw new sY(i,s2(sQ,n));if(404===e.status)return new sK(i,s2(sW,n));if(429===e.status)throw new sX(i,s2(sZ,n));if(504===e.status)throw new sG(i,s2(sM,n));if(e.status>=500)throw new sJ(i,s2(sz,n));if(e.status>=400)throw new sj(i,s2(s$,n))}function s2(e,t){return"EmptyError"===t.type?e:`${e}: ${JSON.stringify(t)}`}ih(sX,"UsageExceededError");var s3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s5={"@prisma/engines-version":"6.12.0-15.8047c96bbd92db98a2abc7c9323ce77c02c89dbc"},s4=class extends sI{constructor(e,t){super(`Cannot fetch data from service:
${e}`,sR(t,!0)),this.name="RequestError",this.code="P5010"}};async function s9(e,t,i=e=>e){let{clientVersion:n,...r}=t,a=i(fetch);try{return await a(e,r)}catch(e){throw new s4(e.message??"Unknown error",{clientVersion:n,cause:e})}}ih(s4,"RequestError");var s7=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,s6=eT("prisma:client:dataproxyEngine");async function s8(e,t){let i=s5["@prisma/engines-version"],n=t.clientVersion??"unknown";if(process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(e.includes("accelerate")&&"0.0.0"!==n&&"in-memory"!==n)return n;let[r,a]=n?.split("-")??[];if(void 0===a&&s7.test(r))return r;if(void 0!==a||"0.0.0"===n||"in-memory"===n){var s;let e,[t]=i.split("-")??[],[r,a,l]=t.split("."),o=(s=`<=${r}.${a}.${l}`,encodeURI(`https://unpkg.com/prisma@${s}/package.json`)),u=await s9(o,{clientVersion:n});if(!u.ok)throw Error(`Failed to fetch stable Prisma version, unpkg.com status ${u.status} ${u.statusText}, response body: ${await u.text()||"<empty body>"}`);let d=await u.text();s6("length of body fetched from unpkg.com",d.length);try{e=JSON.parse(d)}catch(e){throw console.error("JSON.parse error: body fetched from unpkg.com: ",d),e}return e.version}throw new sC("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:n})}async function le(e,t){let i=await s8(e,t);return s6("version",i),i}var lt,li=eT("prisma:client:dataproxyEngine"),ln=class{constructor(e){this.name="DataProxyEngine",function(e){if(e.generator?.previewFeatures.some(e=>e.toLowerCase().includes("metrics")))throw new iv("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",e.clientVersion)}(e),this.config=e,this.env=e.env,this.inlineSchema=function(e){let t=new TextEncoder().encode(e),i="",n=t.byteLength,r=n%3,a=n-r,s,l,o,u,d;for(let e=0;e<a;e+=3)s=(0xfc0000&(d=t[e]<<16|t[e+1]<<8|t[e+2]))>>18,l=(258048&d)>>12,o=(4032&d)>>6,u=63&d,i+=s3[s]+s3[l]+s3[o]+s3[u];return 1==r?(s=(252&(d=t[a]))>>2,l=(3&d)<<4,i+=s3[s]+s3[l]+"=="):2==r&&(s=(64512&(d=t[a]<<8|t[a+1]))>>10,l=(1008&d)>>4,o=(15&d)<<2,i+=s3[s]+s3[l]+s3[o]+"="),i}(e.inlineSchema),this.inlineDatasources=e.inlineDatasources,this.inlineSchemaHash=e.inlineSchemaHash,this.clientVersion=e.clientVersion,this.engineHash=e.engineVersion,this.logEmitter=e.logEmitter,this.tracingHelper=e.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){void 0!==this.startPromise&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:e,url:t}=this.getURLAndAPIKey();this.host=t.host,this.protocol=t.protocol,this.headerBuilder=new sS({apiKey:e,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await le(this.host,this.config),li("host",this.host),li("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(e){e?.logs?.length&&e.logs.forEach(e=>{switch(e.level){case"debug":case"trace":li(e);break;case"error":case"warn":case"info":this.logEmitter.emit(e.level,{timestamp:sq(e.timestamp),message:e.attributes.message??"",target:e.target});break;case"query":this.logEmitter.emit("query",{query:e.attributes.query??"",timestamp:sq(e.timestamp),duration:e.attributes.duration_ms??0,params:e.attributes.params??"",target:e.target});break;default:e.level}}),e?.traces?.length&&this.tracingHelper.dispatchEngineSpans(e.traces)}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the remote query engine')}async url(e){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${e}`}async uploadSchema(){return this.tracingHelper.runInChildSpan({name:"schemaUpload",internal:!0},async()=>{let e=await s9(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});e.ok||li("schema response status",e.status);let t=await s1(e,this.clientVersion);if(t)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${t.message}`,timestamp:new Date,target:""}),t;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(e,{traceparent:t,interactiveTransaction:i,customDataProxyFetch:n}){return this.requestInternal({body:e,traceparent:t,interactiveTransaction:i,customDataProxyFetch:n})}async requestBatch(e,{traceparent:t,transaction:i,customDataProxyFetch:n}){let r=i?.kind==="itx"?i.options:void 0,a=ak(e,i);return(await this.requestInternal({body:a,customDataProxyFetch:n,interactiveTransaction:r,traceparent:t})).map(e=>(e.extensions&&this.propagateResponseExtensions(e.extensions),"errors"in e?this.convertProtocolErrorsToClientError(e.errors):e))}requestInternal({body:e,traceparent:t,customDataProxyFetch:i,interactiveTransaction:n}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:r})=>{let a=n?`${n.payload.endpoint}/graphql`:await this.url("graphql");r(a);let s=await s9(a,{method:"POST",headers:this.headerBuilder.build({traceparent:t,transactionId:n?.id}),body:JSON.stringify(e),clientVersion:this.clientVersion},i);s.ok||li("graphql response status",s.status),await this.handleError(await s1(s,this.clientVersion));let l=await s.json();if(l.extensions&&this.propagateResponseExtensions(l.extensions),"errors"in l)throw this.convertProtocolErrorsToClientError(l.errors);return"batchResult"in l?l.batchResult:l}})}async transaction(e,t,i){return this.withRetry({actionGerund:`${{start:"starting",commit:"committing",rollback:"rolling back"}[e]} transaction`,callback:async({logHttpCall:n})=>{if("start"===e){let e=JSON.stringify({max_wait:i.maxWait,timeout:i.timeout,isolation_level:i.isolationLevel}),r=await this.url("transaction/start");n(r);let a=await s9(r,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),body:e,clientVersion:this.clientVersion});await this.handleError(await s1(a,this.clientVersion));let s=await a.json(),{extensions:l}=s;return l&&this.propagateResponseExtensions(l),{id:s.id,payload:{endpoint:s["data-proxy"].endpoint}}}{let r=`${i.payload.endpoint}/${e}`;n(r);let a=await s9(r,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),clientVersion:this.clientVersion});await this.handleError(await s1(a,this.clientVersion));let{extensions:s}=await a.json();s&&this.propagateResponseExtensions(s);return}}})}getURLAndAPIKey(){return function(e){let t={clientVersion:e.clientVersion},i=Object.keys(e.inlineDatasources)[0],n=sP({inlineDatasources:e.inlineDatasources,overrideDatasources:e.overrideDatasources,clientVersion:e.clientVersion,env:{...e.env,..."u">typeof process?process.env:{}}}),r;try{r=new URL(n)}catch{throw new sN(`Error validating datasource \`${i}\`: the URL must start with the protocol \`prisma://\``,t)}let{protocol:a,searchParams:s}=r;if("prisma:"!==a&&a!==t0)throw new sN(`Error validating datasource \`${i}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,t);let l=s.get("api_key");if(null===l||l.length<1)throw new sN(`Error validating datasource \`${i}\`: the URL must contain a valid API key`,t);let o=!function(e){if(!t1(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}(r)?"https:":"http:";return{apiKey:l,url:new URL(r.href.replace(a,o))}}({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new sC("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(e){for(let t=0;;t++){let i=e=>{this.logEmitter.emit("info",{message:`Calling ${e} (n=${t})`,timestamp:new Date,target:""})};try{return await e.callback({logHttpCall:i})}catch(n){if(!(n instanceof sI)||!n.isRetryable)throw n;if(t>=3)throw n instanceof sO?n.cause:n;this.logEmitter.emit("warn",{message:`Attempt ${t+1}/3 failed for ${e.actionGerund}: ${n.message??"(unknown)"}`,timestamp:new Date,target:""});let i=await function(e){let t=50*Math.pow(2,e),i=Math.ceil(Math.random()*t)-Math.ceil(t/2),n=t+i;return new Promise(e=>setTimeout(()=>e(n),n))}(t);this.logEmitter.emit("warn",{message:`Retrying after ${i}ms`,timestamp:new Date,target:""})}}}async handleError(e){if(e instanceof sF)throw await this.uploadSchema(),new sO({clientVersion:this.clientVersion,cause:e});if(e)throw e}convertProtocolErrorsToClientError(e){return 1===e.length?aP(e[0],this.config.clientVersion,this.config.activeProvider):new ix(JSON.stringify(e),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw Error("Method not implemented.")}},lr=f(i(48161)),la=f(i(76760)),ls=Symbol("PrismaLibraryEngineCache"),ll={async loadLibrary(e){let t=await tt(),i=await sm("library",e);try{return e.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>(function(e){let t,i=(void 0===(t=globalThis)[ls]&&(t[ls]={}),t[ls]);if(void 0!==i[e])return i[e];let n=la.default.toNamespacedPath(e),r={exports:{}},a=0;return"win32"!==process.platform&&(a=lr.default.constants.dlopen.RTLD_LAZY|lr.default.constants.dlopen.RTLD_DEEPBIND),process.dlopen(r,n,a),i[e]=r.exports,r.exports})(i))}catch(c){var n,r;let a,s,l,o,u,d;throw new iv((a=(n={e:c,platformInfo:t,id:i}).e,s=e=>`Prisma cannot find the required \`${e}\` system library in your system`,l=a.message.includes("cannot open shared object file"),o=`Please refer to the documentation about Prisma's system requirements: ${tK(r="https://pris.ly/d/system-requirements",r,{fallback:z})}`,u=`Unable to require(\`${W(n.id)}\`).`,d=ez({message:a.message,code:a.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:e})=>l&&e.includes("libz"),()=>`${s("libz")}. Please install it and try again.`).when(({message:e})=>l&&e.includes("libgcc_s"),()=>`${s("libgcc_s")}. Please install it and try again.`).when(({message:e})=>l&&e.includes("libssl"),()=>{let e=n.platformInfo.libssl?`openssl-${n.platformInfo.libssl}`:"openssl";return`${s("libssl")}. Please install ${e} and try again.`}).when(({message:e})=>e.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${o}`).when(({message:e})=>"linux"===n.platformInfo.platform&&e.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${n.platformInfo.originalDistro} on (${n.platformInfo.archFromUname}) which uses the \`${n.platformInfo.binaryTarget}\` binaryTarget by default. ${o}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${o}`),`${u}
${d}

Details: ${a.message}`),e.clientVersion)}}},lo={async loadLibrary(e){let{clientVersion:t,adapter:i,engineWasm:n}=e;if(void 0===i)throw new iv(`The \`adapter\` option for \`PrismaClient\` is required in this context (${si().prettyName})`,t);if(void 0===n)throw new iv("WASM engine was unexpectedly `undefined`",t);return void 0===lt&&(lt=(async()=>{let e=await n.getRuntime(),i=await n.getQueryEngineWasmModule();if(null==i)throw new iv("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let r=new WebAssembly.Instance(i,{"./query_engine_bg.js":e}),a=r.exports.__wbindgen_start;return e.__wbg_set_wasm(r.exports),a(),e.QueryEngine})()),{debugPanic:()=>Promise.reject("{}"),dmmf:()=>Promise.resolve("{}"),version:()=>({commit:"unknown",version:"unknown"}),QueryEngine:await lt}}},lu=eT("prisma:client:libraryEngine"),ld=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm","native"],lc=1n,lm=class{constructor(e,t){this.name="LibraryEngine",this.libraryLoader=t??ll,void 0!==e.engineWasm&&(this.libraryLoader=t??lo),this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug");let i=Object.keys(e.overrideDatasources)[0],n=e.overrideDatasources[i]?.url;void 0!==i&&void 0!==n&&(this.datasourceOverrides={[i]:n}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(e){return{applyPendingMigrations:e.applyPendingMigrations?.bind(e),commitTransaction:this.withRequestId(e.commitTransaction.bind(e)),connect:this.withRequestId(e.connect.bind(e)),disconnect:this.withRequestId(e.disconnect.bind(e)),metrics:e.metrics?.bind(e),query:this.withRequestId(e.query.bind(e)),rollbackTransaction:this.withRequestId(e.rollbackTransaction.bind(e)),sdlSchema:e.sdlSchema?.bind(e),startTransaction:this.withRequestId(e.startTransaction.bind(e)),trace:e.trace.bind(e),free:e.free?.bind(e)}}withRequestId(e){return async(...t)=>{let i,n=(i=lc++,lc>0xffffffffffffffffn&&(lc=1n),i).toString();try{return await e(...t,n)}finally{if(this.tracingHelper.isEnabled()){let e=await this.engine?.trace(n);if(e){let t=JSON.parse(e);this.tracingHelper.dispatchEngineSpans(t.spans)}}}}}async applyPendingMigrations(){throw Error("Cannot call this method from this type of engine instance")}async transaction(e,t,i){var n;await this.start();let r=await this.adapterPromise,a=JSON.stringify(t),s;if("start"===e){let e=JSON.stringify({max_wait:i.maxWait,timeout:i.timeout,isolation_level:i.isolationLevel});s=await this.engine?.startTransaction(e,a)}else"commit"===e?s=await this.engine?.commitTransaction(i.id,a):"rollback"===e&&(s=await this.engine?.rollbackTransaction(i.id,a));let l=this.parseEngineResponse(s);if("object"==typeof(n=l)&&null!==n&&void 0!==n.error_code){let e=this.getExternalAdapterError(l,r?.errorRegistry);throw e?e.error:new ib(l.message,{code:l.error_code,clientVersion:this.config.clientVersion,meta:l.meta})}if("string"==typeof l.message)throw new ix(l.message,{clientVersion:this.config.clientVersion});return l}async instantiateLibrary(){if(lu("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;(function(){let e=process.env.PRISMA_QUERY_ENGINE_LIBRARY;if(!(e&&eE.default.existsSync(e))&&"ia32"===process.arch)throw Error('The default query engine type (Node-API, "library") is currently not supported for 32bit Node. Please set `engineType = "binary"` in the "generator" block of your "schema.prisma" file (or use the environment variables "PRISMA_CLIENT_ENGINE_TYPE=binary" and/or "PRISMA_CLI_QUERY_ENGINE_TYPE=binary".)')})(),this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let e=await this.tracingHelper.runInChildSpan("detect_platform",()=>te());if(!ld.includes(e))throw new iv(`Unknown ${X("PRISMA_QUERY_ENGINE_LIBRARY")} ${X(H(e))}. Possible binaryTargets: ${ee(ld.join(", "))} or a path to the query engine library.
You may have to run ${ee("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return e}}parseEngineResponse(e){if(!e)throw new ix("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new ix("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new WeakRef(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(sT));let t=await this.adapterPromise;t&&lu("Using driver adapter: %O",t),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:process.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},t=>{e.deref()?.logger(t)},t))}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new iv(e.message,this.config.clientVersion,e.error_code)}}}logger(e){let t=this.parseEngineResponse(e);t&&(t.level=t?.level.toLowerCase()??"unknown","query"===t.item_type&&"query"in t?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):"level"in t&&"error"===t.level&&"PANIC"===t.message?this.loggerRustPanic=new iw(lf(this,`${t.message}: ${t.reason} in ${t.file}:${t.line}:${t.column}`),this.config.clientVersion):this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path}))}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return lu(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{lu("library starting");try{let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(e)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(sT)),await this.adapterPromise,lu("library started")}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new iv(e.message,this.config.clientVersion,e.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return lu("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let e=async()=>{await new Promise(e=>setImmediate(e)),lu("library stopping");let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(e)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,lu("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:i}){lu(`sending request, this.libraryStarted: ${this.libraryStarted}`);let n=JSON.stringify({traceparent:t}),r=JSON.stringify(e);try{await this.start();let e=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(r,n,i?.id),this.lastQuery=r;let t=this.parseEngineResponse(await this.executingQueryPromise);if(t.errors)throw 1===t.errors.length?this.buildQueryError(t.errors[0],e?.errorRegistry):new ix(JSON.stringify(t.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:t}}catch(t){if(t instanceof iv)throw t;if("GenericFailure"===t.code&&t.message?.startsWith("PANIC:"))throw new iw(lf(this,t.message),this.config.clientVersion);let e=this.parseRequestError(t.message);throw"string"==typeof e?t:new ix(`${e.message}
${e.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:i}){lu("requestBatch");let n=ak(e,t);await this.start();let r=await this.adapterPromise;this.lastQuery=JSON.stringify(n),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:i}),function(e){if(e?.kind==="itx")return e.options.id}(t));let a=await this.executingQueryPromise,s=this.parseEngineResponse(a);if(s.errors)throw 1===s.errors.length?this.buildQueryError(s.errors[0],r?.errorRegistry):new ix(JSON.stringify(s.errors),{clientVersion:this.config.clientVersion});let{batchResult:l,errors:o}=s;if(Array.isArray(l))return l.map(e=>e.errors&&e.errors.length>0?this.loggerRustPanic??this.buildQueryError(e.errors[0],r?.errorRegistry):{data:e});throw o&&1===o.length?Error(o[0].error):Error(JSON.stringify(s))}buildQueryError(e,t){if(e.user_facing_error.is_panic)return new iw(lf(this,e.user_facing_error.message),this.config.clientVersion);let i=this.getExternalAdapterError(e.user_facing_error,t);return i?i.error:aP(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e,t){if("P2036"===e.error_code&&t){let i=e.meta?.id;ii("number"==typeof i,"Malformed external JS error received from the engine");let n=t.consumeError(i);return ii(n,"External error with reported id was not registered"),n}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return"prometheus"===e.format?t:this.parseEngineResponse(t)}};function lf(e,t){return function({version:e,binaryTarget:t,title:i,description:n,engineVersion:r,database:a,query:s}){var l;let o=function(e=7500){let t=ey.map(([e,...t])=>`${e} ${t.map(e=>"string"==typeof e?e:JSON.stringify(e)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}(6e3-(s?.length??0)),u=(0,sh.default)(o).split(`
`).map(e=>e.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`),d=n?`# Description
\`\`\`
${n}
\`\`\``:"",c=function({title:e,user:t="prisma",repo:i="prisma",template:n="bug_report.yml",body:r}){return(0,sg.default)({user:t,repo:i,template:n,title:e,body:r})}({title:i,body:(0,sh.default)(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${r?.padEnd(19)}|
| Database        | ${a?.padEnd(19)}|

${d}

## Logs
\`\`\`
${u}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s&&(l=s)?l.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,e=>`${e[0]}5`):""}
\`\`\`
`)});return`${i}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${z(c)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}({binaryTarget:e.binaryTarget,title:t,version:e.config.clientVersion,engineVersion:e.versionInfo?.commit,database:e.config.activeProvider,query:e.lastQuery})}function lp({generator:e}){return e?.previewFeatures??[]}var lh=e=>({command:e}),lg=e=>e.strings.reduce((e,t,i)=>`${e}@P${i}${t}`);function ly(e){try{return lv(e,"fast")}catch{return lv(e,"slow")}}function lv(e,t){return JSON.stringify(e.map(e=>(function e(t,i){var n;if(Array.isArray(t))return t.map(t=>e(t,i));if("bigint"==typeof t)return{prisma__type:"bigint",prisma__value:t.toString()};if(nZ(t))return{prisma__type:"date",prisma__value:t.toJSON()};if(nH.isDecimal(t))return{prisma__type:"decimal",prisma__value:t.toJSON()};if(Buffer.isBuffer(t))return{prisma__type:"bytes",prisma__value:t.toString("base64")};if((n=t)instanceof ArrayBuffer||n instanceof SharedArrayBuffer||"object"==typeof n&&null!==n&&("ArrayBuffer"===n[Symbol.toStringTag]||"SharedArrayBuffer"===n[Symbol.toStringTag]))return{prisma__type:"bytes",prisma__value:Buffer.from(t).toString("base64")};if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:i,byteLength:n}=t;return{prisma__type:"bytes",prisma__value:Buffer.from(e,i,n).toString("base64")}}return"object"==typeof t&&"slow"===i?lb(t):t})(e,t)))}function lb(e){if("object"!=typeof e||null===e)return e;if("function"==typeof e.toJSON)return e.toJSON();if(Array.isArray(e))return e.map(lw);let t={};for(let i of Object.keys(e))t[i]=lw(e[i]);return t}function lw(e){return"bigint"==typeof e?e.toString():lb(e)}var lx=/^(\s*alter\s)/i,lT=eT("prisma:client");function lE(e,t,i,n){if(("postgresql"===e||"cockroachdb"===e)&&i.length>0&&lx.exec(t))throw Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var lk=({clientMethod:e,activeProvider:t})=>i=>{let n="",r;if(ar(i))n=i.sql,r={values:ly(i.values),__prismaRawParameters__:!0};else if(Array.isArray(i)){let[e,...t]=i;n=e,r={values:ly(t||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":n=i.sql,r={values:ly(i.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":n=i.text,r={values:ly(i.values),__prismaRawParameters__:!0};break;case"sqlserver":n=lg(i),r={values:ly(i.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${t} provider does not support ${e}`)}return r?.values?lT(`prisma.${e}(${n}, ${r.values})`):lT(`prisma.${e}(${n})`),{query:n,parameters:r}},lP={requestArgsToMiddlewareArgs:e=>[e.strings,...e.values],middlewareArgsToRequestArgs(e){let[t,...i]=e;return new ad(t,i)}},lA={requestArgsToMiddlewareArgs:e=>[e],middlewareArgsToRequestArgs:e=>e[0]};function lI(e){return function(t,i){let n,r=(i=e)=>{try{return void 0===i||i?.kind==="itx"?n??=lR(t(i)):lR(t(i))}catch(e){return Promise.reject(e)}};return{get spec(){return i},then:(e,t)=>r().then(e,t),catch:e=>r().catch(e),finally:e=>r().finally(e),requestTransaction(e){let t=r(e);return t.requestTransaction?t.requestTransaction(e):t},[Symbol.toStringTag]:"PrismaPromise"}}}function lR(e){return"function"==typeof e.then?e:Promise.resolve(e)}var lN=tz.split(".")[0],lD={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(e,t)=>t()},lS=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=globalThis[`V${lN}_PRISMA_INSTRUMENTATION`],t=globalThis.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??lD}},lq=class{use(e){this._middlewares.push(e)}get(e){return this._middlewares[e]}has(e){return!!this._middlewares[e]}length(){return this._middlewares.length}constructor(){this._middlewares=[]}},lO=f(E());function lC(e){return"number"==typeof e.batchRequestIdx}function l_(e){return`(${Object.keys(e).sort().map(t=>{let i=e[t];return"object"==typeof i&&null!==i?`(${t} ${l_(i)})`:t}).join(" ")})`}var lF={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0},l$=class{constructor(e){this.tickActive=!1,this.options=e,this.batches={}}request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((i,n)=>{this.batches[t].push({request:e,resolve:i,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],1===t.length?this.options.singleLoader(t[0].request).then(e=>{e instanceof Error?t[0].reject(e):t[0].resolve(e)}).catch(e=>{t[0].reject(e)}):(t.sort((e,t)=>this.options.batchOrder(e.request,t.request)),this.options.batchLoader(t.map(e=>e.request)).then(e=>{if(e instanceof Error)for(let i=0;i<t.length;i++)t[i].reject(e);else for(let i=0;i<t.length;i++){let n=e[i];n instanceof Error?t[i].reject(n):t[i].resolve(n)}}).catch(e=>{for(let i=0;i<t.length;i++)t[i].reject(e)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function lj(e){let t=[],i=function(e){let t={};for(let i=0;i<e.columns.length;i++)t[e.columns[i]]=null;return t}(e);for(let n=0;n<e.rows.length;n++){let r=e.rows[n],a={...i};for(let t=0;t<r.length;t++)a[e.columns[t]]=function e(t,i){if(null===i)return i;switch(t){case"bigint":return BigInt(i);case"bytes":{let{buffer:e,byteOffset:t,byteLength:n}=Buffer.from(i,"base64");return new Uint8Array(e,t,n)}case"decimal":return new nH(i);case"datetime":case"date":return new Date(i);case"time":return new Date(`1970-01-01T${i}Z`);case"bigint-array":return i.map(t=>e("bigint",t));case"bytes-array":return i.map(t=>e("bytes",t));case"decimal-array":return i.map(t=>e("decimal",t));case"datetime-array":return i.map(t=>e("datetime",t));case"date-array":return i.map(t=>e("date",t));case"time-array":return i.map(t=>e("time",t));default:return i}}(e.types[t],r[t]);t.push(a)}return t}var lL=eT("prisma:client:request_handler"),lU=class{constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new l$({batchLoader:function(e){return t=>{let i={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?function e(t,i,n,r){if(n===i.length)return r(t);let a=t.customDataProxyFetch,s=t.requests[0].transaction;return i[n]({args:{queries:t.requests.map(e=>({model:e.modelName,operation:e.action,args:e.args})),transaction:s?{isolationLevel:"batch"===s.kind?s.isolationLevel:void 0}:void 0},__internalParams:t,query(s,l=t){let o=l.customDataProxyFetch;return l.customDataProxyFetch=a2(a,o),e(l,i,n+1,r)}})}(i,n,0,e):e(i)}}(async({requests:e,customDataProxyFetch:t})=>{let{transaction:i,otelParentCtx:n}=e[0],r=e.map(e=>e.protocolQuery),a=this.client._tracingHelper.getTraceParent(n),s=e.some(e=>lF[e.protocolQuery.action]);return(await this.client._engine.requestBatch(r,{traceparent:a,transaction:function(e){if(e){if("batch"===e.kind)return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if("itx"===e.kind)return{kind:"itx",options:lV(e)};ir(e,"Unknown transaction kind")}}(i),containsWrite:s,customDataProxyFetch:t})).map((t,i)=>{if(t instanceof Error)return t;try{return this.mapQueryEngineResult(e[i],t)}catch(e){return e}})}),singleLoader:async e=>{let t=e.transaction?.kind==="itx"?lV(e.transaction):void 0,i=await this.client._engine.request(e.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:t,isWrite:lF[e.protocolQuery.action],customDataProxyFetch:e.customDataProxyFetch});return this.mapQueryEngineResult(e,i)},batchBy:e=>e.transaction?.id?`transaction-${e.transaction.id}`:function(e){if("findUnique"!==e.action&&"findUniqueOrThrow"!==e.action)return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(l_(e.query.arguments)),t.push(l_(e.query.selection)),t.join("")}(e.protocolQuery),batchOrder:(e,t)=>e.transaction?.kind==="batch"&&t.transaction?.kind==="batch"?e.transaction.index-t.transaction.index:0})}async request(e){try{return await this.dataloader.request(e)}catch(s){let{clientMethod:t,callsite:i,transaction:n,args:r,modelName:a}=e;this.handleAndLogRequestError({error:s,clientMethod:t,callsite:i,transaction:n,args:r,modelName:a,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},i){let n=i?.data,r=this.unpack(n,e,t);return process.env.PRISMA_CLIENT_GET_TIME?{data:r}:r}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:i,transaction:n,args:r,modelName:a,globalOmit:s}){var l,o,u;if(lL(e),l=e,o=n,lC(l)&&o?.kind==="batch"&&l.batchRequestIdx!==o.index)throw e;e instanceof ib&&("P2009"===(u=e).code||"P2012"===u.code)&&rG({args:r,errors:[function e(t){if("Union"===t.kind)return{kind:"Union",errors:t.errors.map(e)};if(Array.isArray(t.selectionPath)){let[,...e]=t.selectionPath;return{...t,selectionPath:e}}return t}(e.meta)],callsite:i,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:s});let d=e.message;if(i&&(d=rn({callsite:i,originalMethod:t,isPanic:e.isPanic,showColors:"pretty"===this.client._errorFormat,message:d})),d=this.sanitizeMessage(d),e.code){let t=a?{modelName:a,...e.meta}:e.meta;throw new ib(d,{code:e.code,clientVersion:this.client._clientVersion,meta:t,batchRequestIdx:e.batchRequestIdx})}if(e.isPanic)throw new iw(d,this.client._clientVersion);if(e instanceof ix)throw new ix(d,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof iv)throw new iv(d,this.client._clientVersion);if(e instanceof iw)throw new iw(d,this.client._clientVersion);throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?(0,lO.default)(e):e}unpack(e,t,i){if(!e||(e.data&&(e=e.data),!e))return e;let n=Object.keys(e)[0],r=aG(Object.values(e)[0],t.filter(e=>"select"!==e&&"include"!==e)),a="queryRaw"===n?lj(r):nW(r);return i?i(a):a}get[Symbol.toStringTag](){return"RequestHandler"}};function lV(e){return{id:e.id,payload:e.payload}}var lM=f(I()),lG=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};ih(lG,"PrismaClientConstructorValidationError");var lB=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],lH=["pretty","colorless","minimal"],lW=["info","query","warn","error"],lK={datasources:(e,{datasourceNames:t})=>{if(e){if("object"!=typeof e||Array.isArray(e))throw new lG(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[i,n]of Object.entries(e)){if(!t.includes(i)){let e=lz(i,t)||` Available datasources: ${t.join(", ")}`;throw new lG(`Unknown datasource ${i} provided to PrismaClient constructor.${e}`)}if("object"!=typeof n||Array.isArray(n))throw new lG(`Invalid value ${JSON.stringify(e)} for datasource "${i}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(n&&"object"==typeof n)for(let[t,r]of Object.entries(n)){if("url"!==t)throw new lG(`Invalid value ${JSON.stringify(e)} for datasource "${i}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof r)throw new lG(`Invalid value ${JSON.stringify(r)} for datasource "${i}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&"client"===tJ(t.generator))throw new lG('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(null!==e){if(void 0===e)throw new lG('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(!lp(t).includes("driverAdapters"))throw new lG('"adapter" property can only be provided to PrismaClient constructor when "driverAdapters" preview feature is enabled.');if("binary"===tJ(t.generator))throw new lG('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if("u">typeof e&&"string"!=typeof e)throw new lG(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if("string"!=typeof e)throw new lG(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!lH.includes(e)){let t=lz(e,lH);throw new lG(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(e){if(!Array.isArray(e))throw new lG(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);for(let i of e){t(i);let e={level:t,emit:e=>{let t=["stdout","event"];if(!t.includes(e)){let i=lz(e,t);throw new lG(`Invalid value ${JSON.stringify(e)} for "emit" in logLevel provided to PrismaClient constructor.${i}`)}}};if(i&&"object"==typeof i)for(let[t,n]of Object.entries(i))if(e[t])e[t](n);else throw new lG(`Invalid property ${t} for "log" provided to PrismaClient constructor`)}}function t(e){if("string"==typeof e&&!lW.includes(e)){let t=lz(e,lW);throw new lG(`Invalid log level "${e}" provided to PrismaClient constructor.${t}`)}}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(null!=t&&t<=0)throw new lG(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let i=e.timeout;if(null!=i&&i<=0)throw new lG(`Invalid value ${i} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if("object"!=typeof e)throw new lG('"omit" option is expected to be an object.');if(null===e)throw new lG('"omit" option can not be `null`');let i=[];for(let[n,r]of Object.entries(e)){let e=function(e,t){return lJ(t.models,e)??lJ(t.types,e)}(n,t.runtimeDataModel);if(!e){i.push({kind:"UnknownModel",modelKey:n});continue}for(let[t,a]of Object.entries(r)){let r=e.fields.find(e=>e.name===t);if(!r){i.push({kind:"UnknownField",modelKey:n,fieldName:t});continue}if(r.relationName){i.push({kind:"RelationInOmit",modelKey:n,fieldName:t});continue}"boolean"!=typeof a&&i.push({kind:"InvalidFieldValue",modelKey:n,fieldName:t})}}if(i.length>0)throw new lG(function(e,t){let i=rU(e);for(let e of t)switch(e.kind){case"UnknownModel":i.arguments.getField(e.modelKey)?.markAsError(),i.addErrorMessage(()=>`Unknown model name: ${e.modelKey}.`);break;case"UnknownField":i.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),i.addErrorMessage(()=>`Model "${e.modelKey}" does not have a field named "${e.fieldName}".`);break;case"RelationInOmit":i.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),i.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":i.arguments.getDeepFieldValue([e.modelKey,e.fieldName])?.markAsError(),i.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:n,args:r}=rM(i,"colorless");return`Error validating "omit" option:

${r}

${n}`}(e,i))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if("object"!=typeof e)throw new lG(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[i]of Object.entries(e))if(!t.includes(i)){let e=lz(i,t);throw new lG(`Invalid property ${JSON.stringify(i)} for "__internal" provided to PrismaClient constructor.${e}`)}}};function lz(e,t){if(0===t.length||"string"!=typeof e)return"";let i=function(e,t){if(0===t.length)return null;let i=t.map(t=>({value:t,distance:(0,lM.default)(e,t)}));i.sort((e,t)=>e.distance<t.distance?-1:1);let n=i[0];return n.distance<3?n.value:null}(e,t);return i?` Did you mean "${i}"?`:""}function lJ(e,t){let i=Object.keys(e).find(e=>nz(e)===t);if(i)return e[i]}var lQ=eT("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var lY={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},lZ=Symbol.for("prisma.client.transaction.id"),lX={id:0,nextId(){return++this.id}};function l0(e){class t{constructor(t){this._originalClient=this,this._middlewares=new lq,this._createPrismaPromise=lI(),this.$metrics=new r7(this),this.$extends=aQ,function({postinstall:e,ciName:t,clientVersion:i}){if(a3("checkPlatformCaching:postinstall",e),a3("checkPlatformCaching:ciName",t),!0===e&&t&&t in a5){let e=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${a5[t]}-build`;throw console.error(e),new iv(e,i)}}(e=t?.__internal?.configOverride?.(e)??e),t&&function(e,t){for(let[i,n]of Object.entries(e)){if(!lB.includes(i)){let e=lz(i,lB);throw new lG(`Unknown property ${i} provided to PrismaClient constructor.${e}`)}lK[i](n,t)}if(e.datasourceUrl&&e.datasources)throw new lG('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}(t,e);let i=new al.EventEmitter().on("error",()=>{});this._extensions=rK.empty(),this._previewFeatures=lp(e),this._clientVersion=e.clientVersion??"6.12.0",this._activeProvider=e.activeProvider,this._globalOmit=t?.omit,this._tracingHelper=new lS;let n=e.relativeEnvPaths&&{rootEnvPath:e.relativeEnvPaths.rootEnvPath&&au.default.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),schemaEnvPath:e.relativeEnvPaths.schemaEnvPath&&au.default.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)},r;if(t?.adapter){r=t.adapter;let i="postgresql"===e.activeProvider||"cockroachdb"===e.activeProvider?"postgres":e.activeProvider;if(r.provider!==i)throw new iv(`The Driver Adapter \`${r.adapterName}\`, based on \`${r.provider}\`, is not compatible with the provider \`${i}\` specified in the Prisma schema.`,this._clientVersion);if(t.datasources||void 0!==t.datasourceUrl)throw new iv("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let a=!r&&n&&id(n,{conflictCheck:"none"})||e.injectableEdgeEnv?.();try{var s,l;let n=t??{},o=n.__internal??{},u=!0===o.debug;u&&eT.enable("prisma:client");let d=au.default.resolve(e.dirname,e.relativePath);ao.default.existsSync(d)||(d=e.dirname),lQ("dirname",e.dirname),lQ("relativePath",e.relativePath),lQ("cwd",d);let c=o.engine||{};if(n.errorFormat?this._errorFormat=n.errorFormat:this._errorFormat="minimal",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:d,dirname:e.dirname,enableDebugLogs:u,allowTriggerPanic:c.allowTriggerPanic,prismaPath:c.binaryPath??void 0,engineEndpoint:c.endpoint,generator:e.generator,showColors:"pretty"===this._errorFormat,logLevel:n.log&&(s=n.log,"string"==typeof s?s:s.reduce((e,t)=>{let i="string"==typeof t?t:t.level;return"query"===i?e:e&&("info"===t||"info"===e)?"info":i},void 0)),logQueries:n.log&&!!("string"==typeof n.log?"query"===n.log:n.log.find(e=>"string"==typeof e?"query"===e:"query"===e.level)),env:a?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:(l=e.datasourceNames,n?n.datasources?n.datasources:n.datasourceUrl?{[l[0]]:{url:n.datasourceUrl}}:{}:{}),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:n.transactionOptions?.maxWait??2e3,timeout:n.transactionOptions?.timeout??5e3,isolationLevel:n.transactionOptions?.isolationLevel},logEmitter:i,isBundled:e.isBundled,adapter:r},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:sP,getBatchRequestPayload:ak,prismaGraphQLToJSError:aP,PrismaClientUnknownRequestError:ix,PrismaClientInitializationError:iv,PrismaClientKnownRequestError:ib,debug:eT("prisma:client:accelerateEngine"),engineVersion:aa.version,clientVersion:e.clientVersion}},lQ("clientVersion",e.clientVersion),this._engine=function({copyEngine:e=!0},t){let i;try{i=sP({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...process.env},clientVersion:t.clientVersion})}catch{}let{ok:n,isUsing:r,diagnostics:a}=function({url:e,adapter:t,copyEngine:i,targetBuildType:n}){let r=[],a=[],s=e=>{let t=e.join(`
`);a.push({_tag:"error",value:t})},l=!!e?.startsWith("prisma://"),o=t1(e),u=!!t,d=l||o;!u&&i&&d&&r.push({_tag:"warning",value:["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]});let c=d||!i;u&&(c||"edge"===n)&&("edge"===n?s(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):i?l&&s(["Prisma Client was configured to use the `adapter` option but the URL was a `prisma://` URL.","Please either use the `prisma://` URL or remove the `adapter` from the Prisma Client constructor."]):s(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let m={accelerate:c,ppg:o,driverAdapters:u};return a.length>0?{ok:!1,diagnostics:{warnings:r,errors:a},isUsing:m}:{ok:!0,diagnostics:{warnings:r},isUsing:m}}({url:i,adapter:t.adapter,copyEngine:e,targetBuildType:"library"});for(let e of a.warnings)iy(...e.value);if(!n)throw new iT(a.errors[0].value,{clientVersion:t.clientVersion});let s=tJ(t.generator);return(r.accelerate||r.ppg)&&r.driverAdapters,r.accelerate?new ln(t):(r.driverAdapters,"library"===s||r.accelerate,new lm(t))}(e,this._engineConfig),this._requestHandler=new lU(this,i),n.log)for(let e of n.log){let t="string"==typeof e?e:"stdout"===e.emit?e.level:null;t&&this.$on(t,e=>{t5.log(`${t5.tags[t]??""}`,e.message||e.query)})}}catch(e){throw e.clientVersion=this._clientVersion,e}return this._appliedParent=aJ(this)}get[Symbol.toStringTag](){return"PrismaClient"}$use(e){this._middlewares.use(e)}$on(e,t){return"beforeExit"===e?this._engine.onBeforeExit(t):e&&this._engineConfig.logEmitter.on(e,t),this}$connect(){try{return this._engine.start()}catch(e){throw e.clientVersion=this._clientVersion,e}}async $disconnect(){try{await this._engine.stop()}catch(e){throw e.clientVersion=this._clientVersion,e}finally{ey.length=0}}$executeRawInternal(e,t,i,n){let r=this._activeProvider;return this._request({action:"executeRaw",args:i,transaction:e,clientMethod:t,argsMapper:lk({clientMethod:t,activeProvider:r}),callsite:aF(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$executeRaw(e,...t){return this._createPrismaPromise(i=>{if(void 0!==e.raw||void 0!==e.sql){let[n,r]=l1(e,t);return lE(this._activeProvider,n.text,n.values,Array.isArray(e)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(i,"$executeRaw",n,r)}throw new iT("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(e,...t){return this._createPrismaPromise(i=>(lE(this._activeProvider,e,t,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(i,"$executeRawUnsafe",[e,...t])))}$runCommandRaw(t){if("mongodb"!==e.activeProvider)throw new iT(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(e=>this._request({args:t,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:lh,callsite:aF(this._errorFormat),transaction:e}))}async $queryRawInternal(e,t,i,n){let r=this._activeProvider;return this._request({action:"queryRaw",args:i,transaction:e,clientMethod:t,argsMapper:lk({clientMethod:t,activeProvider:r}),callsite:aF(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$queryRaw(e,...t){return this._createPrismaPromise(i=>{if(void 0!==e.raw||void 0!==e.sql)return this.$queryRawInternal(i,"$queryRaw",...l1(e,t));throw new iT("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(e){return this._createPrismaPromise(t=>{if(!this._hasPreviewFlag("typedSql"))throw new iT("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(t,"$queryRawTyped",e)})}$queryRawUnsafe(e,...t){return this._createPrismaPromise(i=>this.$queryRawInternal(i,"$queryRawUnsafe",[e,...t]))}_transactionWithArray({promises:e,options:t}){var i;let n=lX.nextId(),r=function(e,t=()=>{}){let i,n=new Promise(e=>i=e);return{then:r=>(0==--e&&i(t()),r?.(n))}}(e.length);return 0===(i=e.map((e,i)=>{if(e?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let a=t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel;return e.requestTransaction?.({kind:"batch",id:n,index:i,isolationLevel:a,lock:r})??e})).length?Promise.resolve([]):new Promise((e,t)=>{let n=Array(i.length),r=null,a=!1,s=0,l=()=>{a||++s===i.length&&(a=!0,r?t(r):e(n))},o=e=>{a||(a=!0,t(e))};for(let e=0;e<i.length;e++)i[e].then(t=>{n[e]=t,l()},t=>{if(!lC(t)){o(t);return}t.batchRequestIdx===e?o(t):(r||(r=t),l())})})}async _transactionWithCallback({callback:e,options:t}){let i={traceparent:this._tracingHelper.getTraceParent()},n={maxWait:t?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:t?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},r=await this._engine.transaction("start",i,n),a;try{let t={kind:"itx",...r};a=await e(this._createItxClient(t)),await this._engine.transaction("commit",i,r)}catch(e){throw await this._engine.transaction("rollback",i,r).catch(()=>{}),e}return a}_createItxClient(e){return ax(aJ(ax(this[az]?this[az]:this,[ag("_appliedParent",()=>this._appliedParent._createItxClient(e)),ag("_createPrismaPromise",()=>lI(e)),ag(lZ,()=>e.id)])),[aE(aX)])}$transaction(e,t){let i;return i="function"==typeof e?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:e,options:t}):()=>this._transactionWithArray({promises:e,options:t}),this._tracingHelper.runInChildSpan({name:"transaction",attributes:{method:"$transaction"}},i)}_request(e){e.otelParentCtx=this._tracingHelper.getActiveContext();let t=e.middlewareArgsMapper??lY,i={args:t.requestArgsToMiddlewareArgs(e.args),dataPath:e.dataPath,runInTransaction:!!e.transaction,action:e.action,model:e.model},n={middleware:{name:"middleware",middleware:!0,attributes:{method:"$use"},active:!1},operation:{name:"operation",attributes:{method:i.action,model:i.model,name:i.model?`${i.model}.${i.action}`:i.action}}},r=-1,a=async i=>{let s=this._middlewares.get(++r);if(s)return this._tracingHelper.runInChildSpan(n.middleware,e=>s(i,t=>(e?.end(),a(t))));let{runInTransaction:l,args:o,...u}=i,d={...e,...u};o&&(d.args=t.middlewareArgsToRequestArgs(o)),void 0!==e.transaction&&!1===l&&delete d.transaction;let c=await function(e,t){let{jsModelName:i,action:n,clientMethod:r}=t;if(e._extensions.isEmpty())return e._executeRequest(t);let a=e._extensions.getAllQueryCallbacks(i??"$none",i?n:r);return function e(t,i,n,r=0){return t._createPrismaPromise(a=>{let s=i.customDataProxyFetch;return"transaction"in i&&void 0!==a&&(i.transaction?.kind==="batch"&&i.transaction.lock.then(),i.transaction=a),r===n.length?t._executeRequest(i):n[r]({model:i.model,operation:i.model?i.action:i.clientMethod,args:function(e){var t,i;if(e instanceof ad){return new ad((t=e).strings,t.values)}if(ar(e)){return new ai((i=e).sql,i.values)}if(Array.isArray(e)){let t=[e[0]];for(let i=1;i<e.length;i++)t[i]=a0(e[i]);return t}let n={};for(let t in e)n[t]=a0(e[t]);return n}(i.args??{}),__internalParams:i,query:(a,l=i)=>{let o=l.customDataProxyFetch;return l.customDataProxyFetch=a2(s,o),l.args=a,e(t,l,n,r+1)}})})}(e,t,a)}(this,d);return d.model?function({result:e,modelName:t,args:i,extensions:n,runtimeDataModel:r,globalOmit:a}){return n.isEmpty()||null==e||"object"!=typeof e||!r.models[t]?e:aY({result:e,args:i??{},modelName:t,runtimeDataModel:r,visitor:(e,t,i)=>{let r=rB(t);return function({result:e,modelName:t,select:i,omit:n,extensions:r}){let a=r.getAllComputedFields(t);if(!a)return e;let s=[],l=[];for(let t of Object.values(a)){if(n){if(n[t.name])continue;let e=t.needs.filter(e=>n[e]);e.length>0&&l.push(aE(e))}else if(i){if(!i[t.name])continue;let e=t.needs.filter(e=>!i[e]);e.length>0&&l.push(aE(e))}(function(e,t){return t.every(t=>Object.prototype.hasOwnProperty.call(e,t))})(e,t.needs)&&s.push(function(e,t){return ay(ag(e.name,()=>e.compute(t)))}(t,ax(e,s)))}return s.length>0||l.length>0?ax(e,[...s,...l]):e}({result:e,modelName:r,select:i.select,omit:i.select?void 0:{...a?.[r],...i.omit},extensions:n})}})}({result:c,modelName:d.model,args:d.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):c};return this._tracingHelper.runInChildSpan(n.operation,()=>new as.AsyncResource("prisma-client-request").runInAsyncScope(()=>a(i)))}async _executeRequest({args:e,clientMethod:t,dataPath:i,callsite:n,action:r,model:a,argsMapper:s,transaction:l,unpacker:o,otelParentCtx:u,customDataProxyFetch:d}){try{e=s?s(e):e;let c=this._tracingHelper.runInChildSpan({name:"serialize"},()=>r2({modelName:a,runtimeDataModel:this._runtimeDataModel,action:r,args:e,clientMethod:t,callsite:n,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return eT.enabled("prisma:client")&&(lQ("Prisma Client call:"),lQ(`prisma.${t}(${function(e){if(void 0===e)return"";let t=rU(e);return new ro(0,{colors:rc}).write(t).toString()}(e)})`),lQ("Generated request:"),lQ(JSON.stringify(c,null,2)+`
`)),l?.kind==="batch"&&await l.lock,this._requestHandler.request({protocolQuery:c,modelName:a,action:r,clientMethod:t,dataPath:i,callsite:n,args:e,extensions:this._extensions,transaction:l,unpacker:o,otelParentCtx:u,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:d})}catch(e){throw e.clientVersion=this._clientVersion,e}}_hasPreviewFlag(e){return!!this._engineConfig.previewFeatures?.includes(e)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}}return t}function l1(e,t){var i;return Array.isArray(i=e)&&Array.isArray(i.raw)?[new ad(e,t),lP]:[e,lA]}var l2=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function l3(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!l2.has(t))throw TypeError(`Invalid enum value: ${String(t)}`)}})}function l5(e){id(e,{conflictCheck:"warn"})}},34401:(e,t,i)=>{"use strict";i.d(t,{T:()=>s});var n=i(28625);i(64996);var r=i(58090),a=i(79155);function s({open:e,title:t,content:i,confirmText:s,cancelText:l,onConfirm:o,onCancel:u,showCancelButton:d=!0,zIndex:c=51}){let{t:m}=(0,a.Bd)();return(0,n.jsx)(r.a,{open:e,onClose:u,zIndex:c,className:"max-w-lg rounded-lg",children:(0,n.jsxs)("div",{className:"flex flex-col gap-4 p-8",children:[t&&(0,n.jsx)("h2",{className:"text-base font-semibold text-center",children:t}),(0,n.jsx)("div",{className:"text-sm text-center pb-2",children:i}),(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[d&&(0,n.jsx)("button",{onClick:u,className:"px-3 py-1.5 rounded-lg border border-gray-300 text-gray-700 text-sm hover:bg-gray-100 transition",children:l||m("dialogs.delete.cancel")}),(0,n.jsx)("button",{onClick:o,className:"px-3 py-1.5 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700 transition",children:s||m("dialogs.delete.confirm")})]})]})})}},36168:(e,t,i)=>{"use strict";function n(e){return"company"in e||"person"in e}i.d(t,{D:()=>n})},36863:(e,t,i)=>{"use strict";i.d(t,{t:()=>s});var n=i(28625),r=i(64996),a=i(79155);let s=({tabs:e,defaultTab:t})=>{let{t:i}=(0,a.Bd)(),[s,l]=(0,r.useState)(t||e[0]?.key),o=(0,r.useMemo)(()=>e.find(e=>e.key===s),[e,s]);return(0,r.useEffect)(()=>{!o&&t&&l(t)},[o,t,l]),(0,n.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,n.jsx)("div",{className:"flex flex-wrap bg-gray-50",children:e.map(e=>{let t=e.key===s;return(0,n.jsxs)("button",{onClick:()=>l(e.key),className:`
                relative flex-1 flex items-center justify-center px-4 py-2 text-sm font-medium
                ${t?`
                    ${e.textColor||"text-blue-600"}
                    ${e.bgColor||"bg-white"}
                    rounded-t-lg border-t border-x border-b-transparent border-gray-300
                  `:"text-gray-500 border-b border-gray-300 hover:text-gray-700 shadow-[0_4px_4px_-2px_rgba(0,0,0,0.05)]"}
              `,children:[e.icon&&(0,n.jsx)("div",{className:"mr-2",children:e.icon}),(0,n.jsx)("div",{className:"mr-2",children:e.label}),e.count&&(0,n.jsx)("span",{className:`
                    inline-flex items-center justify-center px-2 py-0.5 text-xs font-semibold text-white rounded-full
                    ${t?"bg-gray-500":"bg-gray-400/70"}
                  `,children:e.count})]},e.key)})}),(0,n.jsx)("div",{className:"flex-1 overflow-auto border-l border-r border-b border-gray-300 rounded-b-md",children:o?.content??(0,n.jsx)("span",{className:"p-6 text-sm text-gray-500 block text-center",children:o?.noContentMessage||i("tabs.noContent")})})]})}},41110:(e,t,i)=>{"use strict";i.d(t,{f:()=>r});var n=i(3109);let r=e=>{let t={};return t.fullName=(0,n.fH)([{check:e=>n.PT.required(e),message:"Full name is required"},{check:e=>n.PT.minLength(e,2),message:"Full name must be at least 2 characters"},{check:e=>n.PT.maxLength(e,100),message:"Full name must be less than 100 characters"}])(e.fullName),t.email=(0,n.fH)([{check:e=>!e||n.PT.email(e),message:"Please enter a valid email address"}])(e.email),t.phone=(0,n.fH)([{check:e=>!e||n.PT.phone(e),message:"Please enter a valid phone number"}])(e.phone),e.email||e.phone||(t.email=t.email||"Either email or phone is required",t.phone=t.phone||"Either phone or email is required"),t.department=null,t.role=null,t}},42228:(e,t,i)=>{"use strict";i.d(t,{W:()=>r,q:()=>n});let n=()=>({name:"",description:"",employees:[]}),r=e=>({name:e.name.trim(),description:e.description.trim()||null,employeeIds:e.employees.map(e=>e.id)})},42239:(e,t,i)=>{"use strict";i.d(t,{K:()=>r});var n=i(3109);let r=e=>{let t={};return t.name=(0,n.fH)([{check:e=>n.PT.required(e),message:"Service name is required"},{check:e=>n.PT.minLength(e,2),message:"Service name must be at least 2 characters"},{check:e=>n.PT.maxLength(e,100),message:"Service name must be less than 100 characters"}])(e.name),t.serviceCode=(0,n.fH)([{check:e=>!e||n.PT.required(e),message:"Service code is required"},{check:e=>!e||n.PT.minLength(e,2),message:"Service code must be at least 2 characters"},{check:e=>!e||n.PT.maxLength(e,50),message:"Service code must be less than 50 characters"}])(e.serviceCode),t.description=(0,n.fH)([{check:e=>!e||n.PT.minLength(e,5),message:"Description must be at least 5 characters"},{check:e=>!e||n.PT.maxLength(e,500),message:"Description must be less than 500 characters"}])(e.description),t.price=(0,n.fH)([{check:e=>e>=0,message:"Price cannot be negative"},{check:e=>n.PT.decimal(e),message:"Please enter a valid price"}])(e.price),t.duration=(0,n.fH)([{check:e=>e>=0,message:"Duration cannot be negative"}])(e.duration),t.observations=(0,n.fH)([{check:e=>!e||n.PT.maxLength(e,1e3),message:"Observations must be less than 1000 characters"}])(e.observations),t}},43443:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n={...(0,i(62551).Ak)("products"),deleteMany:()=>{throw Error("Bulk product deletion is disabled for safety. Use individual deletion instead.")}}},44849:(e,t,i)=>{"use strict";i.d(t,{m:()=>r,y:()=>n});let n=()=>({name:"",description:"",employees:[]}),r=e=>({name:e.name.trim(),description:e.description.trim()||null,employeeIds:e.employees.map(e=>e.id)})},50331:(e,t,i)=>{"use strict";i.d(t,{p:()=>a,z:()=>r});var n=i(22919);let r=()=>({ticketId:0,title:"",description:"",status:n.TaskStatus.TODO,dueDate:null,assignee:null}),a=e=>({ticketId:e.ticketId,title:e.title,description:e.description||null,status:e.status,dueDate:e.dueDate,assigneeId:e.assignee?e.assignee.id:null})},51287:(e,t,i)=>{"use strict";i.d(t,{I:()=>m});var n=i(28625),r=i(64996),a=i(79155),s=i(25226),l=i(93901);function o({icon:e,title:t,onClose:i}){return(0,n.jsxs)("div",{className:"flex-shrink-0",children:[(0,n.jsxs)("div",{className:"flex items-center text-xl font-light text-graphite",children:[(0,n.jsx)("div",{className:"p-4",children:e}),(0,n.jsx)(s.A,{orientation:"vertical",flexItem:!0}),(0,n.jsx)("span",{className:"ml-2 flex-grow text-center",children:t}),(0,n.jsx)(s.A,{orientation:"vertical",flexItem:!0}),(0,n.jsx)("div",{className:"p-4 cursor-pointer hover:opacity-70",onClick:i,children:(0,n.jsx)(l.OZi,{size:24})})]}),(0,n.jsx)(s.A,{})]})}function u({icon:e,actionLabel:t,canSubmit:i,children:r,secondaryAction:a,onSubmit:l}){return(0,n.jsxs)("div",{className:"flex-shrink-0",children:[(0,n.jsx)(s.A,{}),(0,n.jsxs)("div",{className:"p-4 flex items-center justify-between font-light text-graphite",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:a}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("button",{onClick:l,disabled:!i,className:`
              flex items-center gap-2
              rounded-md px-4 py-2
              bg-gradient-to-r from-blue-500 to-blue-600
              text-white text-sm font-semibold
              disabled:from-gray-300 disabled:to-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed
              hover:from-blue-600 hover:to-blue-700
              focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-1
              transition-all duration-200 ease-in-out
              shadow-sm hover:shadow-md
            `,children:[e&&(0,n.jsx)("span",{className:"text-base",children:e}),(0,n.jsx)("span",{className:"capitalize",children:t})]}),r]})]})]})}var d=i(58090),c=i(34401);function m({open:e=!0,canSubmit:t,title:i,titleIcon:s,primaryActionLabel:l,primaryActionIcon:m,secondaryAction:f,variant:p="modal",children:h,onSubmit:g,onClose:y,onReset:v,confirmOnUnsavedChanges:b=!0,hasUnsavedChanges:w=!1,unsavedChangesTitle:x,unsavedChangesMessage:T,confirmText:E,cancelText:k}){let{t:P}=(0,a.Bd)(),[A,I]=(0,r.useState)(!1),R=(0,r.useCallback)(()=>{b&&w?I(!0):(v?.(),y?.())},[b,w,v,y]);if(!e)return null;let N=(0,n.jsxs)("div",{className:`w-full flex flex-col ${"modal"===p?"h-full max-h-screen":"h-full"}`,children:["modal"===p&&(0,n.jsx)(o,{icon:s,title:i,onClose:R}),(0,n.jsx)("div",{className:"flex-1 min-h-0 flex flex-col",children:h}),g&&l&&(0,n.jsx)(u,{icon:m,actionLabel:l,onSubmit:g,canSubmit:t,secondaryAction:f}),b&&(0,n.jsx)(c.T,{open:A,title:x??P("forms.unsavedChangesTitle"),content:T??P("forms.unsavedChangesMessage"),confirmText:E??P("common.actions.confirm"),cancelText:k??P("common.actions.cancel"),onConfirm:()=>{I(!1),v?.(),y?.()},onCancel:()=>{I(!1)},zIndex:9001})]});return"modal"===p?(0,n.jsx)(d.a,{open:e,zIndex:9e3,className:"w-full sm:max-w-2xl h-screen flex flex-col",onClose:R,children:N}):N}},52738:(e,t,i)=>{"use strict";i(3109)},53171:(e,t,i)=>{Promise.resolve().then(i.bind(i,90087))},54055:(e,t,i)=>{"use strict";i.d(t,{LOG_ACTION:()=>r.C,convertCompanyFormToDto:()=>s.N,convertDepartmentFormToDto:()=>o.W,convertEmployeeFormToDto:()=>l.U,convertEmployeeRoleFormToDto:()=>m.m,convertPersonFormToDto:()=>a.TO,convertProductFormToDto:()=>u.X,convertServiceFormToDto:()=>d.l,convertTaskFormToDto:()=>f.p,convertTicketFormToDto:()=>c.KA,getDefaultCompanyForm:()=>s.v,getDefaultDepartmentForm:()=>o.q,getDefaultEmployeeForm:()=>l.k,getDefaultEmployeeRoleForm:()=>m.y,getDefaultPersonForm:()=>a.hf,getDefaultProductForm:()=>u.l,getDefaultRepresentativeForm:()=>a.xV,getDefaultServiceForm:()=>d.r,getDefaultTaskForm:()=>f.z,getDefaultTicketForm:()=>c.Sx,getLogMessageKeys:()=>N.e,isExpandedClient:()=>k.D,isExpandedCompany:()=>P.t,isExpandedEmployeeBase:()=>E.$,isExpandedEmployeeWithTickets:()=>E.p,isExpandedRepresentative:()=>A.R,isExpandedTicket:()=>I.u,isFormValid:()=>R.HK,validateCompanyForm:()=>h.q,validateDepartmentForm:()=>y.L,validateEmployeeForm:()=>g.f,validateEmployeeRoleForm:()=>v.B,validatePersonForm:()=>p.m_,validateProductForm:()=>b.a,validateServiceForm:()=>w.K,validateTaskForm:()=>T.o,validateTicketForm:()=>x.v});var n=i(22919);i.o(n,"ClientType")&&i.d(t,{ClientType:function(){return n.ClientType}}),i.o(n,"LOG_ACTION")&&i.d(t,{LOG_ACTION:function(){return n.LOG_ACTION}}),i.o(n,"OrderPriority")&&i.d(t,{OrderPriority:function(){return n.OrderPriority}}),i.o(n,"OrderStatus")&&i.d(t,{OrderStatus:function(){return n.OrderStatus}}),i.o(n,"TaskStatus")&&i.d(t,{TaskStatus:function(){return n.TaskStatus}}),i.o(n,"convertCompanyFormToDto")&&i.d(t,{convertCompanyFormToDto:function(){return n.convertCompanyFormToDto}}),i.o(n,"convertDepartmentFormToDto")&&i.d(t,{convertDepartmentFormToDto:function(){return n.convertDepartmentFormToDto}}),i.o(n,"convertEmployeeFormToDto")&&i.d(t,{convertEmployeeFormToDto:function(){return n.convertEmployeeFormToDto}}),i.o(n,"convertEmployeeRoleFormToDto")&&i.d(t,{convertEmployeeRoleFormToDto:function(){return n.convertEmployeeRoleFormToDto}}),i.o(n,"convertPersonFormToDto")&&i.d(t,{convertPersonFormToDto:function(){return n.convertPersonFormToDto}}),i.o(n,"convertProductFormToDto")&&i.d(t,{convertProductFormToDto:function(){return n.convertProductFormToDto}}),i.o(n,"convertServiceFormToDto")&&i.d(t,{convertServiceFormToDto:function(){return n.convertServiceFormToDto}}),i.o(n,"convertTaskFormToDto")&&i.d(t,{convertTaskFormToDto:function(){return n.convertTaskFormToDto}}),i.o(n,"convertTicketFormToDto")&&i.d(t,{convertTicketFormToDto:function(){return n.convertTicketFormToDto}}),i.o(n,"getDefaultCompanyForm")&&i.d(t,{getDefaultCompanyForm:function(){return n.getDefaultCompanyForm}}),i.o(n,"getDefaultDepartmentForm")&&i.d(t,{getDefaultDepartmentForm:function(){return n.getDefaultDepartmentForm}}),i.o(n,"getDefaultEmployeeForm")&&i.d(t,{getDefaultEmployeeForm:function(){return n.getDefaultEmployeeForm}}),i.o(n,"getDefaultEmployeeRoleForm")&&i.d(t,{getDefaultEmployeeRoleForm:function(){return n.getDefaultEmployeeRoleForm}}),i.o(n,"getDefaultPersonForm")&&i.d(t,{getDefaultPersonForm:function(){return n.getDefaultPersonForm}}),i.o(n,"getDefaultProductForm")&&i.d(t,{getDefaultProductForm:function(){return n.getDefaultProductForm}}),i.o(n,"getDefaultRepresentativeForm")&&i.d(t,{getDefaultRepresentativeForm:function(){return n.getDefaultRepresentativeForm}}),i.o(n,"getDefaultServiceForm")&&i.d(t,{getDefaultServiceForm:function(){return n.getDefaultServiceForm}}),i.o(n,"getDefaultTaskForm")&&i.d(t,{getDefaultTaskForm:function(){return n.getDefaultTaskForm}}),i.o(n,"getDefaultTicketForm")&&i.d(t,{getDefaultTicketForm:function(){return n.getDefaultTicketForm}}),i.o(n,"getLogMessageKeys")&&i.d(t,{getLogMessageKeys:function(){return n.getLogMessageKeys}}),i.o(n,"isExpandedClient")&&i.d(t,{isExpandedClient:function(){return n.isExpandedClient}}),i.o(n,"isExpandedCompany")&&i.d(t,{isExpandedCompany:function(){return n.isExpandedCompany}}),i.o(n,"isExpandedEmployeeBase")&&i.d(t,{isExpandedEmployeeBase:function(){return n.isExpandedEmployeeBase}}),i.o(n,"isExpandedEmployeeWithTickets")&&i.d(t,{isExpandedEmployeeWithTickets:function(){return n.isExpandedEmployeeWithTickets}}),i.o(n,"isExpandedRepresentative")&&i.d(t,{isExpandedRepresentative:function(){return n.isExpandedRepresentative}}),i.o(n,"isExpandedTicket")&&i.d(t,{isExpandedTicket:function(){return n.isExpandedTicket}}),i.o(n,"isFormValid")&&i.d(t,{isFormValid:function(){return n.isFormValid}}),i.o(n,"validateCompanyForm")&&i.d(t,{validateCompanyForm:function(){return n.validateCompanyForm}}),i.o(n,"validateDepartmentForm")&&i.d(t,{validateDepartmentForm:function(){return n.validateDepartmentForm}}),i.o(n,"validateEmployeeForm")&&i.d(t,{validateEmployeeForm:function(){return n.validateEmployeeForm}}),i.o(n,"validateEmployeeRoleForm")&&i.d(t,{validateEmployeeRoleForm:function(){return n.validateEmployeeRoleForm}}),i.o(n,"validatePersonForm")&&i.d(t,{validatePersonForm:function(){return n.validatePersonForm}}),i.o(n,"validateProductForm")&&i.d(t,{validateProductForm:function(){return n.validateProductForm}}),i.o(n,"validateServiceForm")&&i.d(t,{validateServiceForm:function(){return n.validateServiceForm}}),i.o(n,"validateTaskForm")&&i.d(t,{validateTaskForm:function(){return n.validateTaskForm}}),i.o(n,"validateTicketForm")&&i.d(t,{validateTicketForm:function(){return n.validateTicketForm}});var r=i(29149);i(72522);var a=i(2107),s=i(55757),l=i(22298),o=i(42228),u=i(99557),d=i(13149),c=i(23138),m=i(44849),f=i(50331),p=i(77577),h=i(60671);i(95975);var g=i(41110),y=i(11028),v=i(13651),b=i(14527),w=i(42239),x=i(86454);i(52738);var T=i(24537),E=i(87983),k=i(36168),P=i(82254),A=i(24022),I=i(89411),R=i(3109),N=i(55460)},55460:(e,t,i)=>{"use strict";i.d(t,{e:()=>n});let n=(e,t,i)=>"number"==typeof i&&i>1?{translationKey:"log.messages.multiple",params:{action:e,entityPlural:t,count:i}}:{translationKey:"log.messages.single",params:{action:e,entitySingular:t,count:void 0}}},55757:(e,t,i)=>{"use strict";i.d(t,{N:()=>a,v:()=>r});var n=i(2107);let r=()=>({name:"",taxId:"",headquarters:"",phone:"",email:"",representatives:[]}),a=e=>({name:e.name.trim(),taxId:e.taxId.trim()||null,headquarters:e.headquarters.trim()||null,phone:e.phone.trim()||null,email:e.email.trim()||null,representatives:e.representatives.map(n.V3)})},58090:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var n=i(28625);function r({open:e,onClose:t,children:i,className:r,closeOnBackdropClick:a=!0,zIndex:s=50}){return e?(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50",style:{zIndex:s},onClick:()=>{a&&t&&t()},role:"dialog","aria-modal":"true",children:(0,n.jsx)("div",{className:`bg-white w-full shadow-lg ${r||""}`,onClick:e=>e.stopPropagation(),children:i})}):null}i(64996)},60671:(e,t,i)=>{"use strict";i.d(t,{q:()=>a});var n=i(3109),r=i(77577);let a=e=>{let t={representatives:null};return t.name=(0,n.fH)([{check:e=>n.PT.required(e),message:"Company name is required"},{check:e=>n.PT.minLength(e,2),message:"Company name must be at least 2 characters"},{check:e=>n.PT.maxLength(e,100),message:"Company name must be less than 100 characters"}])(e.name),t.taxId=(0,n.fH)([{check:e=>!e||n.PT.taxId(e),message:"Please enter a valid tax ID"}])(e.taxId),t.headquarters=(0,n.fH)([{check:e=>!e||n.PT.minLength(e,5),message:"Headquarters address must be at least 5 characters"},{check:e=>!e||n.PT.maxLength(e,200),message:"Headquarters address must be less than 200 characters"}])(e.headquarters),t.email=(0,n.fH)([{check:e=>!e||n.PT.email(e),message:"Please enter a valid email address"}])(e.email),t.phone=(0,n.fH)([{check:e=>!e||n.PT.phone(e),message:"Please enter a valid phone number"}])(e.phone),t.representatives=(0,r.FP)(e.representatives),t}},62551:(e,t,i)=>{"use strict";i.d(t,{Ak:()=>p});var n=i(31538),r=i(89480);let a=n.A.create({baseURL:"/api",timeout:5e3,withCredentials:!0,paramsSerializer:{indexes:null,serialize:e=>{let t=new URLSearchParams;for(let[i,n]of Object.entries(e))null!=n&&("object"!=typeof n||n instanceof Date?t.append(i,n.toString()):t.append(i,JSON.stringify(n)));return t.toString()}},headers:{"Content-Type":"application/json"}}),s=e=>{if(!e.data.success)throw new r.pe(e.data.message);return e.data.data};var l=i(57293),o=i(37040);let u=(e,t,i)=>(0,l.I)({queryKey:e,queryFn:t,...i}),d=(e,t)=>(0,o.n)({mutationFn:e,...t}),c=e=>({getAll:(t={})=>a.get(`${e}${t.subPath?`/${t.subPath}`:""}`,{params:t.query,headers:t.headers}).then(s),count:(t={})=>a.get(`${e}${t.subPath?`/${t.subPath}`:""}/count`,{params:t.query,headers:t.headers}).then(s),getById:(t,i={})=>a.get(`${e}/${t}${i.subPath?`/${i.subPath}`:""}`,{params:i.query,headers:i.headers}).then(s),create:(t,i={})=>a.post(`${e}${i.subPath?`/${i.subPath}`:""}`,t,{params:i.query,headers:i.headers}).then(s),update:(t,i,n={})=>a.put(`${e}/${t}${n.subPath?`/${n.subPath}`:""}`,i,{params:n.query,headers:n.headers}).then(s),delete:(t,i={})=>a.delete(`${e}/${t}${i.subPath?`/${i.subPath}`:""}`,{headers:i.headers}).then(()=>{}),deleteMany:(t,i={})=>a.post(`${e}${i.subPath?`/${i.subPath}`:""}/bulk-delete`,{ids:t},{headers:i.headers}).then(()=>{})}),m=e=>{let t=c(e);return{...t,useGetAll:(i={},n)=>u([e,"getAll",i],()=>t.getAll(i),n),useCount:(i={},n)=>u([e,"count",i],()=>t.count(i),n),useGetById:(i,n={},r)=>u([e,"getById",i,n],()=>i?t.getById(i,n):Promise.reject("Missing ID"),r)}},f=e=>{let t=c(e);return{useCreate:(e={},i)=>d(i=>t.create(i,e),i),useUpdate:(e={},i)=>d(({id:i,dto:n})=>t.update(i,n,e),i),useDelete:(e={},i)=>d(i=>t.delete(i,e),i),useDeleteMany:(e={},i)=>d(i=>t.deleteMany(i,e),i)}},p=e=>{let t=c(e),i=m(e),n=f(e);return{...t,...i,...n}}},63691:(e,t,i)=>{"use strict";i.d(t,{D:()=>r});let n=(0,i(62551).Ak)("clients"),r={...n,getByType:(e,t={})=>n.getAll({subPath:`type/${e}`,query:t}),useGetByType:(e,t={})=>n.useGetAll({subPath:`type/${e}`,query:t}),getCountByType:()=>n.count({subPath:"by-type"}),deleteMany:()=>{throw Error("Bulk client deletion is disabled for safety. Use individual deletion instead.")}}},72522:(e,t,i)=>{"use strict";let n={person:!0},r={department:!0,role:!0},a={...n,company:{include:{representatives:{include:n}}}};({...r,tickets:{include:{employees:{include:r},client:{include:a},representative:{include:n}}}})},76340:(e,t,i)=>{"use strict";i.d(t,{i:()=>n});let n={...(0,i(62551).Ak)("departments")}},76731:(e,t,i)=>{Promise.resolve().then(i.bind(i,7973))},77577:(e,t,i)=>{"use strict";i.d(t,{FP:()=>s,m_:()=>r});var n=i(3109);let r=e=>{let t={};return t.fullName=(0,n.fH)([{check:e=>n.PT.required(e),message:"Full name is required"},{check:e=>n.PT.minLength(e,2),message:"Full name must be at least 2 characters"},{check:e=>n.PT.maxLength(e,100),message:"Full name must be less than 100 characters"}])(e.fullName),t.email=(0,n.fH)([{check:e=>!e||n.PT.email(e),message:"Please enter a valid email address"}])(e.email),t.phone=(0,n.fH)([{check:e=>!e||n.PT.phone(e),message:"Please enter a valid phone number"}])(e.phone),t.address=(0,n.fH)([{check:e=>!e||n.PT.minLength(e,5),message:"Address must be at least 5 characters"},{check:e=>!e||n.PT.maxLength(e,200),message:"Address must be less than 200 characters"}])(e.address),e.email||e.phone||(t.email=t.email||"Either email or phone is required",t.phone=t.phone||"Either phone or email is required"),t},a=e=>({...r(e),personId:null}),s=e=>e&&0!==e.length?e.map(e=>a(e)):null},78361:(e,t,i)=>{"use strict";i.d(t,{lY:()=>a,DF:()=>s.D,iw:()=>l.i,Mg:()=>o,yD:()=>u.y,ZN:()=>d.Z,XU:()=>c.X,bI:()=>g,XD:()=>f,qB:()=>p.q});var n=i(62551);let r=(0,n.Ak)("activity-logs"),a={...r,getByEntity:(e,t={})=>r.getAll({subPath:e,query:t}),getByTicket:(e,t={})=>r.getAll({subPath:`ticket/${e}`,query:t}),getByAuthor:(e,t={})=>r.getAll({subPath:`author/${e}`,query:t}),getRecent:(e={})=>r.getAll({subPath:"date-range/recent",query:e}),useGetByTicket:(e,t={})=>r.useGetAll({subPath:`ticket/${e}`,query:t})};var s=i(63691),l=i(76340);let o={...(0,n.Ak)("employee-roles")};var u=i(96838),d=i(43443),c=i(6871);let m=(0,n.Ak)("ticket-items"),f={...m,getByTicket:(e,t={})=>m.getAll({subPath:`ticket/${e}`,query:t}),getByProduct:(e,t={})=>m.getAll({subPath:`product/${e}`,query:t}),getByService:(e,t={})=>m.getAll({subPath:`service/${e}`,query:t}),createBulk:(e,t={})=>m.create(e,{subPath:"bulk-create",query:t}),useGetByTicket:(e,t={},i)=>m.useGetAll({subPath:`ticket/${e}`,query:t},i)};var p=i(6730);let h=(0,n.Ak)("tasks"),g={...h,getCountByStatus:()=>h.getAll({subPath:"count/by-status"}),getByTicket:(e,t={})=>h.getAll({subPath:`ticket/${e}`,query:t}),updateStatus:(e,t,i={})=>h.update(e,t,{subPath:"status",query:i}),useGetByTicket:(e,t={})=>h.useGetAll({subPath:`ticket/${e}`,query:t})}},81389:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(64996),r=i(84866),a=i.n(r);let s=(e,t)=>{let[i,r]=(0,n.useState)(""),[s,l]=(0,n.useState)(void 0),[o,u]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),m=(0,n.useCallback)(async t=>{u(!0),c(null);try{let i=await e(t);l(i)}catch(e){c(e),l(void 0)}finally{u(!1)}},[e]),f=(0,n.useMemo)(()=>a()(m,t),[m,t]);return(0,n.useEffect)(()=>{if(!i.trim()){l(void 0);return}return f(i),()=>f.cancel()},[i]),(0,n.useEffect)(()=>{if(d){let e=setTimeout(()=>c(null),3e3);return()=>clearTimeout(e)}},[d]),{query:i,setQuery:r,results:s,setResults:l,loading:o,error:d,searchNow:m}}},82254:(e,t,i)=>{"use strict";function n(e){return"representatives"in e}i.d(t,{t:()=>n})},85764:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n});let n=(e,t,i)=>{Array.isArray(e)?1===e.length?t(e[0].id):e.length>1&&i(e.map(e=>e.id)):t(e.id)}},86454:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});var n=i(3109);let r=e=>{let t={};return t.equipmentDescription=(0,n.fH)([{check:e=>n.PT.required(e),message:"Equipment description is required"},{check:e=>n.PT.minLength(e,5),message:"Equipment description must be at least 5 characters"},{check:e=>n.PT.maxLength(e,500),message:"Equipment description must be less than 500 characters"}])(e.equipmentDescription),t.imageUrl=(0,n.fH)([{check:e=>!e||n.PT.url(e),message:"Please enter a valid URL"}])(e.imageUrl),t.client=(0,n.fH)([{check:e=>e&&"number"==typeof e.id&&e.id>0,message:"Please select a client"}])(e.client),t.estimatedCost=(0,n.fH)([{check:e=>e>=0,message:"Estimated cost cannot be negative"}])(e.estimatedCost),t.estimatedDeliveryDate=(0,n.fH)([{check:e=>!e||n.PT.date(e),message:e=>`Please enter a valid date. Current value: "${e}"`}])(e.estimatedDeliveryDate),t.estimatedExecutionTime=(0,n.fH)([{check:e=>e>=0,message:"Estimated execution time cannot be negative"}])(e.estimatedExecutionTime),t.observations=(0,n.fH)([{check:e=>!e||n.PT.maxLength(e,1e3),message:"Observations must be less than 1000 characters"}])(e.observations),t.priority=null,t.status=null,t.representative=null,t.employees=null,t}},87983:(e,t,i)=>{"use strict";function n(e){return!!(e&&"role"in e&&"department"in e)}function r(e){return!!(e&&"tickets"in e&&Array.isArray(e.tickets))}i.d(t,{$:()=>n,p:()=>r})},88568:(e,t,i)=>{"use strict";i.d(t,{C:()=>s});var n=i(28625);i(64996);var r=i(79155),a=i(34401);function s({open:e,items:t,itemName:i="item",getIdentifier:s,onConfirm:l,onCancel:o}){let{t:u}=(0,r.Bd)(),d=Array.isArray(t)?t:[t],c=d.length>1,m=!c&&s?` (${s(d[0])})`:"",f=c?u("dialogs.delete.bulkMessage",{count:d.length,item:i}):u("dialogs.delete.message",{item:i,identifier:m});return(0,n.jsx)(a.T,{open:e,title:u("dialogs.delete.title",{item:i}),content:f,confirmText:u("common.actions.delete"),cancelText:u("common.actions.cancel"),onConfirm:()=>l(t),onCancel:o,zIndex:9001})}},89411:(e,t,i)=>{"use strict";function n(e){return"client"in e||"department"in e||"employees"in e||"ticketItems"in e}i.d(t,{u:()=>n})},90087:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>f});var n=i(28625),r=i(69560),a=i(5537),s=i(85480),l=i(48419),o=i(87439),u=i(89480),d=i(88240);function c(e){if(e instanceof d.f)return e;if((0,u.F0)(e)){let t=e.response?.status,i=e.response?.data?.message||e.message||"An unexpected network error occurred";return Error(`Request failed${t?` (${t})`:""}: ${i}`)}return e instanceof Error?e:Error(`Unexpected error: ${JSON.stringify(e)}`)}let m=e=>new r.E({queryCache:new a.$({onError:t=>e(c(t))}),mutationCache:new s.q({onError:t=>e(c(t))})});function f({children:e}){let{setAlert:t}=(0,o.Z)();return(0,n.jsx)(l.Ht,{client:m(function(e){t(e,"error")}),children:e})}},95975:(e,t,i)=>{"use strict";i(77577),i(60671)},96838:(e,t,i)=>{"use strict";i.d(t,{y:()=>r});let n=(0,i(62551).Ak)("employees"),r={...n,getAllWithTickets:(e={})=>n.getAll({subPath:"with-tickets",query:e}),getByIdWithTickets:(e,t={})=>n.getById(e,{subPath:"with-tickets",query:t}),useGetAllWithTickets:(e={})=>n.useGetAll({subPath:"with-tickets",query:e})}},99557:(e,t,i)=>{"use strict";i.d(t,{X:()=>a,l:()=>r});var n=i(22919);let r=()=>({productCode:"",name:"",description:"",category:"",quantity:0,unitPrice:0,entryDate:new Date().toISOString().split("T")[0],supplier:"",status:n.ProductStatus.AVAILABLE,weight:0,observations:"",serialNumber:""}),a=e=>({productCode:e.productCode.trim()||null,name:e.name.trim(),description:e.description.trim()||null,category:e.category.trim(),quantity:e.quantity||null,unitPrice:e.unitPrice||null,entryDate:e.entryDate.trim()?new Date(e.entryDate):new Date,supplier:e.supplier.trim()||null,status:e.status,weight:e.weight||null,observations:e.observations.trim()||null,serialNumber:e.serialNumber.trim()||null})}};