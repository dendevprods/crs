"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[420],{12525:(e,t,s)=>{s.d(t,{Ez:()=>h,kW:()=>j});var l=s(73365);s(1521);var a=s(63358),r=s(14573),i=s(28539),n=s(91573),o=s(84450),d=s(13286),c=s(47394),m=s(11137),x=s(10598),u=s(22840),p=s(17349);let h={[p.OrderStatus.NEW]:"#3B82F6",[p.OrderStatus.TAKEN]:"#64748B",[p.OrderStatus.IN_PROGRESS]:"#0EA5E9",[p.OrderStatus.APPROVED]:"#10B981",[p.OrderStatus.IN_TESTING]:"#A855F7",[p.OrderStatus.COMPLETED]:"#22C55E",[p.OrderStatus.CONTACT_CLIENT]:"#F472B6",[p.OrderStatus.WAITING_CLIENT]:"#F59E0B",[p.OrderStatus.DELIVERED]:"#374151",[p.OrderStatus.CANCELLED]:"#EF4444"},v={[p.OrderStatus.NEW]:a.A,[p.OrderStatus.TAKEN]:r.A,[p.OrderStatus.IN_PROGRESS]:i.A,[p.OrderStatus.APPROVED]:n.A,[p.OrderStatus.IN_TESTING]:o.A,[p.OrderStatus.COMPLETED]:d.A,[p.OrderStatus.CONTACT_CLIENT]:c.A,[p.OrderStatus.WAITING_CLIENT]:m.A,[p.OrderStatus.DELIVERED]:x.A,[p.OrderStatus.CANCELLED]:u.A},j=e=>{let{status:t,size:s=24}=e,a=v[t],r=h[t];return a?(0,l.jsx)(a,{sx:{fontSize:s},htmlColor:r}):null}},17045:(e,t,s)=>{s.d(t,{N:()=>I});var l=s(73365),a=s(1521),r=s(49656),i=s(17545),n=s(31691),o=s(71062),d=s(59296),c=s(87363),m=s(17054),x=s(9228),u=s(92222),p=s(83315),h=s(18768),v=s(49689),j=s(78775),b=s(28402);let g=e=>{let{role:t,onSelect:s,onRemove:a,...r}=e,{t:i}=(0,u.Bd)();return(0,l.jsx)(v.X,{...r,title:(0,b.wR)(t.name),icon:(0,l.jsx)(p.A,{fontSize:"inherit"}),color:"purple",onClick:()=>null==s?void 0:s(t),onRemove:a,children:t.description&&(0,l.jsx)(j.d,{label:i("role.description"),value:t.description,icon:(0,l.jsx)(h.A,{fontSize:"inherit"})})})};var f=s(90186),y=s(31079),N=s(26734),A=s(35905);let C=e=>{let{roles:t,onSelectRole:s,resultsVisible:r=!0,setResultsVisibility:i}=e,{t:n}=(0,u.Bd)(),[o,d]=(0,a.useState)(!1),m=n("entities.role.searchKeys",{returnObjects:!0});return t?0===t.length?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-between gap-3 h-full py-8 px-4 mt-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,l.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center",children:[(0,l.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:n("common.ui.noResults")}),(0,l.jsx)("p",{className:"text-gray-400 text-xs",children:n("common.ui.tryDifferentSearch")})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs text-gray-500 font-medium mb-1",children:n("common.ui.searchCriteria")}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map(e=>(0,l.jsx)("span",{className:"bg-purple-100 text-purple-700 text-xs font-medium px-3 py-1 rounded-full border border-purple-200",children:e},e))})]}),(0,l.jsx)(f.A,{variant:"outlined",size:"small",startIcon:(0,l.jsx)(c.OiG,{}),sx:{borderColor:"#87b3fa",color:"#3B82F6",textTransform:"none",fontSize:"0.85rem",borderRadius:"8px",px:2.5,py:1,mt:4,backgroundColor:"#EFF6FF","&:hover":{borderColor:"#3B82F6"}},onClick:()=>d(!0),children:n("entities.role.create")}),(0,l.jsx)(A.F,{open:o,variant:"modal",withEmployees:!1,onClose:()=>d(!1)})]}):(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:n("common.fields.results")}),(0,l.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 border border-purple-200",children:[t.length," ",n("common.entities.role")]})]}),(0,l.jsx)(f.A,{variant:"outlined",size:"small",startIcon:r?(0,l.jsx)(y.A,{}):(0,l.jsx)(N.A,{}),onClick:()=>null==i?void 0:i(!r),sx:{textTransform:"none",fontSize:"0.75rem",minWidth:"auto",padding:"4px 8px"},children:n(r?"common.actions.hide":"common.actions.show")})]}),r&&(0,l.jsxs)("div",{className:"overflow-hidden max-h-96 overflow-y-auto border border-gray-300 rounded-md bg-white shadow-sm",children:[t.map(e=>(0,l.jsx)("div",{className:"cursor-pointer border-b border-gray-200 last:border-b-0",children:(0,l.jsx)(g,{role:e,onSelect:e=>{null==i||i(!1),null==s||s(e)},size:"sm"})},e.id)),(0,l.jsx)("div",{className:"flex justify-center items-center py-3 bg-gray-50",children:(0,l.jsx)(f.A,{variant:"text",size:"small",startIcon:(0,l.jsx)(c.OiG,{}),onClick:()=>d(!0),style:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",color:"#3B82F6"},children:n("entities.role.create")})})]}),(0,l.jsx)(A.F,{open:o,variant:"modal",withEmployees:!1,onClose:()=>d(!1)})]}):null};var E=s(36115),S=s(7128);let k=e=>{let{department:t,onSelect:s,onClick:a,...r}=e,{t:i}=(0,u.Bd)();return(0,l.jsx)(v.X,{...r,title:(0,b.wR)(t.name),icon:(0,l.jsx)(S.A,{fontSize:"inherit"}),color:"blue",onClick:s,children:t.description&&(0,l.jsx)(j.d,{label:i("common.description"),value:t.description,icon:(0,l.jsx)(h.A,{fontSize:"inherit"})})})};var D=s(40870);let z=e=>{let{departments:t,onSelectDepartment:s,resultsVisible:r=!0,setResultsVisibility:i}=e,{t:n}=(0,u.Bd)(),[o,d]=(0,a.useState)(!1),m=n("entities.department.searchSuggestions",{returnObjects:!0});return t?0===t.length?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-between gap-3 h-full py-8 px-4 mt-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,l.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center",children:[(0,l.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:n("common.ui.noResults")}),(0,l.jsx)("p",{className:"text-gray-400 text-xs",children:n("common.ui.tryDifferentSearch")})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs text-gray-500 font-medium mb-1",children:n("common.ui.searchCriteria")}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map(e=>(0,l.jsx)("span",{className:"bg-blue-100 text-blue-700 text-xs font-medium px-3 py-1 rounded-full border border-blue-200",children:e},e))})]}),(0,l.jsx)(f.A,{variant:"outlined",size:"small",startIcon:(0,l.jsx)(c.OiG,{}),sx:{borderColor:"#87b3fa",color:"#3B82F6",textTransform:"none",fontSize:"0.85rem",borderRadius:"8px",px:2.5,py:1,mt:4,backgroundColor:"#EFF6FF","&:hover":{borderColor:"#3B82F6"}},onClick:()=>d(!0),children:n("entities.department.create")}),(0,l.jsx)(D.h,{open:o,variant:"modal",onClose:()=>d(!1)})]}):(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:n("common.fields.results")}),(0,l.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:[t.length," ",n("common.entities.department")]})]}),(0,l.jsx)(f.A,{variant:"outlined",size:"small",startIcon:r?(0,l.jsx)(y.A,{}):(0,l.jsx)(N.A,{}),onClick:()=>null==i?void 0:i(!r),sx:{textTransform:"none",fontSize:"0.75rem",minWidth:"auto",padding:"4px 8px"},children:n(r?"common.actions.hide":"common.actions.show")})]}),r&&(0,l.jsxs)("div",{className:"overflow-hidden max-h-96 overflow-y-auto border border-gray-300 rounded-md bg-white shadow-sm",children:[t.map(e=>(0,l.jsx)("div",{className:"cursor-pointer border-b border-gray-200 last:border-b-0",children:(0,l.jsx)(k,{department:e,onSelect:()=>{null==i||i(!1),null==s||s(e)},size:"sm"})},e.id)),(0,l.jsx)("div",{className:"flex justify-center items-center py-3 bg-gray-50",children:(0,l.jsx)(f.A,{variant:"text",size:"small",startIcon:(0,l.jsx)(c.OiG,{}),onClick:()=>d(!0),style:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",color:"#3B82F6"},children:n("entities.department.create")})})]}),(0,l.jsx)(D.h,{open:o,variant:"modal",withEmployees:!1,onClose:()=>d(!1)})]}):null};var w=s(17349),R=s(35227),F=s(92890);let T=(e,t,s)=>{let l=(0,R.A)({itemName:"Angajat",initialValues:e,defaultValues:(0,w.getDefaultEmployeeForm)(),itemId:null==e?void 0:e.id,onClose:t,onSuccess:s,createRecord:F.yD.create,updateRecord:F.yD.update,getCreateDto:w.convertEmployeeFormToDto,getUpdateDto:w.convertEmployeeFormToDto,validator:w.validateEmployeeForm});return{form:l,handlers:{updateField:(e,t)=>l.setValues(e,t),handleSelectDepartment:e=>{l.setValues("department",e)},handleRemoveDepartment:()=>{l.setValues("department",null)},handleSelectRole:e=>{l.setValues("role",e)},handleRemoveRole:()=>{l.setValues("role",null)},updateEmployeeField:(e,t)=>{l.setValues(e,t)}}}};var O=s(51491);let I=e=>{var t,s,p,h,v,j;let{open:b,employee:f,variant:y,onRefresh:N,onClose:A}=e,{t:S}=(0,u.Bd)(),{form:D,handlers:w}=T(f,A,N),[R,I]=(0,a.useState)(!0),[V,B]=(0,a.useState)(!0),L=(0,O.A)(e=>x.i.getAll({query:e?{search:e}:{}}),1e3),q=(0,O.A)(e=>F.Mg.getAll({query:e?{search:e}:{}}),1e3),M=(0,a.useCallback)(()=>{L.setQuery(""),q.setQuery(""),I(!0),B(!0),D.reset()},[D,L,q]),W=!!f,P=(0,l.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,l.jsxs)("div",{className:"p-5 space-y-6 text-graphite font-light",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"font-semibold mb-1 block",children:[S("entities.person.fullName")," ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(r.A,{fullWidth:!0,required:!0,value:D.values.fullName,onChange:e=>w.updateEmployeeField("fullName",e.target.value),placeholder:S("common.placeholders.name"),error:!!(null===(t=D.validationErrors)||void 0===t?void 0:t.fullName),helperText:null===(s=D.validationErrors)||void 0===s?void 0:s.fullName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:S("common.fields.phone")}),(0,l.jsx)(r.A,{fullWidth:!0,value:D.values.phone,onChange:e=>w.updateEmployeeField("phone",e.target.value),placeholder:S("common.placeholders.phone"),error:!!(null===(p=D.validationErrors)||void 0===p?void 0:p.phone),helperText:null===(h=D.validationErrors)||void 0===h?void 0:h.phone})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:S("common.fields.email")}),(0,l.jsx)(r.A,{fullWidth:!0,type:"email",value:D.values.email,onChange:e=>w.updateEmployeeField("email",e.target.value),placeholder:S("common.placeholders.email"),error:!!(null===(v=D.validationErrors)||void 0===v?void 0:v.email),helperText:null===(j=D.validationErrors)||void 0===j?void 0:j.email})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:S("common.entities.department")}),(0,l.jsxs)("div",{className:"border rounded-md border-gray-300",children:[(0,l.jsx)(r.A,{fullWidth:!0,placeholder:S("common.placeholders.search"),value:L.query,onChange:e=>L.setQuery(e.target.value),InputProps:{startAdornment:D.values.department?null:(0,l.jsx)(i.A,{position:"start",children:(0,l.jsx)(n.A,{"aria-label":S("common.placeholders.search"),onClick:()=>{L.searchNow(L.query),I(!0)},edge:"start",size:"small",children:(0,l.jsx)(m.A,{})})}),endAdornment:L.loading?(0,l.jsx)(i.A,{position:"end",children:(0,l.jsx)(o.A,{size:20})}):null}}),D.values.department&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.A,{}),(0,l.jsx)(k,{department:D.values.department,onRemove:w.handleRemoveDepartment,showHoverEffect:!1,size:"xs"})]})]}),(0,l.jsx)(z,{departments:L.results,onSelectDepartment:e=>{w.handleSelectDepartment(e),L.setQuery(""),I(!1)},resultsVisible:R,setResultsVisibility:I})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:S("common.entities.role")}),(0,l.jsxs)("div",{className:"border rounded-md border-gray-300",children:[(0,l.jsx)(r.A,{fullWidth:!0,placeholder:S("common.placeholders.search"),value:q.query,onChange:e=>q.setQuery(e.target.value),InputProps:{startAdornment:D.values.role?null:(0,l.jsx)(i.A,{position:"start",children:(0,l.jsx)(n.A,{"aria-label":S("common.placeholders.search"),onClick:()=>{q.searchNow(q.query),B(!0)},edge:"start",size:"small",children:(0,l.jsx)(m.A,{})})}),endAdornment:q.loading?(0,l.jsx)(i.A,{position:"end",children:(0,l.jsx)(o.A,{size:20})}):null}}),D.values.role&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.A,{}),(0,l.jsx)(g,{role:D.values.role,onRemove:w.handleRemoveRole,showHoverEffect:!1,size:"xs"})]})]}),(0,l.jsx)(C,{roles:q.results,onSelectRole:e=>{w.handleSelectRole(e),q.setQuery(""),B(!1)},resultsVisible:V,setResultsVisibility:B})]})]})}),Q=W?c.uO9:c.NPy,G=W?c.uO9:c.OiG;return(0,l.jsx)(E.I,{open:b,canSubmit:D.canSubmit,variant:y,title:S(W?"entities.employee.edit":"entities.employee.create"),titleIcon:(0,l.jsx)(Q,{size:22}),primaryActionLabel:S(W?"common.actions.save":"entities.employee.create"),primaryActionIcon:(0,l.jsx)(G,{}),onSubmit:D.submit,onClose:A,onReset:M,hasUnsavedChanges:D.isDirty,children:P})}},32427:(e,t,s)=>{s.d(t,{Z:()=>X});var l=s(73365),a=s(1521),r=s(92222),i=s(49656),n=s(17545),o=s(59296),d=s(14748),c=s(75796),m=s(1824),x=s(17054),u=s(71062),p=s(31691),h=s(87363),v=s(61831),j=s(36367),b=s(17349),g=s(53867),f=s(72338),y=s(29875),N=s(51190),A=s(53626),C=s(69605),E=s(51056),S=s(49689),k=s(78775);let D=e=>{let{person:t,isRepresentative:s,onClick:a,...i}=e,{t:n}=(0,r.Bd)();return(0,l.jsxs)(S.X,{...i,title:t.fullName,icon:(0,l.jsx)("span",{className:"flex items-center gap-1",children:s?(0,l.jsx)(C.A,{fontSize:"inherit"}):(0,l.jsx)(y.A,{fontSize:"inherit"})}),color:"green",onClick:a,children:[t.phone&&(0,l.jsx)(k.d,{label:n("common.fields.phone"),value:t.phone,icon:(0,l.jsx)(N.A,{fontSize:"inherit"})}),t.email&&(0,l.jsx)(k.d,{label:n("common.fields.email"),value:t.email,icon:(0,l.jsx)(A.A,{fontSize:"inherit"})}),t.address&&(0,l.jsx)(k.d,{label:n("common.fields.address"),value:t.address,icon:(0,l.jsx)(E.A,{fontSize:"inherit"})})]})};var z=s(7128),w=s(38120),R=s(14573);let F=e=>{let{company:t,onSelectCompany:s,onSelectRepresentative:a,showRepresentatives:i=!0,...n}=e,{t:o}=(0,r.Bd)();return(0,l.jsxs)(S.X,{...n,title:t.name,icon:(0,l.jsx)(z.A,{fontSize:"inherit"}),onClick:()=>null==s?void 0:s(t),color:"blue",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[t.phone&&(0,l.jsx)(k.d,{icon:(0,l.jsx)(N.A,{fontSize:"inherit",className:"text-gray-600"}),value:t.phone,label:o("common.fields.phone")}),t.email&&(0,l.jsx)(k.d,{icon:(0,l.jsx)(A.A,{fontSize:"inherit",className:"text-gray-600"}),value:t.email,label:o("common.fields.email")}),t.headquarters&&(0,l.jsx)(k.d,{icon:(0,l.jsx)(E.A,{fontSize:"inherit",className:"text-gray-600"}),value:t.headquarters,label:o("common.fields.headquarters")}),t.taxId&&(0,l.jsx)(k.d,{icon:(0,l.jsx)(w.A,{fontSize:"inherit",className:"text-gray-600"}),value:t.taxId,label:o("entities.company.taxId")})]}),i&&(0,b.isExpandedCompany)(t)&&t.representatives.length>0&&(0,l.jsxs)("div",{className:"flex items-start gap-3 pt-4",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,l.jsx)(R.A,{fontSize:"inherit",className:"text-blue-600"})}),(0,l.jsxs)("div",{className:"min-w-0 flex-1 px-3 py-2 bg-gray-100 rounded-lg",children:[(0,l.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:[o("common.entities.representatives")," (",t.representatives.length,")"]}),(0,l.jsx)("div",{className:"space-y-2",children:t.representatives.map(e=>(0,l.jsx)("div",{onClick:t=>{t.stopPropagation(),null==a||a(e)},children:(0,l.jsx)(D,{person:e.person,size:"xs"})},e.personId))})]})]})]})},T=e=>{let{client:t,onSelectClient:s,onSelectRepresentative:a,showRepresentatives:r=!1,...i}=e;return(0,b.isExpandedClient)(t)?"PERSON"===t.type&&t.person?(0,l.jsxs)("div",{children:[(0,l.jsx)(D,{...i,person:t.person,onClick:()=>null==s?void 0:s(t)}),(0,l.jsx)(o.A,{orientation:"horizontal"})]}):"COMPANY"===t.type&&t.company?(0,l.jsxs)("div",{children:[(0,l.jsx)(F,{...i,company:t.company,onSelectCompany:()=>null==s?void 0:s(t),onSelectRepresentative:e=>null==a?void 0:a(t,e),showRepresentatives:r}),(0,l.jsx)(o.A,{orientation:"horizontal"})]}):null:null};var O=s(90186),I=s(17503),V=s(70577),B=s(31079),L=s(26734);let q=e=>{let{clientSearchType:t,clients:s,onSelectClient:i,onSelectRepresentative:n,resultsVisible:o=!0,setResultsVisibility:d}=e,{t:c}=(0,r.Bd)(),[m,x]=(0,a.useState)(!1),u=c("entities.client.searchKeys",{returnObjects:!0});if(!s)return null;if(0===s.length)return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-between gap-3 h-full py-8 px-4 mt-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,l.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center",children:[(0,l.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:c("common.ui.noResults")}),(0,l.jsx)("p",{className:"text-gray-400 text-xs",children:c("common.ui.tryDifferentSearch")})]})]}),(0,l.jsx)("div",{className:"flex flex-col gap-4",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs text-gray-500 font-medium mb-1",children:c("common.ui.searchCriteria")}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:u.map(e=>(0,l.jsx)("span",{className:"bg-blue-100 text-blue-700 text-xs font-medium px-3 py-1 rounded-full border border-blue-200",children:e},e))})]})}),(0,l.jsx)(O.A,{variant:"outlined",size:"small",startIcon:(0,l.jsx)(V.zHz,{}),sx:{borderColor:"#87b3fa",color:"#3B82F6",textTransform:"none",fontSize:"0.85rem",borderRadius:"8px",px:2.5,py:1,mt:4,backgroundColor:"#EFF6FF","&:hover":{borderColor:"#3B82F6"}},onClick:()=>x(!0),children:c("entities.client.create")}),(0,l.jsx)(I.M,{open:m,variant:"modal",onClose:()=>x(!1)})]});let p=s.filter(e=>e.type===t);return 0===p.length?null:(0,l.jsxs)("div",{className:"mt-4 ml-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:c("common.fields.results")}),(0,l.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 border border-indigo-200",children:[p.length," ",(p.length,c("common.entities.client"))]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:[c("common.fields.type"),": ",c("PERSON"===t?"entities.client.individual":"entities.client.company")]}),(0,l.jsx)(O.A,{variant:"outlined",size:"small",startIcon:o?(0,l.jsx)(B.A,{}):(0,l.jsx)(L.A,{}),onClick:()=>null==d?void 0:d(!o),sx:{textTransform:"none",fontSize:"0.75rem",minWidth:"auto",padding:"4px 8px"},children:c(o?"common.actions.hide":"common.actions.show")})]})]}),o&&(0,l.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden max-h-96 overflow-y-auto",children:[p.map(e=>(0,l.jsx)(T,{client:e,onSelectClient:e=>{null==d||d(!1),i(e)},onSelectRepresentative:(e,t)=>{null==d||d(!1),n(e,t)},showRepresentatives:!0,size:"sm"},e.id)),(0,l.jsx)("div",{className:"flex justify-center items-center py-3 bg-gray-50",children:(0,l.jsx)(O.A,{variant:"text",size:"small",startIcon:(0,l.jsx)(V.zHz,{}),onClick:()=>x(!0),style:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",color:"#3B82F6"},children:c("entities.client.create")})})]}),(0,l.jsx)(I.M,{open:m,variant:"modal",onClose:()=>x(!1)})]})};var M=s(36115),W=s(46313),P=s(55417),Q=s(92890),G=s(51491),U=s(35227);let _=e=>{let{defaultValues:t=(0,b.getDefaultTicketForm)(),initialValues:s,onClose:l,onSuccess:a}=e,r=(0,U.A)({itemName:"Ticket",initialValues:s,defaultValues:t,itemId:null==s?void 0:s.id,onClose:l,onSuccess:a,createRecord:Q.qB.create,updateRecord:Q.qB.update,getCreateDto:b.convertTicketFormToDto,getUpdateDto:b.convertTicketFormToDto,validator:b.validateTicketForm});return{form:r,handlers:{updateField:(e,t)=>r.setValues(e,t),handleSelectClient:e=>{r.setValues("client",e),r.setValues("representative",null)},handleRemoveClient:()=>{r.setValues("client",null),r.setValues("representative",null)},handleSelectRepresentative:(e,t)=>{r.setValues("client",e),r.setValues("representative",t)},handleRemoveRepresentative:()=>{r.setValues("representative",null)},handleSelectEmployee:e=>{r.values.employees.some(t=>t.id===e.id)||r.setValues("employees",[...r.values.employees,e])},handleRemoveEmployee:e=>{r.setValues("employees",r.values.employees.filter(t=>t.id!==e))}}}};var H=s(28402);let X=e=>{var t,s,y,N,A,C,E,S,k,z,w;let{open:R,ticket:F,variant:O,onSuccess:I,onClose:V}=e,{t:B}=(0,r.Bd)(),[L,U]=(0,a.useState)(!0),[X,K]=(0,a.useState)(!0),{form:Y,handlers:J}=_({initialValues:F,defaultValues:(0,b.getDefaultTicketForm)(),onClose:V,onSuccess:I}),[Z,$]=(0,a.useState)(b.ClientType.PERSON),ee=(0,G.A)(e=>Q.DF.getAll({query:e?{search:e,filters:JSON.stringify({type:Z}),includeDetails:!0}:{filters:JSON.stringify({type:Z}),includeDetails:!0}}).then(e=>(U(!0),e)),1e3),et=(0,G.A)(e=>Q.yD.getAll({query:e?{search:e,includeDetails:!0}:{includeDetails:!0}}).then(e=>(K(!0),e)),1e3),es=(0,a.useCallback)(()=>{ee.setQuery(""),et.setQuery(""),U(!0),K(!0),Y.reset()},[Y,ee,et]),el=!!F,ea=(0,l.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,l.jsxs)("div",{className:"p-5 space-y-6 text-graphite font-light",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-2 block",children:B("entities.client.selectType")}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)("label",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"radio",value:b.ClientType.PERSON,checked:Z===b.ClientType.PERSON,onChange:e=>$(e.target.value),className:"text-blue-600"}),(0,l.jsx)("span",{children:B("entities.client.individual")})]}),(0,l.jsxs)("label",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"radio",value:b.ClientType.COMPANY,checked:Z===b.ClientType.COMPANY,onChange:e=>$(e.target.value),className:"text-blue-600"}),(0,l.jsx)("span",{children:B("entities.client.company")})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"font-semibold mb-1 block",children:[B("entities.ticket.searchClient")," ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsxs)("div",{className:"border rounded-md border-gray-300",children:[(0,l.jsx)(i.A,{fullWidth:!0,placeholder:B("common.placeholders.search"),value:ee.query,onChange:e=>ee.setQuery(e.target.value),InputProps:{startAdornment:(0,l.jsx)(n.A,{position:"start",children:(0,l.jsx)(p.A,{"aria-label":B("common.actions.search"),onClick:()=>{ee.searchNow(ee.query),U(!0)},edge:"start",size:"small",children:(0,l.jsx)(x.A,{})})}),endAdornment:ee.loading?(0,l.jsx)(n.A,{position:"end",children:(0,l.jsx)(u.A,{size:20})}):null},sx:{"& .MuiInputBase-root":{border:"none"},"& .MuiOutlinedInput-notchedOutline":{border:"none"}}}),Y.values.client&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.A,{}),(0,l.jsx)(T,{client:Y.values.client,onRemove:J.handleRemoveClient,size:"xs"}),Y.values.representative&&(0,b.isExpandedRepresentative)(Y.values.representative)&&(0,l.jsx)(D,{person:Y.values.representative.person,onRemove:J.handleRemoveRepresentative,size:"xs"})]})]}),(0,l.jsx)(q,{clients:ee.results,clientSearchType:Z,onSelectClient:e=>{J.handleSelectClient(e),ee.setQuery(""),U(!1)},onSelectRepresentative:J.handleSelectRepresentative,resultsVisible:L,setResultsVisibility:U}),(null===(t=Y.validationErrors)||void 0===t?void 0:t.client)&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:Y.validationErrors.client})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:B("entities.ticket.assignEmployee")}),(0,l.jsxs)("div",{className:"border rounded-md border-gray-300",children:[(0,l.jsx)(i.A,{fullWidth:!0,placeholder:B("common.placeholders.search"),value:et.query,onChange:e=>et.setQuery(e.target.value),InputProps:{startAdornment:(0,l.jsx)(n.A,{position:"start",children:(0,l.jsx)(p.A,{"aria-label":B("common.actions.search"),onClick:()=>{et.searchNow(et.query),K(!0)},edge:"start",size:"small",children:(0,l.jsx)(x.A,{})})}),endAdornment:et.loading?(0,l.jsx)(n.A,{position:"end",children:(0,l.jsx)(u.A,{size:20})}):null},sx:{"& .MuiInputBase-root":{border:"none"},"& .MuiOutlinedInput-notchedOutline":{border:"none"}}}),Y.values.employees.length>0&&(0,l.jsx)(l.Fragment,{children:Y.values.employees.map(e=>(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(o.A,{}),(0,l.jsx)(f.D,{employee:e,size:"sm",showHoverEffect:!0,onRemove:()=>J.handleRemoveEmployee(e.id)})]},e.id))})]}),(0,l.jsx)(g.l,{employees:et.results,onSelectEmployee:e=>{J.handleSelectEmployee(e),et.setQuery(""),K(!1)},resultsVisible:X,setResultsVisibility:K}),(null===(s=Y.validationErrors)||void 0===s?void 0:s.employees)&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:Y.validationErrors.employees})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"font-semibold mb-1 block",children:[B("entities.ticket.equipmentDescription")," ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("textarea",{rows:3,required:!0,value:Y.values.equipmentDescription,onChange:e=>J.updateField("equipmentDescription",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:B("common.placeholders.description")}),(null===(y=Y.validationErrors)||void 0===y?void 0:y.equipmentDescription)&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:Y.validationErrors.equipmentDescription})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:B("entities.ticket.priority")}),(0,l.jsx)(d.A,{fullWidth:!0,children:(0,l.jsx)(c.A,{value:Y.values.priority,onChange:e=>J.updateField("priority",e.target.value),MenuProps:{disablePortal:!0},children:Object.values(b.OrderPriority).map(e=>(0,l.jsx)(m.A,{value:e,children:B("entities.ticket.priorityLevels.".concat(e.toLowerCase()))},e))})}),(null===(N=Y.validationErrors)||void 0===N?void 0:N.priority)&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:Y.validationErrors.priority})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,l.jsx)("label",{className:"font-semibold",children:B("entities.ticket.estimatedDeliveryDate")}),Y.values.estimatedDeliveryDate&&(0,l.jsx)(p.A,{size:"small",color:"error",onClick:()=>J.updateField("estimatedDeliveryDate",(0,H.Oc)()),className:"bg-red-200",children:(0,l.jsx)(W.FO3,{size:18})})]}),(0,l.jsx)(i.A,{fullWidth:!0,type:"date",value:Y.values.estimatedDeliveryDate?(0,H.Oc)(Y.values.estimatedDeliveryDate):"",onChange:e=>J.updateField("estimatedDeliveryDate",(0,H.Oc)(e.target.value))}),(null===(A=Y.validationErrors)||void 0===A?void 0:A.estimatedDeliveryDate)&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:Y.validationErrors.estimatedDeliveryDate})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:B("entities.ticket.estimatedCost")}),(0,l.jsx)(j.HG,{customInput:i.A,fullWidth:!0,thousandSeparator:!0,decimalScale:2,allowNegative:!1,value:Y.values.estimatedCost,onValueChange:e=>{var t;return J.updateField("estimatedCost",null!==(t=e.floatValue)&&void 0!==t?t:0)},placeholder:"0.00",error:!!(null===(C=Y.validationErrors)||void 0===C?void 0:C.estimatedCost),helperText:null===(E=Y.validationErrors)||void 0===E?void 0:E.estimatedCost})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:B("entities.ticket.estimatedExecutionTime")}),(0,l.jsx)(P.A,{defaultMinutes:Y.values.estimatedExecutionTime,onChange:e=>J.updateField("estimatedExecutionTime",e)}),(null===(S=Y.validationErrors)||void 0===S?void 0:S.estimatedExecutionTime)&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:Y.validationErrors.estimatedExecutionTime})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:B("common.fields.observations")}),(0,l.jsx)("textarea",{rows:3,value:Y.values.observations||"",onChange:e=>J.updateField("observations",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:B("common.placeholders.description")}),(null===(k=Y.validationErrors)||void 0===k?void 0:k.observations)&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:Y.validationErrors.observations})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:B("entities.ticket.imageUrl")}),(0,l.jsx)(i.A,{fullWidth:!0,type:"url",value:Y.values.imageUrl||"",onChange:e=>J.updateField("imageUrl",e.target.value),placeholder:B("entities.ticket.placeholders.imageUrl"),error:!!(null===(z=Y.validationErrors)||void 0===z?void 0:z.imageUrl),helperText:null===(w=Y.validationErrors)||void 0===w?void 0:w.imageUrl})]})]})}),er=el?v.WM1:v.Xb0,ei=el?h.uO9:h.OiG;return(0,l.jsx)(M.I,{open:R,canSubmit:Y.canSubmit,variant:O,title:el?B("entities.ticket.edit"):B("entities.ticket.create"),titleIcon:(0,l.jsx)(er,{size:22}),primaryActionLabel:el?B("forms.saveChanges"):B("entities.ticket.create"),primaryActionIcon:(0,l.jsx)(ei,{}),onSubmit:Y.submit,onClose:V,onReset:es,hasUnsavedChanges:Y.isDirty,children:ea})}},35905:(e,t,s)=>{s.d(t,{F:()=>A});var l=s(73365),a=s(1521),r=s(92222),i=s(49656),n=s(17545),o=s(31691),d=s(71062),c=s(59296),m=s(87363),x=s(70577),u=s(17054),p=s(31094),h=s(72338),v=s(36115),j=s(53867),b=s(17349),g=s(35227),f=s(92890);let y=(e,t,s)=>{let l=(0,g.A)({itemName:"Rol Angajat",initialValues:e,defaultValues:(0,b.getDefaultEmployeeRoleForm)(),itemId:null==e?void 0:e.id,onClose:t,onSuccess:s,createRecord:f.Mg.create,updateRecord:f.Mg.update,getCreateDto:b.convertEmployeeRoleFormToDto,getUpdateDto:b.convertEmployeeRoleFormToDto,validator:b.validateEmployeeRoleForm});return{form:l,handlers:{updateField:(e,t)=>l.setValues(e,t),handleSelectEmployee:e=>{l.values.employees.some(t=>t.id===e.id)||l.setValues("employees",[...l.values.employees,e])},handleRemoveEmployee:e=>{l.setValues("employees",l.values.employees.filter(t=>t.id!==e))},updateRoleField:(e,t)=>{l.setValues(e,t)}}}};var N=s(51491);let A=e=>{var t,s,b;let{open:g,role:f,variant:A,withEmployees:C=!0,onRefresh:E,onClose:S}=e,{t:k}=(0,r.Bd)(),{form:D,handlers:z}=y(f,S,E),[w,R]=(0,a.useState)(!0),F=(0,N.A)(e=>p.y.getAll({query:e?{search:e,includeDetails:!0}:{includeDetails:!0}}),1e3),T=!!f,O=(0,l.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,l.jsxs)("div",{className:"p-5 space-y-6 text-graphite font-light",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"font-semibold mb-1 block",children:[k("common.fields.name")," ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(i.A,{fullWidth:!0,required:!0,value:D.values.name,onChange:e=>z.updateRoleField("name",e.target.value),placeholder:k("entities.role.placeholders.name"),error:!!(null===(t=D.validationErrors)||void 0===t?void 0:t.name),helperText:null===(s=D.validationErrors)||void 0===s?void 0:s.name})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:k("common.fields.description")}),(0,l.jsx)("textarea",{rows:3,value:D.values.description,onChange:e=>z.updateRoleField("description",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:k("entities.role.placeholders.description")}),(null===(b=D.validationErrors)||void 0===b?void 0:b.description)&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:D.validationErrors.description})]}),C&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:k("entities.role.assignEmployees")}),(0,l.jsxs)("div",{className:"border rounded-md border-gray-300",children:[(0,l.jsx)(i.A,{fullWidth:!0,placeholder:k("common.placeholders.search"),value:F.query,onChange:e=>F.setQuery(e.target.value),InputProps:{startAdornment:(0,l.jsx)(n.A,{position:"start",children:(0,l.jsx)(o.A,{onClick:()=>{F.searchNow(F.query),R(!0)},size:"small","aria-label":k("common.actions.search"),children:(0,l.jsx)(u.A,{})})}),endAdornment:F.loading?(0,l.jsx)(n.A,{position:"end",children:(0,l.jsx)(d.A,{size:20})}):null}}),D.values.employees.map(e=>(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(c.A,{}),(0,l.jsx)(h.D,{employee:e,size:"xs",onRemove:()=>z.handleRemoveEmployee(e.id),displayDetails:!0})]},e.id))]}),(0,l.jsx)(j.l,{onSelectEmployee:e=>{z.handleSelectEmployee(e),F.setQuery(""),R(!1)},employees:F.results,resultsVisible:w,setResultsVisibility:R})]})]})}),I=x.zHz,V=T?m.uO9:m.OiG;return(0,l.jsx)(v.I,{open:g,canSubmit:D.canSubmit,variant:A,title:k(T?"entities.role.edit":"entities.role.create"),titleIcon:(0,l.jsx)(I,{size:22}),primaryActionLabel:k(T?"common.actions.save":"entities.role.create"),primaryActionIcon:(0,l.jsx)(V,{}),onSubmit:D.submit,onClose:S,onReset:()=>{F.setQuery(""),R(!0),D.reset()},hasUnsavedChanges:D.isDirty,children:O})}},40870:(e,t,s)=>{s.d(t,{h:()=>A});var l=s(73365),a=s(49656),r=s(17545),i=s(59296),n=s(7128),o=s(87363),d=s(53867),c=s(31094),m=s(71062),x=s(31691),u=s(17054),p=s(36115),h=s(1521),v=s(72338),j=s(92222),b=s(17349),g=s(35227),f=s(92890);let y=(e,t,s)=>{let l=(0,g.A)({itemName:"Departament",initialValues:e,itemId:null==e?void 0:e.id,defaultValues:(0,b.getDefaultDepartmentForm)(),onClose:t,onSuccess:s,createRecord:f.iw.create,updateRecord:f.iw.update,getCreateDto:b.convertDepartmentFormToDto,getUpdateDto:b.convertDepartmentFormToDto,validator:b.validateDepartmentForm});return{form:l,handlers:{updateField:(e,t)=>l.setValues(e,t),handleSelectEmployee:e=>{l.values.employees.map(e=>e.id).includes(e.id)||l.setValues("employees",[...l.values.employees,e])},handleRemoveEmployee:e=>{l.setValues("employees",l.values.employees.filter(t=>t.id!==e))},updateDepartmentField:(e,t)=>{l.setValues(e,t)}}}};var N=s(51491);let A=e=>{var t,s,b;let{open:g,department:f,variant:A,withEmployees:C=!0,onClose:E,onRefresh:S}=e,{t:k}=(0,j.Bd)(),{form:D,handlers:z}=y(f,E,S),[w,R]=(0,h.useState)(!0),F=(0,N.A)(e=>c.y.getAll({query:e?{search:e,includeDetails:!0}:{includeDetails:!0}}),1e3),T=!!(null==f?void 0:f.id),O=(0,l.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,l.jsxs)("div",{className:"p-5 space-y-6 text-graphite font-light",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"font-semibold mb-1 block",children:[k("common.fields.name")," ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(a.A,{fullWidth:!0,required:!0,value:D.values.name,onChange:e=>z.updateDepartmentField("name",e.target.value),placeholder:k("common.placeholders.name"),error:!!(null===(t=D.validationErrors)||void 0===t?void 0:t.name),helperText:null===(s=D.validationErrors)||void 0===s?void 0:s.name})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:k("common.fields.description")}),(0,l.jsx)("textarea",{rows:3,value:D.values.description,onChange:e=>z.updateDepartmentField("description",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:k("common.placeholders.description")}),(null===(b=D.validationErrors)||void 0===b?void 0:b.description)&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:D.validationErrors.description})]}),C&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-semibold mb-1 block",children:k("entities.department.assignEmployees")}),(0,l.jsxs)("div",{className:"border rounded-md border-gray-300",children:[(0,l.jsx)(a.A,{fullWidth:!0,placeholder:k("common.placeholders.search"),value:F.query,onChange:e=>F.setQuery(e.target.value),InputProps:{startAdornment:(0,l.jsx)(r.A,{position:"start",children:(0,l.jsx)(x.A,{onClick:()=>F.searchNow(F.query),size:"small",children:(0,l.jsx)(u.A,{})})}),endAdornment:F.loading?(0,l.jsx)(r.A,{position:"end",children:(0,l.jsx)(m.A,{size:20})}):null}}),D.values.employees.map(e=>(0,l.jsxs)(h.Fragment,{children:[(0,l.jsx)(i.A,{}),(0,l.jsx)(v.D,{employee:e,size:"xs",onRemove:()=>z.handleRemoveEmployee(e.id),displayDetails:!0})]},e.id))]}),(0,l.jsx)(d.l,{onSelectEmployee:e=>{z.handleSelectEmployee(e),F.setQuery(""),R(!1)},employees:F.results,resultsVisible:w,setResultsVisibility:R})]})]})});return(0,l.jsx)(p.I,{open:g,canSubmit:D.canSubmit,variant:A,title:k(T?"entities.department.edit":"entities.department.create"),titleIcon:(0,l.jsx)(n.A,{}),primaryActionLabel:k(T?"common.actions.save":"entities.department.create"),primaryActionIcon:T?(0,l.jsx)(o.uO9,{}):(0,l.jsx)(o.OiG,{}),onSubmit:D.submit,onClose:E,onReset:()=>{F.setQuery(""),R(!0),D.reset()},hasUnsavedChanges:D.isDirty,children:O})}},49689:(e,t,s)=>{s.d(t,{X:()=>o});var l=s(73365),a=s(1521),r=s(99849),i=s(31643);let n={xs:{padding:"p-4",gap:"gap-2",iconContainer:"w-6 h-6",title:"text-sm",label:"text-[10px]",text:"text-xs",contentMargin:"mt-3"},sm:{padding:"p-5",gap:"gap-3",iconContainer:"w-8 h-8",title:"text-sm",label:"text-xs",text:"text-sm",contentMargin:"mt-3"},md:{padding:"p-6",gap:"gap-3",iconContainer:"w-10 h-10",title:"text-base",label:"text-xs",text:"text-sm",contentMargin:"mt-3"}},o=e=>{let{title:t,icon:s,size:o="md",color:d="gray",showHoverEffect:c=!1,displayDetails:m=!1,onClick:x,onRemove:u,headerChildren:p,children:h}=e,[v,j]=(0,a.useState)(m),b=n[o],g=c?"hover:border-".concat(d,"-400"):"",f="bg-".concat(d,"-100"),y="text-".concat(d,"-700");return(0,l.jsxs)("div",{onClick:x,className:"".concat("bg-white rounded-md border border-gray-200 shadow-sm group relative transition-all duration-200 border-l-4 border-transparent"," ").concat(b.padding," ").concat(g," ").concat(x?"cursor-pointer":""),children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between ".concat(b.gap),children:[(0,l.jsxs)("div",{className:"flex items-center ".concat(b.gap," min-w-0 flex-1"),children:[(0,l.jsx)("div",{className:"".concat(b.iconContainer," rounded-full flex items-center justify-center flex-shrink-0 ").concat(f," ").concat(y),children:s}),(0,l.jsx)("h3",{className:"".concat(b.title," font-semibold text-gray-900 leading-tight truncate min-w-0"),children:t})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,l.jsx)(r.L,{isExpanded:v,onToggle:()=>{j(e=>!e)}}),u&&(0,l.jsx)(i.J,{onClick:e=>{e.stopPropagation(),u()}})]})]}),p]}),v&&(0,l.jsx)("div",{className:"".concat(b.contentMargin," ").concat(b.text," text-gray-600"),children:h})]})}},53867:(e,t,s)=>{s.d(t,{l:()=>x});var l=s(73365),a=s(1521),r=s(90186),i=s(70577),n=s(17045),o=s(92222),d=s(72338),c=s(31079),m=s(26734);let x=e=>{let{employees:t,onSelectEmployee:s,resultsVisible:x=!0,setResultsVisibility:u}=e,{t:p}=(0,o.Bd)(),[h,v]=(0,a.useState)(!1),j=p("entities.employee.searchKeys",{returnObjects:!0});return t?0===t.length?(0,l.jsxs)("div",{className:"flex flex-col gap-4 items-center justify-center py-8 px-4 mt-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:p("common.ui.noResults")}),(0,l.jsx)("p",{className:"text-gray-400 text-xs",children:p("common.ui.tryDifferentSearch")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs text-gray-500 font-medium mb-1",children:p("common.ui.searchCriteria")}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:j.map(e=>(0,l.jsx)("span",{className:"bg-purple-100 text-purple-700 text-xs font-medium px-3 py-1 rounded-full border border-purple-200",children:e},e))})]}),(0,l.jsx)(r.A,{variant:"outlined",size:"small",startIcon:(0,l.jsx)(i.zHz,{}),sx:{borderColor:"#87b3fa",color:"#3B82F6",textTransform:"none",fontSize:"0.85rem",borderRadius:"8px",px:2.5,py:1,mt:4,backgroundColor:"#EFF6FF","&:hover":{borderColor:"#3B82F6"}},onClick:()=>v(!0),children:p("entities.employee.create")}),(0,l.jsx)(n.N,{open:h,onClose:()=>v(!1)})]}):(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:p("common.fields.results")}),(0,l.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 border border-indigo-200",children:[t.length," ",p("common.entities.employee")]})]}),(0,l.jsx)(r.A,{variant:"outlined",size:"small",startIcon:x?(0,l.jsx)(c.A,{}):(0,l.jsx)(m.A,{}),onClick:()=>null==u?void 0:u(!x),sx:{textTransform:"none",fontSize:"0.75rem",minWidth:"auto",padding:"4px 8px"},children:p(x?"common.actions.hide":"common.actions.show")})]}),x&&(0,l.jsxs)("div",{className:"max-h-96 overflow-y-auto border border-gray-300 rounded-md bg-white shadow-sm",children:[t.map(e=>(0,l.jsx)("div",{className:"cursor-pointer border-b border-gray-200 last:border-b-0",children:(0,l.jsx)(d.D,{employee:e,onSelect:()=>{null==u||u(!1),null==s||s(e)},size:"xs"})},e.id)),(0,l.jsx)("div",{className:"flex justify-center items-center py-3 bg-gray-50 border-t border-gray-200",children:(0,l.jsx)(r.A,{variant:"text",size:"small",startIcon:(0,l.jsx)(i.zHz,{}),onClick:()=>v(!0),style:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",color:"#3B82F6"},children:p("entities.employee.create")})})]}),(0,l.jsx)(n.N,{open:h,onClose:()=>v(!1)})]}):null}},55417:(e,t,s)=>{s.d(t,{A:()=>r});var l=s(73365),a=s(1521);function r(e){let{defaultMinutes:t=0,onChange:s}=e,[r,i]=(0,a.useState)(0),[n,o]=(0,a.useState)(0);return(0,a.useEffect)(()=>{i(Math.floor(t/60)),o(t%60)},[]),(0,a.useEffect)(()=>{null==s||s(60*r+n)},[r,n]),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"space-x-1",children:[(0,l.jsx)("input",{type:"number",value:String(r).padStart(2,"0"),onChange:e=>i(Math.max(0,Math.min(100,parseInt(e.target.value)||0))),className:"w-18 p-3 border border-gray-300 rounded-md text-base focus:outline-none focus:border-black/70",placeholder:"00",min:"0",max:"100"}),(0,l.jsx)("span",{className:"text-md text-gray-500",children:"h"})]}),(0,l.jsxs)("div",{className:"space-x-1",children:[(0,l.jsx)("input",{type:"number",value:String(n).padStart(2,"0"),onChange:e=>o(Math.max(0,Math.min(59,parseInt(e.target.value)||0))),className:"w-18 p-3 border border-gray-300 rounded-md text-base focus:outline-none focus:border-black/70",placeholder:"00",min:"0",max:"59"}),(0,l.jsx)("span",{className:"text-md text-gray-500",children:"m"})]})]})}},57972:(e,t,s)=>{s.d(t,{V:()=>h});var l=s(73365),a=s(1521),r=s(92222),i=s(94708),n=s(90186),o=s(12615),d=s(1824),c=s(13208),m=s(3350),x=s(17349),u=s(12525),p=s(12519);let h=e=>{let{ticketId:t,currentState:s,scale:h,displayOnly:v=!1,onStateChange:j}=e,{t:b}=(0,r.Bd)(),{setAlert:g}=(0,c.Z)(),[f,y]=a.useState(null),[N,A]=a.useState(null),[C,E]=a.useState(!1),S=m.q.useUpdateStatus({},{onSuccess:e=>{null==g||g(b("entities.ticket.stateChange.success",{state:b("entities.ticket.status.".concat(s))}),"success",1500),j&&j(e.status)},onError:e=>{console.error("Failed to update ticket state:",e.message),null==g||g(b("entities.ticket.stateChange.error"),"error",3e3)}}),k=()=>{y(null)},D=e=>{if(e===s){k();return}A(e),E(!0),k()};return(0,l.jsxs)("div",{className:"inline-block text-sm",style:{transform:"scale(".concat(h,")"),transformOrigin:"top left"},children:[(0,l.jsxs)(n.A,{variant:"contained",disableElevation:!0,onClick:e=>{v||y(e.currentTarget)},sx:{textTransform:"capitalize",paddingY:.5,paddingX:1,borderRadius:"6px",backgroundColor:u.Ez[s],cursor:v?"default":"pointer",pointerEvents:v?"none":"auto","&:hover":v?{}:{backgroundColor:u.Ez[s],filter:"brightness(0.9)"}},children:[(0,l.jsx)("span",{style:{whiteSpace:"nowrap"},children:b("entities.ticket.status.".concat(s))}),!v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{style:{height:"20px",width:"2px",borderRadius:"18px",backgroundColor:"rgba(255, 255, 255, 0.3)",marginLeft:8,marginRight:4}}),(0,l.jsx)(i.A,{})]})]}),!v&&(0,l.jsx)(o.A,{anchorEl:f,open:!!f,onClose:k,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object.values(x.OrderStatus).map(e=>(0,l.jsx)(d.A,{selected:e===s,onClick:()=>D(e),sx:{textTransform:"capitalize",fontSize:"12px",minHeight:"32px"},children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(u.kW,{status:e,size:16}),b("entities.ticket.status.".concat(e))]})},e))}),N&&(0,l.jsx)(p.T,{open:C,title:b("dialogs.statusChange.title",{item:b("common.entities.ticket")}),content:(0,l.jsxs)("div",{className:"flex flex-col items-center text-center space-y-3",children:[(0,l.jsx)("span",{className:"text-sm text-gray-700",children:(0,l.jsx)(r.x6,{i18nKey:"dialogs.statusChange.message",values:{from:b("entities.ticket.status.".concat(s)),to:b("entities.ticket.status.".concat(N))},components:{1:(0,l.jsx)("span",{className:"text-black font-semibold"}),2:(0,l.jsx)("span",{className:"text-black font-semibold"})}})}),(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,l.jsx)("span",{className:"text-sm inline-block px-2 py-0.5 rounded-md text-white border border-black/40",style:{backgroundColor:u.Ez[s]},children:b("entities.ticket.status.".concat(s))}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"â†’"}),(0,l.jsx)("span",{className:"text-sm inline-block px-2 py-0.5 rounded-md text-white border border-black/40",style:{backgroundColor:u.Ez[N]},children:b("entities.ticket.status.".concat(N))})]})]}),confirmText:b("common.actions.confirm"),cancelText:b("common.actions.cancel"),onConfirm:()=>{N&&void 0!==t&&(S.mutate({id:t,dto:{status:N}}),A(null),E(!1))},onCancel:()=>{A(null),E(!1)}})]})}},68753:(e,t,s)=>{s.d(t,{C:()=>l});let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=new Date,l=e.estimatedDeliveryDate?new Date(e.estimatedDeliveryDate):null;if(!l)return"";let a=l<s,r="COMPLETED"===e.status,i="DELIVERED"===e.status,n="CANCELLED"===e.status,o="CONTACT_CLIENT"===e.status||"WAITING_CLIENT"===e.status;return i?"green-".concat(t):n?"gray-".concat(t):r&&a?"yellow-".concat(t):o?a?"orange-".concat(t):"yellow-".concat(t):!a||r||i||o||n?"":"red-".concat(t)}},72338:(e,t,s)=>{s.d(t,{D:()=>u});var l=s(73365);s(1521);var a=s(17349),r=s(79772),i=s(51190),n=s(53626),o=s(69605),d=s(28402),c=s(92222),m=s(49689),x=s(78775);let u=e=>{let{employee:t,onSelect:s,...u}=e,{t:p}=(0,c.Bd)();return(0,l.jsxs)(m.X,{...u,title:t.fullName,icon:(0,l.jsx)("span",{className:"font-semibold text-xs",children:(0,d.IM)(t.fullName)}),headerChildren:(0,a.isExpandedEmployeeBase)(t)&&(0,l.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[t.role&&(0,l.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:[(0,l.jsx)(o.A,{style:{fontSize:"10px"},className:"mr-1"}),(0,d.wR)(t.role.name)]}),t.department&&(0,l.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:[(0,l.jsx)(r.A,{style:{fontSize:"10px"},className:"mr-1"}),(0,d.wR)(t.department.name)]})]}),color:"purple",onClick:()=>null==s?void 0:s(t),children:[t.phone&&(0,l.jsx)(x.d,{label:p("employee.phone"),value:t.phone,icon:(0,l.jsx)(i.A,{fontSize:"inherit"})}),t.email&&(0,l.jsx)(x.d,{label:p("employee.email"),value:t.email,icon:(0,l.jsx)(n.A,{fontSize:"inherit"})})]})}},78775:(e,t,s)=>{s.d(t,{d:()=>a});var l=s(73365);s(1521);let a=e=>{let{label:t,value:s,icon:a,gap:r="gap-3",iconSize:i="w-8 h-8",textSize:n="text-sm",labelSize:o="text-xs"}=e;return(0,l.jsxs)("div",{className:"flex items-center ".concat(r),children:[(0,l.jsx)("div",{className:"".concat(i," bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0"),children:a}),(0,l.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,l.jsx)("p",{className:"font-medium text-gray-700 truncate ".concat(n),children:s}),(0,l.jsx)("p",{className:"".concat(o," text-gray-500"),children:t})]})]})}}}]);