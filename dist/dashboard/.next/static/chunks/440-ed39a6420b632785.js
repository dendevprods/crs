"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[440],{1306:(e,t,n)=>{let r={person:!0},i={department:!0,role:!0},s={...r,company:{include:{representatives:{include:r}}}};({...i,tickets:{include:{employees:{include:i},client:{include:s},representative:{include:r}}}})},1475:(e,t,n)=>{n.d(t,{TO:()=>s,V3:()=>a,hf:()=>r,xV:()=>i});let r=()=>({fullName:"",phone:"",email:"",address:""}),i=()=>({...r(),personId:0}),s=e=>({fullName:e.fullName.trim(),phone:e.phone.trim()||null,email:e.email.trim()||null,address:e.address.trim()||null}),a=e=>({...s(e),personId:e.personId||null})},2123:(e,t,n)=>{n.d(t,{l:()=>i,r:()=>r});let r=()=>({serviceCode:"",name:"",description:"",price:0,duration:0,observations:""}),i=e=>({serviceCode:e.serviceCode.trim()||null,name:e.name.trim(),description:e.description.trim()||null,price:e.price,duration:e.duration||null,observations:e.observations.trim()||null})},2814:(e,t,n)=>{n.d(t,{U:()=>i,k:()=>r});let r=()=>({fullName:"",phone:"",email:"",department:null,role:null}),i=e=>{var t,n;return{fullName:e.fullName.trim(),phone:e.phone.trim()||null,email:e.email.trim()||null,departmentId:(null===(t=e.department)||void 0===t?void 0:t.id)||null,roleId:(null===(n=e.role)||void 0===n?void 0:n.id)||null}}},3350:(e,t,n)=>{n.d(t,{q:()=>i});let r=(0,n(18984).Ak)("tickets"),i={...r,getCountByStatus:()=>r.getAll({subPath:"count/by-status"}),getByClient:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.getAll({subPath:"client/".concat(e),query:t})},getByStatus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.getAll({subPath:"status/".concat(e),query:t})},updateStatus:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.update(e,t,{subPath:"status",query:n})},assignEmployees:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.update(e,t,{subPath:"assign",query:n})},useUpdateStatus:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return r.useUpdate({...e,subPath:"status"},t)}}},3408:(e,t,n)=>{n.d(t,{C:()=>a});var r=n(73365);n(1521);var i=n(92222),s=n(12519);function a(e){let{open:t,items:n,itemName:a="item",getIdentifier:o,onConfirm:l,onCancel:c}=e,{t:u}=(0,i.Bd)(),d=Array.isArray(n)?n:[n],m=d.length>1,h=!m&&o?" (".concat(o(d[0]),")"):"",p=m?u("dialogs.delete.bulkMessage",{count:d.length,item:a}):u("dialogs.delete.message",{item:a,identifier:h});return(0,r.jsx)(s.T,{open:t,title:u("dialogs.delete.title",{item:a}),content:p,confirmText:u("common.actions.delete"),cancelText:u("common.actions.cancel"),onConfirm:()=>l(n),onCancel:c,zIndex:9001})}},7341:(e,t,n)=>{n.d(t,{o:()=>i});var r=n(33465);let i=e=>{let t={};return t.ticketId=(0,r.fH)([{check:e=>e>0,message:"Ticket ID is required"}])(e.ticketId),t.title=(0,r.fH)([{check:e=>r.PT.required(e),message:"Title is required"},{check:e=>r.PT.minLength(e,2),message:"Title must be at least 2 characters"},{check:e=>r.PT.maxLength(e,200),message:"Title must be less than 200 characters"}])(e.title),t.description=(0,r.fH)([{check:e=>!e||r.PT.minLength(e,5),message:"Description must be at least 5 characters"},{check:e=>!e||r.PT.maxLength(e,1e3),message:"Description must be less than 1000 characters"}])(e.description),t.dueDate=(0,r.fH)([{check:e=>!e||r.PT.required(e),message:"Due date is required"},{check:e=>!e||r.PT.date(e),message:"Please enter a valid date"}])(e.dueDate),t.assignee=null,t.status=null,t}},9228:(e,t,n)=>{n.d(t,{i:()=>r});let r={...(0,n(18984).Ak)("departments")}},12519:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(73365);n(1521);var i=n(44068),s=n(92222);function a(e){let{open:t,title:n,content:a,confirmText:o,cancelText:l,onConfirm:c,onCancel:u,showCancelButton:d=!0,zIndex:m=51}=e,{t:h}=(0,s.Bd)();return(0,r.jsx)(i.a,{open:t,onClose:u,zIndex:m,className:"max-w-lg rounded-lg",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 p-8",children:[n&&(0,r.jsx)("h2",{className:"text-base font-semibold text-center",children:n}),(0,r.jsx)("div",{className:"text-sm text-center pb-2",children:a}),(0,r.jsxs)("div",{className:"flex justify-center gap-4",children:[d&&(0,r.jsx)("button",{onClick:u,className:"px-3 py-1.5 rounded-lg border border-gray-300 text-gray-700 text-sm hover:bg-gray-100 transition",children:l||h("dialogs.delete.cancel")}),(0,r.jsx)("button",{onClick:c,className:"px-3 py-1.5 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700 transition",children:o||h("dialogs.delete.confirm")})]})]})})}},13208:(e,t,n)=>{n.d(t,{S:()=>g,Z:()=>f});var r=n(73365),i=n(50627),s=n(1521),a=n(96610),o=n(98196),l=n(87363);let c={success:"bg-gradient-to-r from-green-50 to-green-100 border-l-4 border-green-500",error:"bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500",warning:"bg-gradient-to-r from-yellow-50 to-yellow-100 border-l-4 border-yellow-500",info:"bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500"},u={success:(0,r.jsx)(l.A7C,{className:"text-green-500 w-6 h-6"}),error:(0,r.jsx)(l._Hm,{className:"text-red-500 w-6 h-6"}),warning:(0,r.jsx)(l.BS8,{className:"text-yellow-500 w-6 h-6"}),info:(0,r.jsx)(l.__w,{className:"text-blue-500 w-6 h-6"})};function d(e){let{type:t,content:n,duration:i,dismissible:a=!0,children:l,index:d,total:m,onClose:h}=e,p=(null!=d?d:-1)>1;(0,s.useEffect)(()=>{if(i){let e=setTimeout(h,i);return()=>clearTimeout(e)}},[i,h]);let g=(0,r.jsx)("div",{className:"fixed top-6 left-1/2 transform -translate-x-1/2 z-[9999] max-w-md w-full",children:(0,r.jsxs)("div",{className:"".concat(c[t]," rounded-lg p-6 shadow-sm flex items-start relative"),children:[(0,r.jsx)("div",{className:"flex-shrink-0 cursor-pointer",onClick:a?h:void 0,role:a?"button":void 0,"aria-label":a?"Dismiss alert":void 0,children:u[t]}),(0,r.jsxs)("div",{className:"ml-4 flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg text-gray-800 flex justify-between items-center",children:n.title}),n.details&&(0,r.jsx)("p",{className:"mt-1 text-gray-700 whitespace-pre-wrap",children:n.details}),l]}),p&&m&&(0,r.jsxs)("span",{className:"text-sm text-gray-500 font-normal",children:["Alert ",d," of ",m]})]})});return o.createPortal(g,document.body)}let m=(0,s.createContext)(void 0),h=(e,t)=>{e instanceof a.f&&401===e.status&&t.replace("/login")},p=(e,t,n,i)=>{let s,{message:o,type:l,duration:c}=e,u="Notification";if("string"==typeof o)s=o;else if(o instanceof a.f){var m;u="Error ".concat(o.status),s=(null===(m=o.response)||void 0===m?void 0:m.message)||o.message,o.url&&(s+="\n[".concat(o.url,"]"))}else o instanceof Error&&(u=o.name||"Error",s=o.message);return(0,r.jsx)(d,{type:l,content:{title:u,details:s},duration:c,index:t+1,total:n,onClose:()=>i(t)},t)},g=e=>{let{children:t}=e,[n,a]=(0,s.useState)([]),o=(0,i.useRouter)(),l=e=>{a(t=>t.filter((t,n)=>n!==e))};return(0,s.useEffect)(()=>{n.forEach(e=>{let{message:t}=e;h(t,o)})},[n,o]),(0,r.jsxs)(m.Provider,{value:{alerts:n,setAlert:(e,t,n)=>{a(r=>[...r,{message:e,type:t,duration:n}])},clearAlert:l},children:[n.map((e,t)=>p(e,t,n.length,l)),t]})},f=()=>{let e=(0,s.useContext)(m);if(!e)throw Error("useAlertContext must be used within an AlertProvider");return e}},13887:(e,t,n)=>{n.d(t,{X:()=>s,l:()=>i});var r=n(73104);let i=()=>({productCode:"",name:"",description:"",category:"",quantity:0,unitPrice:0,entryDate:new Date().toISOString().split("T")[0],supplier:"",status:r.ProductStatus.AVAILABLE,weight:0,observations:"",serialNumber:""}),s=e=>({productCode:e.productCode.trim()||null,name:e.name.trim(),description:e.description.trim()||null,category:e.category.trim(),quantity:e.quantity||null,unitPrice:e.unitPrice||null,entryDate:e.entryDate.trim()?new Date(e.entryDate):new Date,supplier:e.supplier.trim()||null,status:e.status,weight:e.weight||null,observations:e.observations.trim()||null,serialNumber:e.serialNumber.trim()||null})},16003:(e,t,n)=>{n.d(t,{D:()=>i});let r=(0,n(18984).Ak)("clients"),i={...r,getByType:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.getAll({subPath:"type/".concat(e),query:t})},useGetByType:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.useGetAll({subPath:"type/".concat(e),query:t})},getCountByType:()=>r.count({subPath:"by-type"}),deleteMany:()=>{throw Error("Bulk client deletion is disabled for safety. Use individual deletion instead.")}}},17349:(e,t,n)=>{n.d(t,{LOG_ACTION:()=>i.C,convertCompanyFormToDto:()=>a.N,convertDepartmentFormToDto:()=>l.W,convertEmployeeFormToDto:()=>o.U,convertEmployeeRoleFormToDto:()=>m.m,convertPersonFormToDto:()=>s.TO,convertProductFormToDto:()=>c.X,convertServiceFormToDto:()=>u.l,convertTaskFormToDto:()=>h.p,convertTicketFormToDto:()=>d.KA,getDefaultCompanyForm:()=>a.v,getDefaultDepartmentForm:()=>l.q,getDefaultEmployeeForm:()=>o.k,getDefaultEmployeeRoleForm:()=>m.y,getDefaultPersonForm:()=>s.hf,getDefaultProductForm:()=>c.l,getDefaultRepresentativeForm:()=>s.xV,getDefaultServiceForm:()=>u.r,getDefaultTaskForm:()=>h.z,getDefaultTicketForm:()=>d.Sx,getLogMessageKeys:()=>C.e,isExpandedClient:()=>E.D,isExpandedCompany:()=>k.t,isExpandedEmployeeBase:()=>P.$,isExpandedEmployeeWithTickets:()=>P.p,isExpandedRepresentative:()=>T.R,isExpandedTicket:()=>D.u,isFormValid:()=>A.HK,validateCompanyForm:()=>g.q,validateDepartmentForm:()=>v.L,validateEmployeeForm:()=>f.f,validateEmployeeRoleForm:()=>b.B,validatePersonForm:()=>p.m_,validateProductForm:()=>x.a,validateServiceForm:()=>y.K,validateTaskForm:()=>N.o,validateTicketForm:()=>w.v});var r=n(73104);n.o(r,"ClientType")&&n.d(t,{ClientType:function(){return r.ClientType}}),n.o(r,"LOG_ACTION")&&n.d(t,{LOG_ACTION:function(){return r.LOG_ACTION}}),n.o(r,"OrderPriority")&&n.d(t,{OrderPriority:function(){return r.OrderPriority}}),n.o(r,"OrderStatus")&&n.d(t,{OrderStatus:function(){return r.OrderStatus}}),n.o(r,"TaskStatus")&&n.d(t,{TaskStatus:function(){return r.TaskStatus}}),n.o(r,"convertCompanyFormToDto")&&n.d(t,{convertCompanyFormToDto:function(){return r.convertCompanyFormToDto}}),n.o(r,"convertDepartmentFormToDto")&&n.d(t,{convertDepartmentFormToDto:function(){return r.convertDepartmentFormToDto}}),n.o(r,"convertEmployeeFormToDto")&&n.d(t,{convertEmployeeFormToDto:function(){return r.convertEmployeeFormToDto}}),n.o(r,"convertEmployeeRoleFormToDto")&&n.d(t,{convertEmployeeRoleFormToDto:function(){return r.convertEmployeeRoleFormToDto}}),n.o(r,"convertPersonFormToDto")&&n.d(t,{convertPersonFormToDto:function(){return r.convertPersonFormToDto}}),n.o(r,"convertProductFormToDto")&&n.d(t,{convertProductFormToDto:function(){return r.convertProductFormToDto}}),n.o(r,"convertServiceFormToDto")&&n.d(t,{convertServiceFormToDto:function(){return r.convertServiceFormToDto}}),n.o(r,"convertTaskFormToDto")&&n.d(t,{convertTaskFormToDto:function(){return r.convertTaskFormToDto}}),n.o(r,"convertTicketFormToDto")&&n.d(t,{convertTicketFormToDto:function(){return r.convertTicketFormToDto}}),n.o(r,"getDefaultCompanyForm")&&n.d(t,{getDefaultCompanyForm:function(){return r.getDefaultCompanyForm}}),n.o(r,"getDefaultDepartmentForm")&&n.d(t,{getDefaultDepartmentForm:function(){return r.getDefaultDepartmentForm}}),n.o(r,"getDefaultEmployeeForm")&&n.d(t,{getDefaultEmployeeForm:function(){return r.getDefaultEmployeeForm}}),n.o(r,"getDefaultEmployeeRoleForm")&&n.d(t,{getDefaultEmployeeRoleForm:function(){return r.getDefaultEmployeeRoleForm}}),n.o(r,"getDefaultPersonForm")&&n.d(t,{getDefaultPersonForm:function(){return r.getDefaultPersonForm}}),n.o(r,"getDefaultProductForm")&&n.d(t,{getDefaultProductForm:function(){return r.getDefaultProductForm}}),n.o(r,"getDefaultRepresentativeForm")&&n.d(t,{getDefaultRepresentativeForm:function(){return r.getDefaultRepresentativeForm}}),n.o(r,"getDefaultServiceForm")&&n.d(t,{getDefaultServiceForm:function(){return r.getDefaultServiceForm}}),n.o(r,"getDefaultTaskForm")&&n.d(t,{getDefaultTaskForm:function(){return r.getDefaultTaskForm}}),n.o(r,"getDefaultTicketForm")&&n.d(t,{getDefaultTicketForm:function(){return r.getDefaultTicketForm}}),n.o(r,"getLogMessageKeys")&&n.d(t,{getLogMessageKeys:function(){return r.getLogMessageKeys}}),n.o(r,"isExpandedClient")&&n.d(t,{isExpandedClient:function(){return r.isExpandedClient}}),n.o(r,"isExpandedCompany")&&n.d(t,{isExpandedCompany:function(){return r.isExpandedCompany}}),n.o(r,"isExpandedEmployeeBase")&&n.d(t,{isExpandedEmployeeBase:function(){return r.isExpandedEmployeeBase}}),n.o(r,"isExpandedEmployeeWithTickets")&&n.d(t,{isExpandedEmployeeWithTickets:function(){return r.isExpandedEmployeeWithTickets}}),n.o(r,"isExpandedRepresentative")&&n.d(t,{isExpandedRepresentative:function(){return r.isExpandedRepresentative}}),n.o(r,"isExpandedTicket")&&n.d(t,{isExpandedTicket:function(){return r.isExpandedTicket}}),n.o(r,"isFormValid")&&n.d(t,{isFormValid:function(){return r.isFormValid}}),n.o(r,"validateCompanyForm")&&n.d(t,{validateCompanyForm:function(){return r.validateCompanyForm}}),n.o(r,"validateDepartmentForm")&&n.d(t,{validateDepartmentForm:function(){return r.validateDepartmentForm}}),n.o(r,"validateEmployeeForm")&&n.d(t,{validateEmployeeForm:function(){return r.validateEmployeeForm}}),n.o(r,"validateEmployeeRoleForm")&&n.d(t,{validateEmployeeRoleForm:function(){return r.validateEmployeeRoleForm}}),n.o(r,"validatePersonForm")&&n.d(t,{validatePersonForm:function(){return r.validatePersonForm}}),n.o(r,"validateProductForm")&&n.d(t,{validateProductForm:function(){return r.validateProductForm}}),n.o(r,"validateServiceForm")&&n.d(t,{validateServiceForm:function(){return r.validateServiceForm}}),n.o(r,"validateTaskForm")&&n.d(t,{validateTaskForm:function(){return r.validateTaskForm}}),n.o(r,"validateTicketForm")&&n.d(t,{validateTicketForm:function(){return r.validateTicketForm}});var i=n(32281);n(1306);var s=n(1475),a=n(36399),o=n(2814),l=n(89820),c=n(13887),u=n(2123),d=n(81302),m=n(95823),h=n(32087),p=n(37977),g=n(84085);n(94495);var f=n(51350),v=n(35484),b=n(97181),x=n(28541),y=n(81981),w=n(94778);n(77492);var N=n(7341),P=n(25313),E=n(60674),k=n(93130),T=n(65996),D=n(38105),A=n(33465),C=n(46230)},18984:(e,t,n)=>{n.d(t,{Ak:()=>p});var r=n(98660),i=n(95190);let s=r.A.create({baseURL:"/api",timeout:5e3,withCredentials:!0,paramsSerializer:{indexes:null,serialize:e=>{let t=new URLSearchParams;for(let[n,r]of Object.entries(e))null!=r&&("object"!=typeof r||r instanceof Date?t.append(n,r.toString()):t.append(n,JSON.stringify(r)));return t.toString()}},headers:{"Content-Type":"application/json"}}),a=e=>{if(!e.data.success)throw new i.pe(e.data.message);return e.data.data};var o=n(32412),l=n(73773);let c=(e,t,n)=>(0,o.I)({queryKey:e,queryFn:t,...n}),u=(e,t)=>(0,l.n)({mutationFn:e,...t}),d=e=>({getAll:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.get("".concat(e).concat(t.subPath?"/".concat(t.subPath):""),{params:t.query,headers:t.headers}).then(a)},count:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.get("".concat(e).concat(t.subPath?"/".concat(t.subPath):"","/count"),{params:t.query,headers:t.headers}).then(a)},getById:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.get("".concat(e,"/").concat(t).concat(n.subPath?"/".concat(n.subPath):""),{params:n.query,headers:n.headers}).then(a)},create:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.post("".concat(e).concat(n.subPath?"/".concat(n.subPath):""),t,{params:n.query,headers:n.headers}).then(a)},update:function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.put("".concat(e,"/").concat(t).concat(r.subPath?"/".concat(r.subPath):""),n,{params:r.query,headers:r.headers}).then(a)},delete:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.delete("".concat(e,"/").concat(t).concat(n.subPath?"/".concat(n.subPath):""),{headers:n.headers}).then(()=>{})},deleteMany:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.post("".concat(e).concat(n.subPath?"/".concat(n.subPath):"","/bulk-delete"),{ids:t},{headers:n.headers}).then(()=>{})}}),m=e=>{let t=d(e);return{...t,useGetAll:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return c([e,"getAll",n],()=>t.getAll(n),r)},useCount:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return c([e,"count",n],()=>t.count(n),r)},useGetById:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return c([e,"getById",n,r],()=>n?t.getById(n,r):Promise.reject("Missing ID"),i)}}},h=e=>{let t=d(e);return{useCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return u(n=>t.create(n,e),n)},useUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return u(n=>{let{id:r,dto:i}=n;return t.update(r,i,e)},n)},useDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return u(n=>t.delete(n,e),n)},useDeleteMany:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return u(n=>t.deleteMany(n,e),n)}}},p=e=>{let t=d(e),n=m(e),r=h(e);return{...t,...n,...r}}},25313:(e,t,n)=>{function r(e){return!!(e&&"role"in e&&"department"in e)}function i(e){return!!(e&&"tickets"in e&&Array.isArray(e.tickets))}n.d(t,{$:()=>r,p:()=>i})},28402:(e,t,n)=>{n.d(t,{Cb:()=>a,IM:()=>r,Oc:()=>s,wR:()=>i});let r=e=>{var t;return null!==(t=e.split(" ").map(e=>e[0]).join("").toUpperCase())&&void 0!==t?t:"?"},i=e=>e.toLowerCase().replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),s=e=>{let t=new Date(e||"");if(isNaN(t.getTime()))return"";let n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(r,"-").concat(i)};function a(e){return e.split(/[\s_]+/).map((e,t)=>{let n=e.toLowerCase();return 0===t?n:n.charAt(0).toUpperCase()+n.slice(1)}).join("")}},28541:(e,t,n)=>{n.d(t,{a:()=>i});var r=n(33465);let i=e=>{let t={};return t.name=(0,r.fH)([{check:e=>r.PT.required(e),message:"Product name is required"},{check:e=>r.PT.minLength(e,2),message:"Product name must be at least 2 characters"},{check:e=>r.PT.maxLength(e,100),message:"Product name must be less than 100 characters"}])(e.name),t.productCode=(0,r.fH)([{check:e=>!e||r.PT.required(e),message:"Product code is required"},{check:e=>!e||r.PT.minLength(e,2),message:"Product code must be at least 2 characters"},{check:e=>!e||r.PT.maxLength(e,50),message:"Product code must be less than 50 characters"}])(e.productCode),t.description=(0,r.fH)([{check:e=>!e||r.PT.minLength(e,5),message:"Description must be at least 5 characters"},{check:e=>!e||r.PT.maxLength(e,500),message:"Description must be less than 500 characters"}])(e.description),t.category=(0,r.fH)([{check:e=>r.PT.required(e),message:"Category is required"},{check:e=>r.PT.minLength(e,2),message:"Category must be at least 2 characters"},{check:e=>r.PT.maxLength(e,50),message:"Category must be less than 50 characters"}])(e.category),t.quantity=(0,r.fH)([{check:e=>e>=0,message:"Quantity cannot be negative"}])(e.quantity),t.unitPrice=(0,r.fH)([{check:e=>e>=0,message:"Unit price cannot be negative"},{check:e=>r.PT.decimal(e),message:"Please enter a valid price"}])(e.unitPrice),t.entryDate=(0,r.fH)([{check:e=>r.PT.required(e),message:"Entry date is required"},{check:e=>r.PT.date(e),message:"Please enter a valid date"}])(e.entryDate),t.supplier=(0,r.fH)([{check:e=>!e||r.PT.minLength(e,2),message:"Supplier name must be at least 2 characters"},{check:e=>!e||r.PT.maxLength(e,100),message:"Supplier name must be less than 100 characters"}])(e.supplier),t.weight=(0,r.fH)([{check:e=>e>=0,message:"Weight cannot be negative"},{check:e=>r.PT.decimal(e),message:"Please enter a valid weight"}])(e.weight),t.observations=(0,r.fH)([{check:e=>!e||r.PT.maxLength(e,1e3),message:"Observations must be less than 1000 characters"}])(e.observations),t.serialNumber=(0,r.fH)([{check:e=>!e||r.PT.minLength(e,2),message:"Serial number must be at least 2 characters"},{check:e=>!e||r.PT.maxLength(e,50),message:"Serial number must be less than 50 characters"}])(e.serialNumber),t.status=null,t}},31094:(e,t,n)=>{n.d(t,{y:()=>i});let r=(0,n(18984).Ak)("employees"),i={...r,getAllWithTickets:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.getAll({subPath:"with-tickets",query:e})},getByIdWithTickets:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.getById(e,{subPath:"with-tickets",query:t})},useGetAllWithTickets:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.useGetAll({subPath:"with-tickets",query:e})}}},31145:(e,t,n)=>{n.d(t,{k:()=>s});var r=n(73365);n(1521);var i=n(92222);let s=e=>{let{message:t,size:n=48}=e,{t:s}=(0,i.Bd)();return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center py-16",children:[(0,r.jsx)("div",{className:"relative",style:{width:n,height:n},children:(0,r.jsx)("div",{className:"w-full h-full border-4 border-blue-200 rounded-full animate-spin border-t-blue-600"})}),(0,r.jsx)("div",{className:"mt-4 text-gray-600 font-medium",children:null!=t?t:s("common.loading")})]})}},32087:(e,t,n)=>{n.d(t,{p:()=>s,z:()=>i});var r=n(73104);let i=()=>({ticketId:0,title:"",description:"",status:r.TaskStatus.TODO,dueDate:null,assignee:null}),s=e=>({ticketId:e.ticketId,title:e.title,description:e.description||null,status:e.status,dueDate:e.dueDate,assigneeId:e.assignee?e.assignee.id:null})},32281:(e,t,n)=>{n.d(t,{C:()=>r});var r=function(e){return e.CREATE="CREATE",e.UPDATE="UPDATE",e.DELETE="DELETE",e.UPDATE_STATE="UPDATE_STATE",e.ASSIGN="ASSIGN",e.UNASSIGN="UNASSIGN",e.ADD="ADD",e.EDIT="EDIT",e.CHANGE_STATUS="CHANGE_STATUS",e.MARK_DONE="MARK_DONE",e}({})},33465:(e,t,n)=>{n.d(t,{HK:()=>o,PT:()=>s,fH:()=>a});var r=n(65228),i=n.n(r);let s={required:e=>!i().isEmpty((null==e?void 0:e.trim())||""),minLength:(e,t)=>i().isLength((null==e?void 0:e.trim())||"",{min:t}),maxLength:(e,t)=>i().isLength((null==e?void 0:e.trim())||"",{max:t}),exactLength:(e,t)=>i().isLength((null==e?void 0:e.trim())||"",{min:t,max:t}),email:e=>i().isEmail((null==e?void 0:e.trim())||""),phone:e=>i().isMobilePhone((null==e?void 0:e.trim())||"","any"),url:e=>i().isURL((null==e?void 0:e.trim())||""),taxId:e=>/^[A-Z0-9]{8,15}$/i.test((null==e?void 0:e.trim())||""),date:e=>!e||!isNaN(new Date(e).getTime()),decimal:e=>null!=e&&i().isDecimal(String(e).trim())},a=e=>t=>{for(let n of e)if(!n.check(t))return"string"==typeof n.message?n.message:n.message(t);return null},o=e=>{let t=e=>null===e||(Array.isArray(e)?e.every(t):"object"==typeof e&&null!==e&&Object.values(e).every(t));return Object.values(e).every(t)}},34688:(e,t,n)=>{n.d(t,{p:()=>s});var r=n(73365),i=n(92222);let s=e=>{let{message:t,className:n}=e,{t:s}=(0,i.Bd)();return(0,r.jsx)("div",{className:"bg-gray-50 text-center text-gray-500 py-8 rounded-b-lg border border-gray-300 ".concat(null!=n?n:""),children:null!=t?t:s("emptyState.noData")})}},35227:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(1521),i=n(13208),s=n(73773),a=n(28402),o=n(62929),l=n.n(o),c=n(59785),u=n.n(c),d=n(17349);function m(e,t){return t?e?u()({},t,e,(e,t)=>null==t?e:Array.isArray(t)?t:void 0):{...t}:{}}function h(e){let{itemName:t,initialValues:n,defaultValues:o,itemId:c,onClose:u,onSuccess:h,createRecord:p,updateRecord:g,crudOptions:f={},getCreateDto:v,getUpdateDto:b,validator:x,mergeWithDefaults:y=m}=e,{setAlert:w}=(0,i.Z)(),N=(0,r.useMemo)(()=>y(n,o),[n,o,y]),P=(0,r.useRef)(N),[E,k]=(0,r.useState)(N),[T,D]=(0,r.useState)({}),A=(0,r.useCallback)((e,t)=>{k(n=>({...n,[e]:t})),D(t=>({...t,[e]:!0}))},[]),C=(0,r.useMemo)(()=>!l()(E,P.current),[E]),S=(0,r.useMemo)(()=>{if(!x)return{isValid:!0,errors:{}};let e=x(E);console.log("errors",e);let t=(0,d.isFormValid)(e);console.log("isValid",t);let n=t?{}:Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return T[t]}));return{isValid:t,errors:n}},[E,x,T]),j=(0,r.useMemo)(()=>!x||(console.log("canSubmit( isValid, isDirty ): ",S.isValid,C),S.isValid&&C),[S,C]),F=(0,s.n)({mutationFn:e=>p(e,f),onSuccess:()=>{w("".concat((0,a.wR)(t)," creat cu succes!"),"success",1500),R(),null==u||u(),null==h||h()},onError:e=>console.error("Crearea ".concat(t,"-ului a eșuat:"),e)}),I=(0,s.n)({mutationFn:e=>{let{id:t,data:n}=e;return g(t,n,f)},onSuccess:()=>{w("".concat((0,a.wR)(t)," actualizat cu succes!"),"success",1500),null==u||u(),null==h||h()},onError:e=>console.error("Actualizarea ".concat(t,"-ului a eșuat:"),e)}),R=(0,r.useCallback)(()=>{k(N),D({})},[N]);return{values:E,setValues:A,reset:R,submit:()=>{if(!j)return;let e={};Object.keys(E).forEach(t=>{e[t]=!0}),D(e);let t=v?v(E):E,n=b?b(E):E;void 0!==c?I.mutate({id:c,data:n}):F.mutate(t)},canSubmit:j,isDirty:C,isLoading:F.isPending||I.isPending,error:F.error||I.error,validationErrors:S.errors}}},35484:(e,t,n)=>{n.d(t,{L:()=>i});var r=n(33465);let i=e=>{let t={};return t.name=(0,r.fH)([{check:e=>r.PT.required(e),message:"Department name is required"},{check:e=>r.PT.minLength(e,2),message:"Department name must be at least 2 characters"},{check:e=>r.PT.maxLength(e,50),message:"Department name must be less than 50 characters"}])(e.name),t.description=(0,r.fH)([{check:e=>!e||r.PT.minLength(e,5),message:"Description must be at least 5 characters"},{check:e=>!e||r.PT.maxLength(e,500),message:"Description must be less than 500 characters"}])(e.description),t.employees=null,t}},35935:(e,t,n)=>{n.d(t,{W:()=>F});var r=n(73365),i=n(1521),s=n(89467);let a=e=>{let{label:t,checked:n,onChange:i,disabled:s=!1,color:a="blue",size:o="md"}=e;return(0,r.jsxs)("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[(0,r.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,r.jsx)("input",{type:"checkbox",checked:n,onChange:e=>i(e.target.checked),disabled:s,className:"sr-only"}),(0,r.jsx)("div",{className:"\n            ".concat({sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[o]," \n            ").concat(s?"border-gray-300 bg-gray-100":n?"border-".concat(a,"-600/50 bg-").concat(a,"-500 hover:bg-").concat(a,"-600"):"border-gray-300 bg-white hover:border-".concat(a,"-400"),"\n            ").concat(s?"cursor-not-allowed":"cursor-pointer","\n            border-2 rounded-sm flex items-center justify-center\n            transition-all duration-150 ease-in-out\n          "),children:n&&(0,r.jsx)("svg",{className:"".concat({sm:"w-3 h-3",md:"w-3.5 h-3.5",lg:"w-4 h-4"}[o]," text-white"),fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]}),t&&(0,r.jsx)("span",{className:"".concat(s?"text-gray-400":"text-gray-700"," select-none"),children:t})]})};function o(e){let{actions:t,row:n,className:a,maxVisible:o=2}=e,[l,c]=(0,i.useState)(!1),u=t.length>o?t.slice(0,o):t,d=t.length>o?t.slice(o):[],m=e=>e.stopPropagation();return(0,r.jsx)("td",{className:a,onClick:m,onDoubleClick:m,children:(0,r.jsxs)("div",{className:"flex gap-2 relative",children:[u.map((e,t)=>{let i=e.onRowAction;return i?(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),i(n)},className:"flex items-center px-2 py-1 bg-white rounded border border-gray-300 hover:bg-gray-200 focus:outline-none text-graphite/90 hover:text-black",title:e.label,children:[e.icon,e.label&&(0,r.jsx)("span",{className:"font-normal text-xs ml-2",children:e.label})]},t):null}),d.length>0&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),c(!l)},className:"flex items-center justify-center w-8 h-8 p-1 bg-white rounded border border-gray-300 hover:bg-gray-200 focus:outline-none text-graphite/90 hover:text-black",title:"More actions",children:(0,r.jsx)(s.ZZB,{size:16})}),l&&(0,r.jsx)("div",{className:"absolute right-0 mt-1 w-max bg-white border border-gray-300 rounded-md shadow-lg z-10",children:d.map((e,t)=>{let i=e.onRowAction;return i?(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),i(n),c(!1)},className:"flex items-center gap-2 px-3 py-2 w-full text-left rounded-md hover:bg-gray-100 focus:outline-none",children:[e.icon,(0,r.jsx)("span",{className:"font-normal text-xs",children:e.label})]},t):null})})]})]})})}var l=n(59296),c=n(75796),u=n(1824),d=n(61831),m=n(34688),h=n(92222),p=n(49656);function g(e){let{currentPage:t,totalPages:n,pageSize:a,pageSizeOptions:o,startRecord:l,endRecord:d,totalRecords:m,onPageChange:g,onPageSizeChange:f,getPageNumbers:v}=e,{t:b}=(0,h.Bd)(),[x,y]=(0,i.useState)(t.toString());i.useEffect(()=>{y(t.toString())},[t]);let w=e=>{e.preventDefault();let r=parseInt(x);!isNaN(r)&&r>=1&&r<=n?g(r):y(t.toString())};return(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 md:gap-0 items-center justify-between px-4 py-3 border-t border-gray-300 bg-white",children:[(0,r.jsx)("div",{className:"text-xs text-gray-600",children:(0,r.jsx)(h.x6,{i18nKey:"pagination.display",values:{start:l,end:d,total:m},components:{1:(0,r.jsx)("span",{className:"font-medium"})}})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>g(1),disabled:1===t,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",title:b("pagination.firstPage"),children:(0,r.jsx)(s.pM3,{size:18})}),(0,r.jsx)("button",{onClick:()=>g(t-1),disabled:1===t,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",title:b("pagination.previousPage"),children:(0,r.jsx)(s.irw,{size:18})}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:v().map((e,n)=>(0,r.jsx)(i.Fragment,{children:"..."===e?(0,r.jsx)("span",{className:"px-3 py-1 text-gray-400",children:"..."}):(0,r.jsx)("button",{onClick:()=>g(e),className:"px-3 py-1 rounded-lg transition-colors ".concat(t===e?"bg-zinc-500 text-white font-medium":"hover:bg-gray-100 text-gray-700"),children:e})},n))}),(0,r.jsx)("button",{onClick:()=>g(t+1),disabled:t===n,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",title:b("pagination.nextPage"),children:(0,r.jsx)(s.fOo,{size:18})}),(0,r.jsx)("button",{onClick:()=>g(n),disabled:t===n,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",title:b("pagination.lastPage"),children:(0,r.jsx)(s.wi,{size:18})})]}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-2",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center justify-between",children:[(0,r.jsxs)("label",{htmlFor:"pageSize",className:"text-xs text-gray-600",children:[b("pagination.itemsPerPage"),":"]}),(0,r.jsx)(c.A,{labelId:"page-size-label",id:"pageSize",value:a,label:b("pagination.itemsPerPage"),onChange:e=>f(Number(e.target.value)),size:"small",sx:{fontSize:"0.8rem","& .MuiSelect-select":{fontSize:"0.8rem"}},children:o.map(e=>(0,r.jsx)(u.A,{value:e,children:e},e))})]}),(0,r.jsxs)("div",{className:"flex gap-2 items-center justify-between",children:[(0,r.jsx)("span",{className:"text-xs text-gray-600 whitespace-nowrap",children:b("pagination.goToPage")||"Go to:"}),(0,r.jsx)(p.A,{value:x,onChange:e=>{y(e.target.value)},onBlur:()=>{let e=parseInt(x);!isNaN(e)&&e>=1&&e<=n?g(e):y(t.toString())},onKeyPress:e=>{"Enter"===e.key&&w(e)},size:"small",sx:{width:60,"& .MuiInputBase-root":{height:"32px",fontSize:"0.8rem"},"& .MuiInputBase-input":{padding:"6px 8px",textAlign:"center"}},inputProps:{min:1,max:n,type:"number",style:{textAlign:"center"}}})]})]})]})}var f=n(17545),v=n(31691),b=n(71062),x=n(17054);let y=function(e){let{search:t,placeholder:n,fullWidth:i=!0,onSearchTrigger:s,showLoadingIndicator:a=!0,className:o=""}=e,{t:l}=(0,h.Bd)(),c=()=>{t.searchNow(t.query),null==s||s()};return(0,r.jsx)("div",{className:"search-controls ".concat(o),children:(0,r.jsx)(p.A,{fullWidth:i,placeholder:n||l("common.actions.search"),value:t.query,onChange:e=>t.setQuery(e.target.value),onKeyPress:e=>{"Enter"===e.key&&c()},InputProps:{startAdornment:(0,r.jsx)(f.A,{position:"start",children:(0,r.jsx)(v.A,{"aria-label":l("common.actions.search"),onClick:c,edge:"start",size:"small",disabled:t.loading,children:(0,r.jsx)(x.A,{})})}),endAdornment:a&&t.loading?(0,r.jsx)(f.A,{position:"end",children:(0,r.jsx)(b.A,{size:20})}):null},sx:{"& .MuiInputBase-root":{border:"none",backgroundColor:"white",borderRadius:1},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid #e0e0e0"},"& .MuiInputBase-root:hover .MuiOutlinedInput-notchedOutline":{border:"1px solid #bdbdbd"},"& .MuiInputBase-root.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"2px solid #1976d2"}}})})},w=e=>{switch(e){case"left":return"text-left";case"right":return"text-right";default:return"text-center"}},N=e=>{if(!e)return"";let t=[];return void 0!==e.all&&t.push("p-".concat(e.all)),void 0!==e.x&&t.push("px-".concat(e.x)),void 0!==e.y&&t.push("py-".concat(e.y)),void 0!==e.top&&t.push("pt-".concat(e.top)),void 0!==e.right&&t.push("pr-".concat(e.right)),void 0!==e.bottom&&t.push("pb-".concat(e.bottom)),void 0!==e.left&&t.push("pl-".concat(e.left)),t.join(" ")};var P=n(51491);let E=(e,t)=>t.split(".").reduce((e,t)=>e&&void 0!==e[t]?e[t]:null,e),k=(e,t)=>null!=e&&("object"==typeof e?Object.values(e).some(e=>e&&"object"==typeof e&&!Array.isArray(e)?k(e,t):String(e).toLowerCase().includes(t)):String(e).toLowerCase().includes(t)),T=(e,t,n)=>{let r=E(e,t);return null!=r&&String(r).toLowerCase().includes(n)},D=e=>e[0]?Object.keys(e[0]):[],A=(e,t)=>{var n;let[r,s]=(0,i.useState)("all"),[a,o]=(0,i.useState)(),l=(0,i.useCallback)(async t=>{if(!t.trim())return e;let n=t.toLowerCase().trim();return e.filter(e=>"all"===r?k(e,n):T(e,r,n))},[e,r]),c=(0,P.A)(l,(null==t?void 0:t.debounceMs)||300);return(0,i.useEffect)(()=>{o(void 0),c.query&&c.searchNow(c.query)},[e]),(0,i.useEffect)(()=>{c.searchNow(c.query)},[r]),(0,i.useEffect)(()=>{void 0!==c.results&&o(c.results)},[c.results]),(0,i.useEffect)(()=>{c.query||void 0!==c.results||o(void 0)},[c.query,c.results]),{displayData:void 0!==a?a:e,searchResults:a,selectedSearchColumn:r,setSelectedSearchColumn:s,tableSearch:c,isSearching:void 0!==c.results,searchFields:null!==(n=null==t?void 0:t.searchFields)&&void 0!==n?n:D(e)}},C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(e);return(0,i.useEffect)(()=>{if(!t)return;let r=n.filter(e=>{var n;return e.direction&&(null===(n=t[e.columnIndex])||void 0===n?void 0:n.sortFn)}).map(e=>({sortFn:t[e.columnIndex].sortFn,direction:e.direction}));if(0===r.length){a([...e]);return}let i=[...e];for(let{sortFn:e,direction:t}of r)e&&t&&(i=i.sort((n,r)=>{let i=e(n,r);return"asc"===t?i:-i}));a(i)},[e,n,t]),{sortedData:s,sortStack:n,getSortDirection:e=>{var t;let r=n.find(t=>t.columnIndex===e);return null!==(t=null==r?void 0:r.direction)&&void 0!==t?t:null},toggleSortDirection:e=>{r(t=>{let n=t.findIndex(t=>t.columnIndex===e),r=[...t];if(-1!==n){let t,i=r[n].direction;null===(t="asc"===i?"desc":"desc"===i?null:"asc")?r.splice(n,1):(r.splice(n,1),r.push({columnIndex:e,direction:t}))}else r.push({columnIndex:e,direction:"asc"});return r})}}},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=(0,i.useState)(new Set),r=(0,i.useCallback)(e=>{n(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),s=(0,i.useCallback)(()=>{t.size===e.length?n(new Set):n(new Set(e.map(e=>e.id)))},[e,t.size]),a=(0,i.useCallback)(()=>{n(new Set)},[]),o=e.filter(e=>t.has(e.id));return{checkedRows:t,selectedItems:o,toggleCheckbox:r,toggleAll:s,clearSelection:a,selectionCount:t.size,isAllSelected:t.size===e.length&&e.length>0,hasSelection:t.size>0}},j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,i.useMemo)(()=>e.filter(e=>!!e.onRowAction),[e]),n=(0,i.useMemo)(()=>e.filter(e=>!!e.onBulkAction),[e]),r=e.length>0,s=n.length>0,a=t.length>0;return{rowActions:t,bulkActions:n,hasRowActions:r,hasBulkActions:s,hasRowLevelActions:a,getActionsForSelection:e=>1===e?t:n}};function F(e){var t,n,p;let{data:f=[],actions:v=[],headerColumns:b=[],dataColumns:x=[],classNames:P={},padding:E={},pagination:k={enabled:!0},search:T={enabled:!0},ignoreColumns:D,emptyMessage:F,onRowClick:I,onRowDoubleClick:R,children:L}=e,{t:q}=(0,h.Bd)(),O=A(f,T),M=C(O.displayData,b),B=S(f),z=j(v),H=function(e){let{data:t,initialPageSize:n=10,pageSizeOptions:r=[5,10,15,20,25,30,35,40,45,50],enabled:s=!0}=e,[a,o]=(0,i.useState)(1),[l,c]=(0,i.useState)(n),u=(0,i.useMemo)(()=>s?Math.ceil(t.length/l):1,[t.length,l,s]),d=(0,i.useMemo)(()=>{if(!s)return t;let e=(a-1)*l,n=e+l;return t.slice(e,n)},[t,a,l,s]),m=s?(a-1)*l+1:1,h=s?Math.min(a*l,t.length):t.length;return{currentPage:a,pageSize:l,totalPages:u,paginatedData:d,goToPage:e=>{s&&o(Math.max(1,Math.min(e,u)))},handlePageSizeChange:e=>{s&&(c(e),o(1))},getPageNumbers:()=>{if(!s)return[1];let e=[];if(u<=7)for(let t=1;t<=u;t++)e.push(t);else{e.push(1),a>3&&e.push("...");let t=Math.max(2,a-1),n=Math.min(u-1,a+1);for(let r=t;r<=n;r++)e.push(r);a<u-2&&e.push("..."),e.push(u)}return e},startRecord:m,endRecord:h,pageSizeOptions:r,hasData:t.length>0,totalRecords:t.length,enabled:s}}({data:M.sortedData,initialPageSize:null==k?void 0:k.initialPageSize,pageSizeOptions:null==k?void 0:k.pageSizeOptions,enabled:null==k?void 0:k.enabled});(0,i.useEffect)(()=>{O.tableSearch.query&&(null==k?void 0:k.enabled)&&H.goToPage(1)},[O.tableSearch.query,O.selectedSearchColumn]),(0,i.useEffect)(()=>{B.clearSelection(),(null==k?void 0:k.enabled)&&H.goToPage(1)},[f]);let _=(0,i.useMemo)(()=>H.enabled?H.paginatedData:M.sortedData,[H.enabled,H.paginatedData,M.sortedData]),U={table:"table-auto border-collapse border-spacing-0",header:"bg-gray-100 border-b-2 border-gray-300 font-normal text-sm text-black/80",headerCell:"border-r border-gray-200 whitespace-nowrap",row:"cursor-pointer",dataCell:"bg-white border-b border-gray-300",container:"overflow-x-auto",...P},V={headerCell:{x:4,y:1.5},dataCell:{x:0,y:0},...E},G=(e,t,n)=>{let r=[];return e&&(Array.isArray(e)?r.push(...e):r.push(e)),[...r,N(t),w(n)].filter(Boolean).join(" ")},Z=e=>{var t;return(0,r.jsx)("th",{className:G(null!==(t=U.dataCell)&&void 0!==t?t:"",V.dataCell),children:(0,r.jsx)(a,{checked:B.checkedRows.has(e.id),onChange:()=>B.toggleCheckbox(e.id),size:"sm"})})},W=(e,t)=>{var n,s;let a=t===_.length-1,l=B.checkedRows.has(e.id),c=(0,r.jsxs)("tr",{onClick:()=>null==I?void 0:I(e),onDoubleClick:()=>null==R?void 0:R(e),className:"".concat(l?"bg-blue-50 hover:bg-blue-50":"hover:bg-gray-100"," ").concat(null!==(n=null==U?void 0:U.row)&&void 0!==n?n:""),children:[z.hasRowActions&&Z(e),x.map((t,n)=>{var i,s,o;if(null==D?void 0:D.includes(n))return null;let l="accessor"in t?String(e[t.accessor]):t.render(e),c="align"in t&&t.align?t.align:null===(i=b[n])||void 0===i?void 0:i.align;return(0,r.jsx)("td",{className:G([null!==(s=U.dataCell)&&void 0!==s?s:"",null!==(o=t.className)&&void 0!==o?o:""],V.dataCell,c).replace(a?/border-b[^ ]*/g:"",""),children:l},n)}),z.hasRowActions&&(0,r.jsx)(o,{actions:v,row:e,className:G(null!==(s=U.dataCell)&&void 0!==s?s:"",V.dataCell)})]},e.id),u=x.map((t,n)=>{if("accessor"in t||!t.expandedContent)return null;let{render:i,onClose:s}=t.expandedContent,a=i(e);if(!a)return null;let o=b.length+2*!!z.hasRowActions;return(0,r.jsx)("tr",{className:"bg-gray-50 border-b border-gray-300",children:(0,r.jsx)("td",{colSpan:o,className:"p-0",children:(0,r.jsxs)("div",{className:"flex flex-col items-start gap-2 p-4",children:[(0,r.jsxs)("button",{onClick:()=>s(e),className:"group flex items-center gap-1.5 px-2 py-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-all duration-200",title:"\xcenchide",children:[(0,r.jsx)("span",{className:"text-xs font-medium",children:"\xcenchide"}),(0,r.jsx)(d.m6K,{size:16,className:"group-hover:rotate-90 transition-transform duration-200"})]}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:a})]})})},"".concat(e.id,"-expanded-").concat(n))}).filter(Boolean);return(0,r.jsxs)(i.Fragment,{children:[c,u]},"row-fragment-".concat(e.id))};return(0,r.jsxs)("div",{className:"".concat(U.container," w-full h-full flex flex-col"),children:[(null==T?void 0:T.enabled)&&(0,r.jsxs)("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(y,{search:O.tableSearch,placeholder:T.placeholder||q("common.actions.search")})}),(0,r.jsx)("div",{className:"flex-shrink-0 w-48",children:(0,r.jsxs)(c.A,{value:O.selectedSearchColumn,onChange:e=>O.setSelectedSearchColumn(e.target.value),sx:{fontSize:"0.8rem","& .MuiSelect-select":{fontSize:"0.8rem"}},fullWidth:!0,children:[(0,r.jsx)(u.A,{value:"all",children:"All columns"}),(null!==(t=null==T?void 0:T.searchFields)&&void 0!==t?t:f.length>0?Object.keys(f[0]):[]).map(e=>(0,r.jsx)(u.A,{value:e,children:String(e)},String(e)))]})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-auto",children:(0,r.jsxs)("table",{className:"".concat(U.table," w-full h-full"),children:[b.length>0&&(0,r.jsx)("thead",{className:null==U?void 0:U.header,children:(0,r.jsxs)("tr",{children:[z.hasRowActions&&(0,r.jsx)("th",{className:G(null!==(n=U.headerCell)&&void 0!==n?n:"",V.headerCell),children:(0,r.jsx)(a,{checked:B.checkedRows.size===f.length,onChange:B.toggleAll,size:"sm"})}),b.map((e,t)=>{var n;if(null==D?void 0:D.includes(t))return null;let i=G(null!==(n=U.headerCell)&&void 0!==n?n:"",V.headerCell,e.align);return(0,r.jsx)("th",{className:i,children:(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[e.label,e.sortable&&(0,r.jsx)("button",{className:"flex flex-col items-center ml-2 py-1 px-2 rounded-md",onClick:()=>M.toggleSortDirection(t),children:(0,r.jsxs)("div",{className:"flex flex-col items-center rounded-md",children:[(0,r.jsx)("div",{className:"p-1 rounded-md ".concat("asc"===M.getSortDirection(t)?"bg-zinc-500 text-white":""),children:(0,r.jsx)(s.wAb,{size:12})}),(0,r.jsx)("div",{className:"p-1 rounded-md ".concat("desc"===M.getSortDirection(t)?"bg-zinc-500 text-white":""),children:(0,r.jsx)(s.fK4,{size:12})})]})})]})},t)}),z.hasRowActions&&(0,r.jsx)("th",{className:G(null!==(p=U.headerCell)&&void 0!==p?p:"",V.headerCell),children:(0,r.jsxs)("div",{className:"flex flex-row items-center justify-center gap-2",children:[(0,r.jsx)("span",{children:"Acțiuni"}),(0,r.jsx)(s.oUk,{})]})})]})}),(0,r.jsxs)("tbody",{className:null==U?void 0:U.body,children:[(()=>{if(0===B.checkedRows.size)return null;let e=f.filter(e=>B.checkedRows.has(e.id)),t=1===e.length?z.rowActions:z.bulkActions;return(0,r.jsx)("tr",{className:"bg-blue-50 border-b border-gray-300",children:(0,r.jsx)("td",{colSpan:b.length+2*!!z.hasRowActions,children:(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3",children:[B.checkedRows.size>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:"text-sm text-graphite font-light",children:[(0,r.jsx)("span",{className:"font-medium",children:B.checkedRows.size})," ","selectate"]}),(0,r.jsx)(l.A,{flexItem:!0,orientation:"vertical"})]}),t.map((t,n)=>(0,r.jsxs)("button",{onClick:()=>{var n,r;e.length>1?null===(n=t.onBulkAction)||void 0===n||n.call(t,e):null===(r=t.onRowAction)||void 0===r||r.call(t,e[0]),B.clearSelection()},title:t.label,className:"flex items-center bg-white rounded border border-gray-300 hover:bg-gray-200 focus:outline-none text-graphite/90 hover:text-black",style:{padding:t.label?"8px 16px":"8px"},children:[t.icon,t.label&&(0,r.jsx)("span",{className:"font-normal text-sm ml-2",children:t.label})]},n))]})})})})(),_.length>0?_.map((e,t)=>W(e,t)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:b.length+2*!!z.hasRowActions,className:"p-0",children:(0,r.jsx)(m.p,{message:null!=F?F:q("states.empty.noData")})})}),L]})]})}),H.enabled&&H.hasData&&(0,r.jsx)(g,{currentPage:H.currentPage,totalPages:H.totalPages,pageSize:H.pageSize,pageSizeOptions:H.pageSizeOptions,startRecord:H.startRecord,endRecord:H.endRecord,totalRecords:H.totalRecords,onPageChange:H.goToPage,onPageSizeChange:H.handlePageSizeChange,getPageNumbers:H.getPageNumbers})]})}},36115:(e,t,n)=>{n.d(t,{I:()=>m});var r=n(73365),i=n(1521),s=n(92222),a=n(59296),o=n(61831);function l(e){let{icon:t,title:n,onClose:i}=e;return(0,r.jsxs)("div",{className:"flex-shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center text-xl font-light text-graphite",children:[(0,r.jsx)("div",{className:"p-4",children:t}),(0,r.jsx)(a.A,{orientation:"vertical",flexItem:!0}),(0,r.jsx)("span",{className:"ml-2 flex-grow text-center",children:n}),(0,r.jsx)(a.A,{orientation:"vertical",flexItem:!0}),(0,r.jsx)("div",{className:"p-4 cursor-pointer hover:opacity-70",onClick:i,children:(0,r.jsx)(o.OZi,{size:24})})]}),(0,r.jsx)(a.A,{})]})}function c(e){let{icon:t,actionLabel:n,canSubmit:i,children:s,secondaryAction:o,onSubmit:l}=e;return(0,r.jsxs)("div",{className:"flex-shrink-0",children:[(0,r.jsx)(a.A,{}),(0,r.jsxs)("div",{className:"p-4 flex items-center justify-between font-light text-graphite",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:o}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:l,disabled:!i,className:"\n              flex items-center gap-2\n              rounded-md px-4 py-2\n              bg-gradient-to-r from-blue-500 to-blue-600\n              text-white text-sm font-semibold\n              disabled:from-gray-300 disabled:to-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed\n              hover:from-blue-600 hover:to-blue-700\n              focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-1\n              transition-all duration-200 ease-in-out\n              shadow-sm hover:shadow-md\n            ",children:[t&&(0,r.jsx)("span",{className:"text-base",children:t}),(0,r.jsx)("span",{className:"capitalize",children:n})]}),s]})]})]})}var u=n(44068),d=n(12519);function m(e){let{open:t=!0,canSubmit:n,title:a,titleIcon:o,primaryActionLabel:m,primaryActionIcon:h,secondaryAction:p,variant:g="modal",children:f,onSubmit:v,onClose:b,onReset:x,confirmOnUnsavedChanges:y=!0,hasUnsavedChanges:w=!1,unsavedChangesTitle:N,unsavedChangesMessage:P,confirmText:E,cancelText:k}=e,{t:T}=(0,s.Bd)(),[D,A]=(0,i.useState)(!1),C=(0,i.useCallback)(()=>{y&&w?A(!0):(null==x||x(),null==b||b())},[y,w,x,b]);if(!t)return null;let S=(0,r.jsxs)("div",{className:"w-full flex flex-col ".concat("modal"===g?"h-full max-h-screen":"h-full"),children:["modal"===g&&(0,r.jsx)(l,{icon:o,title:a,onClose:C}),(0,r.jsx)("div",{className:"flex-1 min-h-0 flex flex-col",children:f}),v&&m&&(0,r.jsx)(c,{icon:h,actionLabel:m,onSubmit:v,canSubmit:n,secondaryAction:p}),y&&(0,r.jsx)(d.T,{open:D,title:null!=N?N:T("forms.unsavedChangesTitle"),content:null!=P?P:T("forms.unsavedChangesMessage"),confirmText:null!=E?E:T("common.actions.confirm"),cancelText:null!=k?k:T("common.actions.cancel"),onConfirm:()=>{A(!1),null==x||x(),null==b||b()},onCancel:()=>{A(!1)},zIndex:9001})]});return"modal"===g?(0,r.jsx)(u.a,{open:t,zIndex:9e3,className:"w-full sm:max-w-2xl h-screen flex flex-col",onClose:C,children:S}):S}},36399:(e,t,n)=>{n.d(t,{N:()=>s,v:()=>i});var r=n(1475);let i=()=>({name:"",taxId:"",headquarters:"",phone:"",email:"",representatives:[]}),s=e=>({name:e.name.trim(),taxId:e.taxId.trim()||null,headquarters:e.headquarters.trim()||null,phone:e.phone.trim()||null,email:e.email.trim()||null,representatives:e.representatives.map(r.V3)})},37977:(e,t,n)=>{n.d(t,{FP:()=>a,m_:()=>i});var r=n(33465);let i=e=>{let t={};return t.fullName=(0,r.fH)([{check:e=>r.PT.required(e),message:"Full name is required"},{check:e=>r.PT.minLength(e,2),message:"Full name must be at least 2 characters"},{check:e=>r.PT.maxLength(e,100),message:"Full name must be less than 100 characters"}])(e.fullName),t.email=(0,r.fH)([{check:e=>!e||r.PT.email(e),message:"Please enter a valid email address"}])(e.email),t.phone=(0,r.fH)([{check:e=>!e||r.PT.phone(e),message:"Please enter a valid phone number"}])(e.phone),t.address=(0,r.fH)([{check:e=>!e||r.PT.minLength(e,5),message:"Address must be at least 5 characters"},{check:e=>!e||r.PT.maxLength(e,200),message:"Address must be less than 200 characters"}])(e.address),e.email||e.phone||(t.email=t.email||"Either email or phone is required",t.phone=t.phone||"Either phone or email is required"),t},s=e=>({...i(e),personId:null}),a=e=>e&&0!==e.length?e.map(e=>s(e)):null},38105:(e,t,n)=>{n.d(t,{u:()=>r});function r(e){return"client"in e||"department"in e||"employees"in e||"ticketItems"in e}},44068:(e,t,n)=>{n.d(t,{a:()=>s});var r=n(73365),i=n(1521);function s(e){let{open:t,onClose:n,children:s,className:a,closeOnBackdropClick:o=!0,zIndex:l=50}=e;return((0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&n&&n()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),t&&(document.body.style.overflow="")}},[t,n]),t)?(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50",style:{zIndex:l},onClick:()=>{o&&n&&n()},role:"dialog","aria-modal":"true",children:(0,r.jsx)("div",{className:"bg-white w-full shadow-lg ".concat(a||""),onClick:e=>e.stopPropagation(),children:s})}):null}},44311:(e,t,n)=>{n.d(t,{r:()=>a});var r=n(73365),i=n(53032),s=n(74584);function a(e){let{label:t,icon:n=(0,r.jsx)(i.t50,{size:16}),color:a="green",className:o,...l}=e,c="white"===a?"bg-white border-gray-300 hover:bg-gray-100 text-black/80":"bg-".concat(a,"-600 hover:bg-").concat(a,"-700 border-").concat(a,"-700 text-white");return(0,r.jsxs)("button",{...l,className:(0,s.A)("flex items-center gap-2 px-3 py-1.5 rounded-md shadow-sm border text-sm font-normal transition-colors whitespace-nowrap",c,o),children:[n,(0,r.jsx)("span",{children:t})]})}},46230:(e,t,n)=>{n.d(t,{e:()=>r});let r=(e,t,n)=>"number"==typeof n&&n>1?{translationKey:"log.messages.multiple",params:{action:e,entityPlural:t,count:n}}:{translationKey:"log.messages.single",params:{action:e,entitySingular:t,count:void 0}}},51350:(e,t,n)=>{n.d(t,{f:()=>i});var r=n(33465);let i=e=>{let t={};return t.fullName=(0,r.fH)([{check:e=>r.PT.required(e),message:"Full name is required"},{check:e=>r.PT.minLength(e,2),message:"Full name must be at least 2 characters"},{check:e=>r.PT.maxLength(e,100),message:"Full name must be less than 100 characters"}])(e.fullName),t.email=(0,r.fH)([{check:e=>!e||r.PT.email(e),message:"Please enter a valid email address"}])(e.email),t.phone=(0,r.fH)([{check:e=>!e||r.PT.phone(e),message:"Please enter a valid phone number"}])(e.phone),e.email||e.phone||(t.email=t.email||"Either email or phone is required",t.phone=t.phone||"Either phone or email is required"),t.department=null,t.role=null,t}},51491:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(1521),i=n(73e3),s=n.n(i);let a=(e,t)=>{let[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(void 0),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),m=(0,r.useCallback)(async t=>{c(!0),d(null);try{let n=await e(t);o(n)}catch(e){d(e),o(void 0)}finally{c(!1)}},[e]),h=(0,r.useMemo)(()=>s()(m,t),[m,t]);return(0,r.useEffect)(()=>{if(!n.trim()){o(void 0);return}return h(n),()=>h.cancel()},[n]),(0,r.useEffect)(()=>{if(u){let e=setTimeout(()=>d(null),3e3);return()=>clearTimeout(e)}},[u]),{query:n,setQuery:i,results:a,setResults:o,loading:l,error:u,searchNow:m}}},60674:(e,t,n)=>{n.d(t,{D:()=>r});function r(e){return"company"in e||"person"in e}},61637:(e,t,n)=>{n.d(t,{Z:()=>r});let r={...(0,n(18984).Ak)("products"),deleteMany:()=>{throw Error("Bulk product deletion is disabled for safety. Use individual deletion instead.")}}},65996:(e,t,n)=>{n.d(t,{R:()=>r});function r(e){return"person"in e}},67616:(e,t,n)=>{n.d(t,{Y:()=>r});let r=(e,t,n)=>{Array.isArray(e)?1===e.length?t(e[0].id):e.length>1&&n(e.map(e=>e.id)):t(e.id)}},69417:(e,t,n)=>{n.d(t,{X:()=>r});let r={...(0,n(18984).Ak)("services"),deleteMany:()=>{throw Error("Bulk service deletion is disabled for safety. Use individual deletion instead.")}}},73104:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});let{Decimal:r,objectEnumValues:i,makeStrictEnum:s,Public:a,getRuntime:o,skip:l}=n(83543),c={};t.Prisma=c,t.$Enums={},c.prismaVersion={client:"6.12.0",engine:"8047c96bbd92db98a2abc7c9323ce77c02c89dbc"},c.PrismaClientKnownRequestError=()=>{let e=o().prettyName;throw Error("PrismaClientKnownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},c.PrismaClientUnknownRequestError=()=>{let e=o().prettyName;throw Error("PrismaClientUnknownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},c.PrismaClientRustPanicError=()=>{let e=o().prettyName;throw Error("PrismaClientRustPanicError is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},c.PrismaClientInitializationError=()=>{let e=o().prettyName;throw Error("PrismaClientInitializationError is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},c.PrismaClientValidationError=()=>{let e=o().prettyName;throw Error("PrismaClientValidationError is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},c.Decimal=r,c.sql=()=>{let e=o().prettyName;throw Error("sqltag is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},c.empty=()=>{let e=o().prettyName;throw Error("empty is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},c.join=()=>{let e=o().prettyName;throw Error("join is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},c.raw=()=>{let e=o().prettyName;throw Error("raw is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},c.validator=a.validator,c.getExtensionContext=()=>{let e=o().prettyName;throw Error("Extensions.getExtensionContext is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},c.defineExtension=()=>{let e=o().prettyName;throw Error("Extensions.defineExtension is unable to run in this browser environment, or has been bundled for the browser (running in ".concat(e,").\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report"))},c.DbNull=i.instances.DbNull,c.JsonNull=i.instances.JsonNull,c.AnyNull=i.instances.AnyNull,c.NullTypes={DbNull:i.classes.DbNull,JsonNull:i.classes.JsonNull,AnyNull:i.classes.AnyNull},t.Prisma.TransactionIsolationLevel=s({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),t.Prisma.ClientScalarFieldEnum={id:"id",type:"type",personId:"personId",companyId:"companyId",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.PersonScalarFieldEnum={id:"id",fullName:"fullName",phone:"phone",email:"email",address:"address",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.CompanyRepresentativeScalarFieldEnum={personId:"personId",companyId:"companyId"},t.Prisma.CompanyScalarFieldEnum={id:"id",name:"name",taxId:"taxId",headquarters:"headquarters",email:"email",phone:"phone",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.DepartmentScalarFieldEnum={id:"id",name:"name",description:"description",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.EmployeeRoleScalarFieldEnum={id:"id",name:"name",description:"description",createdAt:"createdAt"},t.Prisma.EmployeeScalarFieldEnum={id:"id",fullName:"fullName",email:"email",phone:"phone",roleId:"roleId",departmentId:"departmentId",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.TicketScalarFieldEnum={id:"id",equipmentDescription:"equipmentDescription",imageUrl:"imageUrl",priority:"priority",submittedAt:"submittedAt",clientId:"clientId",personRepresentativeId:"personRepresentativeId",companyRepresentativeId:"companyRepresentativeId",status:"status",estimatedCost:"estimatedCost",finalCost:"finalCost",estimatedDeliveryDate:"estimatedDeliveryDate",estimatedExecutionTime:"estimatedExecutionTime",observations:"observations",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.TicketItemScalarFieldEnum={id:"id",ticketId:"ticketId",type:"type",productId:"productId",serviceId:"serviceId",quantity:"quantity",unitPrice:"unitPrice",totalCost:"totalCost",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.TaskScalarFieldEnum={id:"id",ticketId:"ticketId",title:"title",description:"description",status:"status",dueDate:"dueDate",assigneeId:"assigneeId",createdAt:"createdAt",updatedAt:"updatedAt",completedAt:"completedAt"},t.Prisma.TicketCommentScalarFieldEnum={id:"id",ticketId:"ticketId",text:"text",createdAt:"createdAt",authorId:"authorId"},t.Prisma.TaskCommentScalarFieldEnum={id:"id",taskId:"taskId",text:"text",createdAt:"createdAt",authorId:"authorId"},t.Prisma.ActivityLogScalarFieldEnum={id:"id",ticketId:"ticketId",entity:"entity",entityId:"entityId",action:"action",details:"details",authorId:"authorId",createdAt:"createdAt"},t.Prisma.ProductScalarFieldEnum={id:"id",productCode:"productCode",name:"name",description:"description",category:"category",quantity:"quantity",unitPrice:"unitPrice",entryDate:"entryDate",supplier:"supplier",status:"status",weight:"weight",observations:"observations",createdAt:"createdAt",updatedAt:"updatedAt",serialNumber:"serialNumber"},t.Prisma.ServiceScalarFieldEnum={id:"id",serviceCode:"serviceCode",name:"name",description:"description",price:"price",duration:"duration",observations:"observations",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.SortOrder={asc:"asc",desc:"desc"},t.Prisma.NullableJsonNullValueInput={DbNull:c.DbNull,JsonNull:c.JsonNull},t.Prisma.NullsOrder={first:"first",last:"last"},t.Prisma.QueryMode={default:"default",insensitive:"insensitive"},t.Prisma.JsonNullValueFilter={DbNull:c.DbNull,JsonNull:c.JsonNull,AnyNull:c.AnyNull},t.ClientType=t.$Enums.ClientType={PERSON:"PERSON",COMPANY:"COMPANY"},t.OrderPriority=t.$Enums.OrderPriority={NORMAL:"NORMAL",URGENT:"URGENT"},t.OrderStatus=t.$Enums.OrderStatus={NEW:"NEW",TAKEN:"TAKEN",IN_PROGRESS:"IN_PROGRESS",APPROVED:"APPROVED",IN_TESTING:"IN_TESTING",COMPLETED:"COMPLETED",CONTACT_CLIENT:"CONTACT_CLIENT",WAITING_CLIENT:"WAITING_CLIENT",DELIVERED:"DELIVERED",CANCELLED:"CANCELLED"},t.ItemType=t.$Enums.ItemType={PRODUCT:"PRODUCT",SERVICE:"SERVICE"},t.TaskStatus=t.$Enums.TaskStatus={TODO:"TODO",COMPLETED:"COMPLETED"},t.ProductStatus=t.$Enums.ProductStatus={AVAILABLE:"AVAILABLE",UNAVAILABLE:"UNAVAILABLE",DEPLETED:"DEPLETED",ON_ORDER:"ON_ORDER",DEFECTIVE:"DEFECTIVE"},t.Prisma.ModelName={Client:"Client",Person:"Person",CompanyRepresentative:"CompanyRepresentative",Company:"Company",Department:"Department",EmployeeRole:"EmployeeRole",Employee:"Employee",Ticket:"Ticket",TicketItem:"TicketItem",Task:"Task",TicketComment:"TicketComment",TaskComment:"TaskComment",ActivityLog:"ActivityLog",Product:"Product",Service:"Service"};class u{constructor(){return new Proxy(this,{get(e,t){let n,r=o();throw Error((r.isEdge?"PrismaClient is not configured to run in ".concat(r.prettyName,". In order to run Prisma Client on edge runtime, either:\n- Use Prisma Accelerate: https://pris.ly/d/accelerate\n- Use Driver Adapters: https://pris.ly/d/driver-adapters\n"):"PrismaClient is unable to run in this browser environment, or has been bundled for the browser (running in `"+r.prettyName+"`).")+"\nIf this is unexpected, please open an issue: https://pris.ly/prisma-prisma-bug-report")}})}}t.PrismaClient=u,Object.assign(t,c)},75135:(e,t,n)=>{n.d(t,{t:()=>a});var r=n(73365),i=n(1521),s=n(92222);let a=e=>{var t,n;let{tabs:a,defaultTab:o}=e,{t:l}=(0,s.Bd)(),[c,u]=(0,i.useState)(o||(null===(t=a[0])||void 0===t?void 0:t.key)),d=(0,i.useMemo)(()=>a.find(e=>e.key===c),[a,c]);return(0,i.useEffect)(()=>{!d&&o&&u(o)},[d,o,u]),(0,r.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,r.jsx)("div",{className:"flex flex-wrap bg-gray-50",children:a.map(e=>{let t=e.key===c;return(0,r.jsxs)("button",{onClick:()=>u(e.key),className:"\n                relative flex-1 flex items-center justify-center px-4 py-2 text-sm font-medium\n                ".concat(t?"\n                    ".concat(e.textColor||"text-blue-600","\n                    ").concat(e.bgColor||"bg-white","\n                    rounded-t-lg border-t border-x border-b-transparent border-gray-300\n                  "):"text-gray-500 border-b border-gray-300 hover:text-gray-700 shadow-[0_4px_4px_-2px_rgba(0,0,0,0.05)]","\n              "),children:[e.icon&&(0,r.jsx)("div",{className:"mr-2",children:e.icon}),(0,r.jsx)("div",{className:"mr-2",children:e.label}),e.count&&(0,r.jsx)("span",{className:"\n                    inline-flex items-center justify-center px-2 py-0.5 text-xs font-semibold text-white rounded-full\n                    ".concat(t?"bg-gray-500":"bg-gray-400/70","\n                  "),children:e.count})]},e.key)})}),(0,r.jsx)("div",{className:"flex-1 overflow-auto border-l border-r border-b border-gray-300 rounded-b-md",children:null!==(n=null==d?void 0:d.content)&&void 0!==n?n:(0,r.jsx)("span",{className:"p-6 text-sm text-gray-500 block text-center",children:(null==d?void 0:d.noContentMessage)||l("tabs.noContent")})})]})}},77492:(e,t,n)=>{n(33465)},81302:(e,t,n)=>{n.d(t,{KA:()=>a,Sx:()=>s});var r=n(73104);let i=e=>{let t=new Date(e||"");if(isNaN(t.getTime()))return"";let n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(r,"-").concat(i)},s=()=>({equipmentDescription:"",imageUrl:"",priority:r.OrderPriority.NORMAL,client:null,representative:null,status:r.OrderStatus.NEW,estimatedCost:0,estimatedDeliveryDate:null,estimatedExecutionTime:0,observations:"",employees:[]}),a=e=>{var t,n;return{equipmentDescription:e.equipmentDescription,imageUrl:e.imageUrl||null,priority:e.priority,clientId:e.client.id,personRepresentativeId:(null===(t=e.representative)||void 0===t?void 0:t.personId)||null,companyRepresentativeId:(null===(n=e.representative)||void 0===n?void 0:n.companyId)||null,status:e.status,estimatedCost:e.estimatedCost||null,estimatedDeliveryDate:i(e.estimatedDeliveryDate),estimatedExecutionTime:e.estimatedExecutionTime||null,observations:e.observations||null,employeeIds:e.employees.map(e=>e.id)}}},81981:(e,t,n)=>{n.d(t,{K:()=>i});var r=n(33465);let i=e=>{let t={};return t.name=(0,r.fH)([{check:e=>r.PT.required(e),message:"Service name is required"},{check:e=>r.PT.minLength(e,2),message:"Service name must be at least 2 characters"},{check:e=>r.PT.maxLength(e,100),message:"Service name must be less than 100 characters"}])(e.name),t.serviceCode=(0,r.fH)([{check:e=>!e||r.PT.required(e),message:"Service code is required"},{check:e=>!e||r.PT.minLength(e,2),message:"Service code must be at least 2 characters"},{check:e=>!e||r.PT.maxLength(e,50),message:"Service code must be less than 50 characters"}])(e.serviceCode),t.description=(0,r.fH)([{check:e=>!e||r.PT.minLength(e,5),message:"Description must be at least 5 characters"},{check:e=>!e||r.PT.maxLength(e,500),message:"Description must be less than 500 characters"}])(e.description),t.price=(0,r.fH)([{check:e=>e>=0,message:"Price cannot be negative"},{check:e=>r.PT.decimal(e),message:"Please enter a valid price"}])(e.price),t.duration=(0,r.fH)([{check:e=>e>=0,message:"Duration cannot be negative"}])(e.duration),t.observations=(0,r.fH)([{check:e=>!e||r.PT.maxLength(e,1e3),message:"Observations must be less than 1000 characters"}])(e.observations),t}},83543:e=>{var t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s=e=>{throw TypeError(e)},a=(e,n)=>{for(var r in n)t(e,r,{get:n[r],enumerable:!0})},o=(e,t,n)=>t.has(e)?s("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),l={};a(l,{Decimal:()=>tt,Public:()=>c,getRuntime:()=>F,makeStrictEnum:()=>E,objectEnumValues:()=>w}),e.exports=((e,s,a,o)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let l of r(s))i.call(e,l)||l===a||t(e,l,{get:()=>s[l],enumerable:!(o=n(s,l))||o.enumerable});return e})(t({},"__esModule",{value:!0}),l);var c={};function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>e}a(c,{validator:()=>u});var d,m=Symbol(),h=new WeakMap,p=class{_getName(){return this.constructor.name}toString(){return h.get(this)}constructor(e){e===m?h.set(this,"Prisma.".concat(this._getName())):h.set(this,"new Prisma.".concat(this._getNamespace(),".").concat(this._getName(),"()"))}},g=class extends p{_getNamespace(){return"NullTypes"}},f=class extends g{constructor(){super(...arguments),o(this,d)}};d=new WeakMap,N(f,"DbNull");var v,b=class extends g{constructor(){super(...arguments),o(this,v)}};v=new WeakMap,N(b,"JsonNull");var x,y=class extends g{constructor(){super(...arguments),o(this,x)}};x=new WeakMap,N(y,"AnyNull");var w={classes:{DbNull:f,JsonNull:b,AnyNull:y},instances:{DbNull:new f(m),JsonNull:new b(m),AnyNull:new y(m)}};function N(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var P=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function E(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!P.has(t))throw TypeError("Invalid enum value: ".concat(String(t)))}})}var k=()=>{var e,t;return(null==(t=null==(e=globalThis.process)?void 0:e.release)?void 0:t.name)==="node"},T=()=>{var e,t;return!!globalThis.Bun||!!(null!=(t=null==(e=globalThis.process)?void 0:e.versions)&&t.bun)},D=()=>!!globalThis.Deno,A=()=>"object"==typeof globalThis.Netlify,C=()=>"object"==typeof globalThis.EdgeRuntime,S=()=>{var e;return(null==(e=globalThis.navigator)?void 0:e.userAgent)==="Cloudflare-Workers"},j={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function F(){var e;let t=null!=(e=[[A,"netlify"],[C,"edge-light"],[S,"workerd"],[D,"deno"],[T,"bun"],[k,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0))?e:"";return{id:t,prettyName:j[t]||t,isEdge:["workerd","deno","netlify","edge-light"].includes(t)}}var I,R,L="0123456789abcdef",q="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",O="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",M={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},B=!0,z="[DecimalError] ",H=z+"Invalid argument: ",_=z+"Precision limit exceeded",U=z+"crypto unavailable",V="[object Decimal]",G=Math.floor,Z=Math.pow,W=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,K=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,$=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,J=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,X=q.length-1,Y=O.length-1,Q={toStringTag:V};function ee(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(s+=ed(n)),s+=r;(n=7-(r=(a=e[t])+"").length)&&(s+=ed(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return s+a}function et(e,t,n){if(e!==~~e||e<t||e>n)throw Error(H+e)}function en(e,t,n,r){var i,s,a,o;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),s=Z(10,7-t),o=e[i]%s|0,null==r?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),a=n<4&&99999==o||n>3&&49999==o||5e4==o||0==o):a=(n<4&&o+1==s||n>3&&o+1==s/2)&&(e[i+1]/s/100|0)==Z(10,t-2)-1||(o==s/2||0==o)&&(e[i+1]/s/100|0)==0:t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),a=(r||n<4)&&9999==o||!r&&n>3&&4999==o):a=((r||n<4)&&o+1==s||!r&&n>3&&o+1==s/2)&&(e[i+1]/s/1e3|0)==Z(10,t-3)-1,a}function er(e,t,n){for(var r,i,s=[0],a=0,o=e.length;a<o;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=L.indexOf(e.charAt(a++)),r=0;r<s.length;r++)s[r]>n-1&&(void 0===s[r+1]&&(s[r+1]=0),s[r+1]+=s[r]/n|0,s[r]%=n)}return s.reverse()}Q.absoluteValue=Q.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),es(e)},Q.ceil=function(){return es(new this.constructor(this),this.e+1,2)},Q.clampedTo=Q.clamp=function(e,t){var n=this.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(H+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new n(this)},Q.comparedTo=Q.cmp=function(e){var t,n,r,i,s=this.d,a=(e=new this.constructor(e)).d,o=this.s,l=e.s;if(!s||!a)return o&&l?o!==l?o:s===a?0:!s^o<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?o:a[0]?-l:0;if(o!==l)return o;if(this.e!==e.e)return this.e>e.e^o<0?1:-1;for(r=s.length,i=a.length,t=0,n=r<i?r:i;t<n;++t)if(s[t]!==a[t])return s[t]>a[t]^o<0?1:-1;return r===i?0:r>i^o<0?1:-1},Q.cosine=Q.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i;if(t.isZero())return t;(r=t.d.length)<32?i=(1/ey(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=ex(e,1,t.times(i),new e(1));for(var s=n;s--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(r,ew(r,n)),r.precision=e,r.rounding=t,es(2==R||3==R?n.neg():n,e,t,!0)):new r(1):new r(NaN)},Q.cubeRoot=Q.cbrt=function(){var e,t,n,r,i,s,a,o,l,c,u=this.constructor;if(!this.isFinite()||this.isZero())return new u(this);for(B=!1,(s=this.s*Z(this.s*this,1/3))&&Math.abs(s)!=1/0?r=new u(s.toString()):(n=ee(this.d),(s=((e=this.e)-n.length+1)%3)&&(n+=1==s||-2==s?"0":"00"),s=Z(n,1/3),e=G((e+1)/3)-(e%3==(e<0?-1:2)),(r=new u(n=s==1/0?"5e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=this.s),a=(e=u.precision)+3;;)if(r=ei((c=(l=(o=r).times(o).times(o)).plus(this)).plus(this).times(o),c.plus(l),a+2,1),ee(o.d).slice(0,a)===(n=ee(r.d)).slice(0,a))if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(es(r,e+1,1),t=!r.times(r).times(r).eq(this));break}else{if(!i&&(es(o,e+1,0),o.times(o).times(o).eq(this))){r=o;break}a+=4,i=1}return B=!0,es(r,e,u.rounding,t)},Q.decimalPlaces=Q.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=((e=t.length-1)-G(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},Q.dividedBy=Q.div=function(e){return ei(this,new this.constructor(e))},Q.dividedToIntegerBy=Q.divToInt=function(e){var t=this.constructor;return es(ei(this,new t(e),0,1,1),t.precision,t.rounding)},Q.equals=Q.eq=function(e){return 0===this.cmp(e)},Q.floor=function(){return es(new this.constructor(this),this.e+1,3)},Q.greaterThan=Q.gt=function(e){return this.cmp(e)>0},Q.greaterThanOrEqualTo=Q.gte=function(e){var t=this.cmp(e);return 1==t||0===t},Q.hyperbolicCosine=Q.cosh=function(){var e,t,n,r,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;n=a.precision,r=a.rounding,a.precision=n+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?t=(1/ey(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),s=ex(a,1,s.times(t),new a(1),!0);for(var l,c=e,u=new a(8);c--;)l=s.times(s),s=o.minus(l.times(u.minus(l.times(u))));return es(s,a.precision=n,a.rounding=r,!0)},Q.hyperbolicSine=Q.sinh=function(){var e,t,n,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,n=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,(r=i.d.length)<3)i=ex(s,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=ex(s,2,i=i.times(1/ey(5,e)),i,!0);for(var a,o=new s(5),l=new s(16),c=new s(20);e--;)a=i.times(i),i=i.times(o.plus(a.times(l.times(a).plus(c))))}return s.precision=t,s.rounding=n,es(i,t,n,!0)},Q.hyperbolicTangent=Q.tanh=function(){var e,t,n=this.constructor;return this.isFinite()?this.isZero()?new n(this):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,ei(this.sinh(),this.cosh(),n.precision=e,n.rounding=t)):new n(this.s)},Q.inverseCosine=Q.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,i=t.rounding;return -1!==n?0===n?e.isNeg()?ec(t,r,i):new t(0):new t(NaN):e.isZero()?ec(t,r+4,i).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=i,e.times(2))},Q.inverseHyperbolicCosine=Q.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,B=!1,n=n.times(n).minus(1).sqrt().plus(n),B=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},Q.inverseHyperbolicSine=Q.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,B=!1,n=n.times(n).plus(1).sqrt().plus(n),B=!0,r.precision=e,r.rounding=t,n.ln())},Q.inverseHyperbolicTangent=Q.atanh=function(){var e,t,n,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,Math.max(r=i.sd(),e)<-(2*i.e)-1?es(new s(i),e,t,!0):(s.precision=n=r-i.e,i=ei(i.plus(1),new s(1).minus(i),n+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)},Q.inverseSine=Q.asin=function(){var e,t,n,r,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),n=s.precision,r=s.rounding,-1!==t?0===t?((e=ec(s,n+4,r).times(.5)).s=i.s,e):new s(NaN):(s.precision=n+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=r,i.times(2)))},Q.inverseTangent=Q.atan=function(){var e,t,n,r,i,s,a,o,l,c=this,u=c.constructor,d=u.precision,m=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=Y)return(a=ec(u,d+4,m).times(.25)).s=c.s,a}else{if(!c.s)return new u(NaN);if(d+4<=Y)return(a=ec(u,d+4,m).times(.5)).s=c.s,a}for(u.precision=o=d+10,u.rounding=1,e=n=Math.min(28,o/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(B=!1,t=Math.ceil(o/7),r=1,l=c.times(c),a=new u(c),i=c;-1!==e;)if(i=i.times(l),s=a.minus(i.div(r+=2)),i=i.times(l),void 0!==(a=s.plus(i.div(r+=2))).d[t])for(e=t;a.d[e]===s.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),B=!0,es(a,u.precision=d,u.rounding=m,!0)},Q.isFinite=function(){return!!this.d},Q.isInteger=Q.isInt=function(){return!!this.d&&G(this.e/7)>this.d.length-2},Q.isNaN=function(){return!this.s},Q.isNegative=Q.isNeg=function(){return this.s<0},Q.isPositive=Q.isPos=function(){return this.s>0},Q.isZero=function(){return!!this.d&&0===this.d[0]},Q.lessThan=Q.lt=function(e){return 0>this.cmp(e)},Q.lessThanOrEqualTo=Q.lte=function(e){return 1>this.cmp(e)},Q.logarithm=Q.log=function(e){var t,n,r,i,s,a,o,l,c=this.constructor,u=c.precision,d=c.rounding;if(null==e)e=new c(10),t=!0;else{if(n=(e=new c(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new c(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(t)if(n.length>1)s=!0;else{for(i=n[0];i%10==0;)i/=10;s=1!==i}if(B=!1,en((l=ei(a=ef(this,o=u+5),t?el(c,o+10):ef(e,o),o,1)).d,i=u,d))do if(o+=10,l=ei(a=ef(this,o),t?el(c,o+10):ef(e,o),o,1),!s){+ee(l.d).slice(i+1,i+15)+1==1e14&&(l=es(l,u+1,0));break}while(en(l.d,i+=10,d));return B=!0,es(l,u,d)},Q.minus=Q.sub=function(e){var t,n,r,i,s,a,o,l,c,u,d,m,h=this.constructor;if(e=new h(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new h(e.d||this.s!==e.s?this:NaN):e=new h(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(c=this.d,m=e.d,o=h.precision,l=h.rounding,!c[0]||!m[0]){if(m[0])e.s=-e.s;else{if(!c[0])return new h(3===l?-0:0);e=new h(this)}return B?es(e,o,l):e}if(n=G(e.e/7),u=G(this.e/7),c=c.slice(),s=u-n){for((d=s<0)?(t=c,s=-s,a=m.length):(t=m,n=u,a=c.length),s>(r=Math.max(Math.ceil(o/7),a)+2)&&(s=r,t.length=1),t.reverse(),r=s;r--;)t.push(0);t.reverse()}else{for((d=(r=c.length)<(a=m.length))&&(a=r),r=0;r<a;r++)if(c[r]!=m[r]){d=c[r]<m[r];break}s=0}for(d&&(t=c,c=m,m=t,e.s=-e.s),a=c.length,r=m.length-a;r>0;--r)c[a++]=0;for(r=m.length;r>s;){if(c[--r]<m[r]){for(i=r;i&&0===c[--i];)c[i]=1e7-1;--c[i],c[r]+=1e7}c[r]-=m[r]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=eo(c,n),B?es(e,o,l):e):new h(3===l?-0:0)},Q.modulo=Q.mod=function(e){var t,n=this.constructor;return e=new n(e),this.d&&e.s&&(!e.d||e.d[0])?e.d&&(!this.d||this.d[0])?(B=!1,9==n.modulo?(t=ei(this,e.abs(),0,3,1),t.s*=e.s):t=ei(this,e,0,n.modulo,1),t=t.times(e),B=!0,this.minus(t)):es(new n(this),n.precision,n.rounding):new n(NaN)},Q.naturalExponential=Q.exp=function(){return eg(this)},Q.naturalLogarithm=Q.ln=function(){return ef(this)},Q.negated=Q.neg=function(){var e=new this.constructor(this);return e.s=-e.s,es(e)},Q.plus=Q.add=function(e){var t,n,r,i,s,a,o,l,c,u,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(c=this.d,u=e.d,o=d.precision,l=d.rounding,!c[0]||!u[0])return u[0]||(e=new d(this)),B?es(e,o,l):e;if(s=G(this.e/7),r=G(e.e/7),c=c.slice(),i=s-r){for(i<0?(n=c,i=-i,a=u.length):(n=u,r=s,a=c.length),i>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=c.length)-(i=u.length)<0&&(i=a,n=u,u=c,c=n),t=0;i;)t=(c[--i]=c[i]+u[i]+t)/1e7|0,c[i]%=1e7;for(t&&(c.unshift(t),++r),a=c.length;0==c[--a];)c.pop();return e.d=c,e.e=eo(c,r),B?es(e,o,l):e},Q.precision=Q.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(H+e);return this.d?(t=eu(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},Q.round=function(){var e=this.constructor;return es(new e(this),this.e+1,e.rounding)},Q.sine=Q.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:ex(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=ex(e,2,t=t.times(1/ey(5,n)),t);for(var i,s=new e(5),a=new e(16),o=new e(20);n--;)i=t.times(t),t=t.times(s.plus(i.times(a.times(i).minus(o))));return t}(r,ew(r,n)),r.precision=e,r.rounding=t,es(R>2?n.neg():n,e,t,!0)):new r(NaN)},Q.squareRoot=Q.sqrt=function(){var e,t,n,r,i,s,a=this.d,o=this.e,l=this.s,c=this.constructor;if(1!==l||!a||!a[0])return new c(!l||l<0&&(!a||a[0])?NaN:a?this:1/0);for(B=!1,0==(l=Math.sqrt(+this))||l==1/0?(((t=ee(a)).length+o)%2==0&&(t+="0"),l=Math.sqrt(t),o=G((o+1)/2)-(o<0||o%2),r=new c(t=l==1/0?"5e"+o:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+o)):r=new c(l.toString()),n=(o=c.precision)+3;;)if(r=(s=r).plus(ei(this,s,n+2,1)).times(.5),ee(s.d).slice(0,n)===(t=ee(r.d)).slice(0,n))if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(es(r,o+1,1),e=!r.times(r).eq(this));break}else{if(!i&&(es(s,o+1,0),s.times(s).eq(this))){r=s;break}n+=4,i=1}return B=!0,es(r,o,c.rounding,e)},Q.tangent=Q.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=ei(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,es(2==R||4==R?n.neg():n,e,t,!0)):new r(NaN)},Q.times=Q.mul=function(e){var t,n,r,i,s,a,o,l,c,u=this.constructor,d=this.d,m=(e=new u(e)).d;if(e.s*=this.s,!d||!d[0]||!m||!m[0])return new u(e.s&&(!d||d[0]||m)&&(!m||m[0]||d)?d&&m?0*e.s:e.s/0:NaN);for(n=G(this.e/7)+G(e.e/7),(l=d.length)<(c=m.length)&&(s=d,d=m,m=s,a=l,l=c,c=a),s=[],r=a=l+c;r--;)s.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=s[i]+m[r]*d[i-r-1]+t,s[i--]=o%1e7|0,t=o/1e7|0;s[i]=(s[i]+t)%1e7|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=eo(s,n),B?es(e,u.precision,u.rounding):e},Q.toBinary=function(e,t){return eN(this,2,e,t)},Q.toDecimalPlaces=Q.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(et(e,0,1e9),void 0===t?t=r.rounding:et(t,0,8),es(n,e+n.e+1,t))},Q.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=ea(r,!0):(et(e,0,1e9),void 0===t?t=i.rounding:et(t,0,8),n=ea(r=es(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Q.toFixed=function(e,t){var n,r,i=this.constructor;return void 0===e?n=ea(this):(et(e,0,1e9),void 0===t?t=i.rounding:et(t,0,8),n=ea(r=es(new i(this),e+this.e+1,t),!1,e+r.e+1)),this.isNeg()&&!this.isZero()?"-"+n:n},Q.toFraction=function(e){var t,n,r,i,s,a,o,l,c,u,d,m,h=this.d,p=this.constructor;if(!h)return new p(this);if(c=n=new p(1),r=l=new p(0),a=(s=(t=new p(r)).e=eu(h)-this.e-1)%7,t.d[0]=Z(10,a<0?7+a:a),null==e)e=s>0?t:c;else{if(!(o=new p(e)).isInt()||o.lt(c))throw Error(H+o);e=o.gt(t)?s>0?t:c:o}for(B=!1,o=new p(ee(h)),u=p.precision,p.precision=s=7*h.length*2;d=ei(o,t,0,1,1),1!=(i=n.plus(d.times(r))).cmp(e);)n=r,r=i,i=c,c=l.plus(d.times(i)),l=i,i=t,t=o.minus(d.times(i)),o=i;return i=ei(e.minus(n),r,0,1,1),l=l.plus(i.times(c)),n=n.plus(i.times(r)),l.s=c.s=this.s,m=1>ei(c,r,s,1).minus(this).abs().cmp(ei(l,n,s,1).minus(this).abs())?[c,r]:[l,n],p.precision=u,B=!0,m},Q.toHexadecimal=Q.toHex=function(e,t){return eN(this,16,e,t)},Q.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:et(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(B=!1,n=ei(n,e,0,t,1).times(e),B=!0,es(n)):(e.s=n.s,n=e),n},Q.toNumber=function(){return+this},Q.toOctal=function(e,t){return eN(this,8,e,t)},Q.toPower=Q.pow=function(e){var t,n,r,i,s,a,o=this,l=o.constructor,c=+(e=new l(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new l(Z(+o,c));if((o=new l(o)).eq(1))return o;if(r=l.precision,s=l.rounding,e.eq(1))return es(o,r,s);if((t=G(e.e/7))>=e.d.length-1&&(n=c<0?-c:c)<=0x1fffffffffffff)return i=em(l,o,n,r),e.s<0?new l(1).div(i):es(i,r,s);if((a=o.s)<0){if(t<e.d.length-1)return new l(NaN);if((1&e.d[t])==0&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return(t=0!=(n=Z(+o,c))&&isFinite(n)?new l(n+"").e:G(c*(Math.log("0."+ee(o.d))/Math.LN10+o.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(B=!1,l.rounding=o.s=1,n=Math.min(12,(t+"").length),(i=eg(e.times(ef(o,r+n)),r)).d&&en((i=es(i,r+5,1)).d,r,s)&&(t=r+10,+ee((i=es(eg(e.times(ef(o,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=es(i,r+1,0))),i.s=a,B=!0,l.rounding=s,es(i,r,s))},Q.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=ea(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(et(e,1,1e9),void 0===t?t=i.rounding:et(t,0,8),n=ea(r=es(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},Q.toSignificantDigits=Q.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(et(e,1,1e9),void 0===t?t=n.rounding:et(t,0,8)),es(new n(this),e,t)},Q.toString=function(){var e=this.constructor,t=ea(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},Q.truncated=Q.trunc=function(){return es(new this.constructor(this),this.e+1,1)},Q.valueOf=Q.toJSON=function(){var e=this.constructor,t=ea(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var ei=function(){function e(e,t,n){var r,i=0,s=e.length;for(e=e.slice();s--;)r=e[s]*t+i,e[s]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=+(e[n]<t[n]),e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,s,a,o,l){var c,u,d,m,h,p,g,f,v,b,x,y,w,N,P,E,k,T,D,A,C=r.constructor,S=r.s==i.s?1:-1,j=r.d,F=i.d;if(!j||!j[0]||!F||!F[0])return new C(r.s&&i.s&&(j?!F||j[0]!=F[0]:F)?j&&0==j[0]||!F?0*S:S/0:NaN);for(l?(h=1,u=r.e-i.e):(l=1e7,h=7,u=G(r.e/h)-G(i.e/h)),D=F.length,k=j.length,b=(v=new C(S)).d=[],d=0;F[d]==(j[d]||0);d++);if(F[d]>(j[d]||0)&&u--,null==s?(N=s=C.precision,a=C.rounding):N=o?s+(r.e-i.e)+1:s,N<0)b.push(1),p=!0;else{if(N=N/h+2|0,d=0,1==D){for(m=0,F=F[0],N++;(d<k||m)&&N--;d++)P=m*l+(j[d]||0),b[d]=P/F|0,m=P%F|0;p=m||d<k}else{for((m=l/(F[0]+1)|0)>1&&(F=e(F,m,l),j=e(j,m,l),D=F.length,k=j.length),E=D,y=(x=j.slice(0,D)).length;y<D;)x[y++]=0;(A=F.slice()).unshift(0),T=F[0],F[1]>=l/2&&++T;do m=0,(c=t(F,x,D,y))<0?(w=x[0],D!=y&&(w=w*l+(x[1]||0)),(m=w/T|0)>1?(m>=l&&(m=l-1),f=(g=e(F,m,l)).length,y=x.length,1==(c=t(g,x,f,y))&&(m--,n(g,D<f?A:F,f,l))):(0==m&&(c=m=1),g=F.slice()),(f=g.length)<y&&g.unshift(0),n(x,g,y,l),-1==c&&(y=x.length,(c=t(F,x,D,y))<1&&(m++,n(x,D<y?A:F,y,l))),y=x.length):0===c&&(m++,x=[0]),b[d++]=m,c&&x[0]?x[y++]=j[E]||0:(x=[j[E]],y=1);while((E++<k||void 0!==x[0])&&N--);p=void 0!==x[0]}b[0]||b.shift()}if(1==h)v.e=u,I=p;else{for(d=1,m=b[0];m>=10;m/=10)d++;v.e=d+u*h-1,es(v,o?s+v.e+1:s,a,p)}return v}}();function es(e,t,n,r){var i,s,a,o,l,c,u,d,m,h=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,o=d[0];o>=10;o/=10)i++;if((s=t-i)<0)s+=7,a=t,l=(u=d[m=0])/Z(10,i-a-1)%10|0;else if((m=Math.ceil((s+1)/7))>=(o=d.length))if(r){for(;o++<=m;)d.push(0);u=l=0,i=1,s%=7,a=s-7+1}else break e;else{for(u=o=d[m],i=1;o>=10;o/=10)i++;s%=7,l=(a=s-7+i)<0?0:u/Z(10,i-a-1)%10|0}if(r=r||t<0||void 0!==d[m+1]||(a<0?u:u%Z(10,i-a-1)),c=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(s>0?a>0?u/Z(10,i-a):0:d[m-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,c?(t-=e.e+1,d[0]=Z(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==s?(d.length=m,o=1,m--):(d.length=m+1,o=Z(10,7-s),d[m]=a>0?(u/Z(10,i-a)%Z(10,a)|0)*o:0),c)for(;;)if(0==m){for(s=1,a=d[0];a>=10;a/=10)s++;for(a=d[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[m]+=o,1e7!=d[m])break;d[m--]=0,o=1}for(s=d.length;0===d[--s];)d.pop()}return B&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function ea(e,t,n){if(!e.isFinite())return ev(e);var r,i=e.e,s=ee(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+ed(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+ed(-i-1)+s,n&&(r=n-a)>0&&(s+=ed(r))):i>=a?(s+=ed(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+ed(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=ed(r))),s}function eo(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function el(e,t,n){if(t>X)throw B=!0,n&&(e.precision=n),Error(_);return es(new e(q),t,1,!0)}function ec(e,t,n){if(t>Y)throw Error(_);return es(new e(O),t,n,!0)}function eu(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function ed(e){for(var t="";e--;)t+="0";return t}function em(e,t,n,r){var i,s=new e(1),a=Math.ceil(r/7+4);for(B=!1;;){if(n%2&&eP((s=s.times(t)).d,a)&&(i=!0),0===(n=G(n/2))){n=s.d.length-1,i&&0===s.d[n]&&++s.d[n];break}eP((t=t.times(t)).d,a)}return B=!0,s}function eh(e){return 1&e.d[e.d.length-1]}function ep(e,t,n){for(var r,i,s=new e(t[0]),a=0;++a<t.length;){if(!(i=new e(t[a])).s){s=i;break}((r=s.cmp(i))===n||0===r&&s.s===n)&&(s=i)}return s}function eg(e,t){var n,r,i,s,a,o,l,c=0,u=0,d=0,m=e.constructor,h=m.rounding,p=m.precision;if(!e.d||!e.d[0]||e.e>17)return new m(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(B=!1,l=p):l=t,o=new m(.03125);e.e>-2;)e=e.times(o),d+=5;for(l+=r=Math.log(Z(2,d))/Math.LN10*2+5|0,n=s=a=new m(1),m.precision=l;;){if(s=es(s.times(e),l,1),n=n.times(++u),ee((o=a.plus(ei(s,n,l,1))).d).slice(0,l)===ee(a.d).slice(0,l)){for(i=d;i--;)a=es(a.times(a),l,1);if(null!=t)return m.precision=p,a;if(!(c<3&&en(a.d,l-r,h,c)))return es(a,m.precision=p,h,B=!0);m.precision=l+=10,n=s=o=new m(1),u=0,c++}a=o}}function ef(e,t){var n,r,i,s,a,o,l,c,u,d,m,h=1,p=e,g=p.d,f=p.constructor,v=f.rounding,b=f.precision;if(p.s<0||!g||!g[0]||!p.e&&1==g[0]&&1==g.length)return new f(g&&!g[0]?-1/0:1!=p.s?NaN:g?0:p);if(null==t?(B=!1,u=b):u=t,f.precision=u+=10,r=(n=ee(g)).charAt(0),!(15e14>Math.abs(s=p.e)))return c=el(f,u+2,b).times(s+""),p=ef(new f(r+"."+n.slice(1)),u-10).plus(c),f.precision=b,null==t?es(p,b,v,B=!0):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=ee((p=p.times(e)).d)).charAt(0),h++;for(s=p.e,r>1?(p=new f("0."+n),s++):p=new f(r+"."+n.slice(1)),d=p,l=a=p=ei(p.minus(1),p.plus(1),u,1),m=es(p.times(p),u,1),i=3;;){if(a=es(a.times(m),u,1),ee((c=l.plus(ei(a,new f(i),u,1))).d).slice(0,u)===ee(l.d).slice(0,u))if(l=l.times(2),0!==s&&(l=l.plus(el(f,u+2,b).times(s+""))),l=ei(l,new f(h),u,1),null!=t)return f.precision=b,l;else{if(!en(l.d,u-10,v,o))return es(l,f.precision=b,v,B=!0);f.precision=u+=10,c=a=p=ei(d.minus(1),d.plus(1),u,1),m=es(p.times(p),u,1),i=o=1}l=c,i+=2}}function ev(e){return String(e.s*e.s/0)}function eb(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),B&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function ex(e,t,n,r,i){var s,a,o,l,c=e.precision,u=Math.ceil(c/7);for(B=!1,l=n.times(n),o=new e(r);;){if(a=ei(o.times(l),new e(t++*t++),c,1),o=i?r.plus(a):r.minus(a),r=ei(a.times(l),new e(t++*t++),c,1),void 0!==(a=o.plus(r)).d[u]){for(s=u;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=r,r=a,a=s}return B=!0,a.d.length=u+1,a}function ey(e,t){for(var n=e;--t;)n*=e;return n}function ew(e,t){var n,r=t.s<0,i=ec(e,e.precision,1),s=i.times(.5);if((t=t.abs()).lte(s))return R=r?4:1,t;if((n=t.divToInt(i)).isZero())R=r?3:2;else{if((t=t.minus(n.times(i))).lte(s))return R=eh(n)?r?2:3:r?4:1,t;R=eh(n)?r?1:4:r?3:2}return t.minus(i).abs()}function eN(e,t,n,r){var i,s,a,o,l,c,u,d,m,h=e.constructor,p=void 0!==n;if(p?(et(n,1,1e9),void 0===r?r=h.rounding:et(r,0,8)):(n=h.precision,r=h.rounding),e.isFinite()){for(a=(u=ea(e)).indexOf("."),p?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,a>=0&&(u=u.replace(".",""),(m=new h(1)).e=u.length-a,m.d=er(ea(m),10,i),m.e=m.d.length),s=l=(d=er(u,10,i)).length;0==d[--l];)d.pop();if(d[0]){if(a<0?s--:((e=new h(e)).d=d,e.e=s,d=(e=ei(e,m,n,r,0,i)).d,s=e.e,c=I),a=d[n],o=i/2,c=c||void 0!==d[n+1],c=r<4?(void 0!==a||c)&&(0===r||r===(e.s<0?3:2)):a>o||a===o&&(4===r||c||6===r&&1&d[n-1]||r===(e.s<0?8:7)),d.length=n,c)for(;++d[--n]>i-1;)d[n]=0,n||(++s,d.unshift(1));for(l=d.length;!d[l-1];--l);for(a=0,u="";a<l;a++)u+=L.charAt(d[a]);if(p){if(l>1)if(16==t||8==t){for(a=16==t?4:3,--l;l%a;l++)u+="0";for(l=(d=er(u,i,t)).length;!d[l-1];--l);for(a=1,u="1.";a<l;a++)u+=L.charAt(d[a])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s))}else u=p?"0p+0":"0";u=(16==t?"0x":2==t?"0b":8==t?"0o":"")+u}else u=ev(e);return e.s<0?"-"+u:u}function eP(e,t){if(e.length>t)return e.length=t,!0}function eE(e){return new this(e).abs()}function ek(e){return new this(e).acos()}function eT(e){return new this(e).acosh()}function eD(e,t){return new this(e).plus(t)}function eA(e){return new this(e).asin()}function eC(e){return new this(e).asinh()}function eS(e){return new this(e).atan()}function ej(e){return new this(e).atanh()}function eF(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,s=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?ec(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=ec(this,s,1).times(.5)).s=e.s:t.s<0?(this.precision=s,this.rounding=1,n=this.atan(ei(e,t,s,1)),t=ec(this,s,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(ei(e,t,s,1)):(n=ec(this,s,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function eI(e){return new this(e).cbrt()}function eR(e){return es(e=new this(e),e.e+1,2)}function eL(e,t,n){return new this(e).clamp(t,n)}function eq(e){if(!e||"object"!=typeof e)throw Error(z+"Object expected");var t,n,r,i=!0===e.defaults,s=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(n=s[t],i&&(this[n]=M[n]),void 0!==(r=e[n]))if(G(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(H+n+": "+r);if(n="crypto",i&&(this[n]=M[n]),void 0!==(r=e[n]))if(!0===r||!1===r||0===r||1===r)if(r)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(U);else this[n]=!1;else throw Error(H+n+": "+r);return this}function eO(e){return new this(e).cos()}function eM(e){return new this(e).cosh()}function eB(e,t){return new this(e).div(t)}function ez(e){return new this(e).exp()}function eH(e){return es(e=new this(e),e.e+1,3)}function e_(){var e,t,n=new this(0);for(B=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return B=!0,new this(1/0);n=t}return B=!0,n.sqrt()}function eU(e){return e instanceof te||e&&e.toStringTag===V||!1}function eV(e){return new this(e).ln()}function eG(e,t){return new this(e).log(t)}function eZ(e){return new this(e).log(2)}function eW(e){return new this(e).log(10)}function eK(){return ep(this,arguments,-1)}function e$(){return ep(this,arguments,1)}function eJ(e,t){return new this(e).mod(t)}function eX(e,t){return new this(e).mul(t)}function eY(e,t){return new this(e).pow(t)}function eQ(e){var t,n,r,i,s=0,a=new this(1),o=[];if(void 0===e?e=this.precision:et(e,1,1e9),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));s<r;)(i=t[s])>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);s<r;)(i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,s):(o.push(i%1e7),s+=4);s=r/4}else throw Error(U);else for(;s<r;)o[s++]=1e7*Math.random()|0;for(r=o[--s],e%=7,r&&e&&(i=Z(10,7-e),o[s]=(r/i|0)*i);0===o[s];s--)o.pop();if(s<0)n=0,o=[0];else{for(n=-1;0===o[0];n-=7)o.shift();for(r=1,i=o[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return a.e=n,a.d=o,a}function e0(e){return es(e=new this(e),e.e+1,this.rounding)}function e1(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function e2(e){return new this(e).sin()}function e5(e){return new this(e).sinh()}function e3(e){return new this(e).sqrt()}function e4(e,t){return new this(e).sub(t)}function e7(){var e=0,t=arguments,n=new this(t[0]);for(B=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return B=!0,es(n,this.precision,this.rounding)}function e9(e){return new this(e).tan()}function e8(e){return new this(e).tanh()}function e6(e){return es(e=new this(e),e.e+1,1)}Q[Symbol.for("nodejs.util.inspect.custom")]=Q.toString,Q[Symbol.toStringTag]="Decimal";var te=Q.constructor=function e(t){var n,r,i;function s(e){var t,n,r;if(!(this instanceof s))return new s(e);if(this.constructor=s,eU(e)){this.s=e.s,B?!e.d||e.e>s.maxE?(this.e=NaN,this.d=null):e.e<s.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(r=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;B?t>s.maxE?(this.e=NaN,this.d=null):t<s.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return eb(this,e.toString())}if("string"===r)return 45===(n=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===n&&(e=e.slice(1)),this.s=1),J.test(e)?eb(this,e):function(e,t){var n,r,i,s,a,o,l,c,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),J.test(t))return eb(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(K.test(t))n=16,t=t.toLowerCase();else if(W.test(t))n=2;else if($.test(t))n=8;else throw Error(H+t);for((s=t.search(/p/i))>0?(l=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),a=(s=t.indexOf("."))>=0,r=e.constructor,a&&(s=(o=(t=t.replace(".","")).length)-s,i=em(r,new r(n),s,2*s)),s=u=(c=er(t,n,1e7)).length-1;0===c[s];--s)c.pop();return s<0?new r(0*e.s):(e.e=eo(c,u),e.d=c,B=!1,a&&(e=ei(e,i,4*o)),l&&(e=e.times(54>Math.abs(l)?Z(2,l):te.pow(2,l))),B=!0,e)}(this,e);if("bigint"===r)return e<0?(e=-e,this.s=-1):this.s=1,eb(this,e.toString());throw Error(H+e)}if(s.prototype=Q,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=eq,s.clone=e,s.isDecimal=eU,s.abs=eE,s.acos=ek,s.acosh=eT,s.add=eD,s.asin=eA,s.asinh=eC,s.atan=eS,s.atanh=ej,s.atan2=eF,s.cbrt=eI,s.ceil=eR,s.clamp=eL,s.cos=eO,s.cosh=eM,s.div=eB,s.exp=ez,s.floor=eH,s.hypot=e_,s.ln=eV,s.log=eG,s.log10=eW,s.log2=eZ,s.max=eK,s.min=e$,s.mod=eJ,s.mul=eX,s.pow=eY,s.random=eQ,s.round=e0,s.sign=e1,s.sin=e2,s.sinh=e5,s.sqrt=e3,s.sub=e4,s.sum=e7,s.tan=e9,s.tanh=e8,s.trunc=e6,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return s.config(t),s}(M);q=new te(q),O=new te(O);var tt=te},84085:(e,t,n)=>{n.d(t,{q:()=>s});var r=n(33465),i=n(37977);let s=e=>{let t={representatives:null};return t.name=(0,r.fH)([{check:e=>r.PT.required(e),message:"Company name is required"},{check:e=>r.PT.minLength(e,2),message:"Company name must be at least 2 characters"},{check:e=>r.PT.maxLength(e,100),message:"Company name must be less than 100 characters"}])(e.name),t.taxId=(0,r.fH)([{check:e=>!e||r.PT.taxId(e),message:"Please enter a valid tax ID"}])(e.taxId),t.headquarters=(0,r.fH)([{check:e=>!e||r.PT.minLength(e,5),message:"Headquarters address must be at least 5 characters"},{check:e=>!e||r.PT.maxLength(e,200),message:"Headquarters address must be less than 200 characters"}])(e.headquarters),t.email=(0,r.fH)([{check:e=>!e||r.PT.email(e),message:"Please enter a valid email address"}])(e.email),t.phone=(0,r.fH)([{check:e=>!e||r.PT.phone(e),message:"Please enter a valid phone number"}])(e.phone),t.representatives=(0,i.FP)(e.representatives),t}},89820:(e,t,n)=>{n.d(t,{W:()=>i,q:()=>r});let r=()=>({name:"",description:"",employees:[]}),i=e=>({name:e.name.trim(),description:e.description.trim()||null,employeeIds:e.employees.map(e=>e.id)})},92890:(e,t,n)=>{n.d(t,{lY:()=>s,DF:()=>a.D,iw:()=>o.i,Mg:()=>l,yD:()=>c.y,ZN:()=>u.Z,XU:()=>d.X,bI:()=>f,XD:()=>h,qB:()=>p.q});var r=n(18984);let i=(0,r.Ak)("activity-logs"),s={...i,getByEntity:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.getAll({subPath:e,query:t})},getByTicket:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.getAll({subPath:"ticket/".concat(e),query:t})},getByAuthor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.getAll({subPath:"author/".concat(e),query:t})},getRecent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.getAll({subPath:"date-range/recent",query:e})},useGetByTicket:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.useGetAll({subPath:"ticket/".concat(e),query:t})}};var a=n(16003),o=n(9228);let l={...(0,r.Ak)("employee-roles")};var c=n(31094),u=n(61637),d=n(69417);let m=(0,r.Ak)("ticket-items"),h={...m,getByTicket:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.getAll({subPath:"ticket/".concat(e),query:t})},getByProduct:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.getAll({subPath:"product/".concat(e),query:t})},getByService:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.getAll({subPath:"service/".concat(e),query:t})},createBulk:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.create(e,{subPath:"bulk-create",query:t})},useGetByTicket:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return m.useGetAll({subPath:"ticket/".concat(e),query:t},n)}};var p=n(3350);let g=(0,r.Ak)("tasks"),f={...g,getCountByStatus:()=>g.getAll({subPath:"count/by-status"}),getByTicket:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g.getAll({subPath:"ticket/".concat(e),query:t})},updateStatus:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return g.update(e,t,{subPath:"status",query:n})},useGetByTicket:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g.useGetAll({subPath:"ticket/".concat(e),query:t})}}},93130:(e,t,n)=>{n.d(t,{t:()=>r});function r(e){return"representatives"in e}},94495:(e,t,n)=>{n(37977),n(84085)},94778:(e,t,n)=>{n.d(t,{v:()=>i});var r=n(33465);let i=e=>{let t={};return t.equipmentDescription=(0,r.fH)([{check:e=>r.PT.required(e),message:"Equipment description is required"},{check:e=>r.PT.minLength(e,5),message:"Equipment description must be at least 5 characters"},{check:e=>r.PT.maxLength(e,500),message:"Equipment description must be less than 500 characters"}])(e.equipmentDescription),t.imageUrl=(0,r.fH)([{check:e=>!e||r.PT.url(e),message:"Please enter a valid URL"}])(e.imageUrl),t.client=(0,r.fH)([{check:e=>e&&"number"==typeof e.id&&e.id>0,message:"Please select a client"}])(e.client),t.estimatedCost=(0,r.fH)([{check:e=>e>=0,message:"Estimated cost cannot be negative"}])(e.estimatedCost),t.estimatedDeliveryDate=(0,r.fH)([{check:e=>!e||r.PT.date(e),message:e=>'Please enter a valid date. Current value: "'.concat(e,'"')}])(e.estimatedDeliveryDate),t.estimatedExecutionTime=(0,r.fH)([{check:e=>e>=0,message:"Estimated execution time cannot be negative"}])(e.estimatedExecutionTime),t.observations=(0,r.fH)([{check:e=>!e||r.PT.maxLength(e,1e3),message:"Observations must be less than 1000 characters"}])(e.observations),t.priority=null,t.status=null,t.representative=null,t.employees=null,t}},95823:(e,t,n)=>{n.d(t,{m:()=>i,y:()=>r});let r=()=>({name:"",description:"",employees:[]}),i=e=>({name:e.name.trim(),description:e.description.trim()||null,employeeIds:e.employees.map(e=>e.id)})},96610:(e,t,n)=>{n.d(t,{f:()=>r});class r extends Error{constructor(e,t,n){super(t.message),this.status=e,this.response=t,this.url=n,this.name="FetchError"}}},97181:(e,t,n)=>{n.d(t,{B:()=>i});var r=n(33465);let i=e=>{let t={};return t.name=(0,r.fH)([{check:e=>r.PT.required(e),message:"Role name is required"},{check:e=>r.PT.minLength(e,2),message:"Role name must be at least 2 characters"},{check:e=>r.PT.maxLength(e,50),message:"Role name must be less than 50 characters"}])(e.name),t.description=(0,r.fH)([{check:e=>!e||r.PT.minLength(e,5),message:"Description must be at least 5 characters"},{check:e=>!e||r.PT.maxLength(e,500),message:"Description must be less than 500 characters"}])(e.description),t.employees=null,t}}}]);