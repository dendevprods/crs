(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[785],{32460:(e,s,t)=>{"use strict";t.d(s,{A:()=>I,w:()=>S});var a=t(73365),n=t(1521),i=t(50627),r=t(92028),l=t(65873),o=t(31691),c=t(59296),d=t(85744),m=t(90301),x=t(87539),p=t(8378),u=t(578),h=t(67134),j=t(68290),v=t(14573),g=t(44845),f=t(79772),b=t(1384),y=t(27842),N=t(2718),w=t(67226),A=t(77259),C=t(94169),k=t(92222),S=function(e){return e.Dashboard="navigation.sidebar.dashboard",e.Tickets="navigation.sidebar.tickets",e.Clients="navigation.sidebar.clients",e.Employees="navigation.sidebar.employees",e.Departments="navigation.sidebar.departments",e.Products="navigation.sidebar.products",e.Services="navigation.sidebar.services",e.Billing="navigation.sidebar.billing",e.Reports="navigation.sidebar.reports",e.Settings="navigation.sidebar.settings",e}({});let z=[{text:"navigation.sidebar.dashboard",icon:(0,a.jsx)(h.A,{}),path:"/dashboard"},{text:"navigation.sidebar.tickets",icon:(0,a.jsx)(j.A,{}),path:"/tickets"},{text:"navigation.sidebar.clients",icon:(0,a.jsx)(v.A,{}),path:"/clients"},{text:"navigation.sidebar.employees",icon:(0,a.jsx)(g.A,{}),path:"/employees"},{text:"navigation.sidebar.departments",icon:(0,a.jsx)(f.A,{}),path:"/departments"},{text:"navigation.sidebar.products",icon:(0,a.jsx)(b.A,{}),path:"/products"},{text:"navigation.sidebar.services",icon:(0,a.jsx)(y.A,{}),path:"/services"},{text:"navigation.sidebar.billing",icon:(0,a.jsx)(N.A,{}),path:"/billing"},{text:"navigation.sidebar.reports",icon:(0,a.jsx)(w.A,{}),path:"/reports"},{text:"navigation.sidebar.settings",icon:(0,a.jsx)(A.A,{}),path:"/settings"}];function I(e){let{activeSection:s}=e,[t,h]=n.useState(!1),j=(0,i.useRouter)(),{t:v}=(0,k.Bd)();return(0,a.jsxs)(r.Ay,{variant:"permanent",open:t,sx:{width:t?240:60,flexShrink:0,"& .MuiDrawer-paper":{width:t?240:60,boxSizing:"border-box",overflowX:"hidden",transition:"width 0.3s"}},children:[(0,a.jsx)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:t?"flex-end":"center",padding:"8px 12px"},children:(0,a.jsx)(o.A,{onClick:()=>h(!t),size:"small",children:(0,a.jsx)(C.A,{})})}),(0,a.jsx)(c.A,{}),(0,a.jsx)(d.A,{children:z.map(e=>{let{text:n,icon:i,path:r}=e,l=n===s;return(0,a.jsx)(m.A,{title:t?"":v(n),placement:"right",arrow:!0,children:(0,a.jsxs)(x.A,{onClick:()=>j.push(r),selected:l,sx:{justifyContent:t?"initial":"center",px:2.5,bgcolor:l?"primary.main":"inherit",color:l?"common.black":"text.primary","& .MuiListItemIcon-root":{color:l?"common.black":"text.secondary",minWidth:0,mr:t?3:"auto",justifyContent:"center"},"&:hover":{bgcolor:l?"primary.dark":"action.hover"}},children:[(0,a.jsx)(p.A,{children:i}),t&&(0,a.jsx)(u.A,{primary:v(n)})]})},n)})})]})}},36910:(e,s,t)=>{"use strict";t.d(s,{A:()=>h});var a=t(1521),n=t(74584),i=t(87468),r=t(85445),l=t(96028),o=t(97907),c=t(33246),d=t(16850);function m(e){return(0,d.Ay)("MuiCard",e)}(0,c.A)("MuiCard",["root"]);var x=t(73365);let p=e=>{let{classes:s}=e;return(0,i.A)({root:["root"]},m,s)},u=(0,r.Ay)(o.A,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),h=a.forwardRef(function(e,s){let t=(0,l.b)({props:e,name:"MuiCard"}),{className:a,raised:i=!1,...r}=t,o={...t,raised:i},c=p(o);return(0,x.jsx)(u,{className:(0,n.A)(c.root,a),elevation:i?8:void 0,ref:s,ownerState:o,...r})})},39593:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var a=t(73365);t(1521);var n=t(32460),i=t(44311);let r=e=>{let{title:s,titleIcon:t,actions:n=[],className:r=""}=e,l=!!s||!!t;return(0,a.jsxs)("div",{className:"p-4 flex items-center border-b border-gray-200 bg-white ".concat(l?"justify-between":"justify-start"," ").concat(r),children:[(0,a.jsxs)("h1",{className:"text-xl font-semibold text-graphite flex items-center gap-2",children:[t,s]}),(0,a.jsx)("div",{className:"flex gap-2",children:n.map(e=>(0,a.jsx)(i.r,{label:e.label,color:e.color,icon:e.icon,className:e.className,onClick:e.onClick},e.key))})]})};var l=t(31145),o=t(92222);function c(e){var s;let{activeSection:t,children:i,isLoading:c=!1,error:d,toolbar:m={},className:x=""}=e,{t:p}=(0,o.Bd)();return(0,a.jsxs)("div",{className:"flex min-h-screen",children:[(0,a.jsx)(n.A,{activeSection:t}),(0,a.jsxs)("div",{className:"flex-grow overflow-x-hidden ".concat(x),children:[m.actions&&(null===(s=m.actions)||void 0===s?void 0:s.length)>0&&(0,a.jsx)(r,{title:m.title,titleIcon:m.titleIcon,actions:m.actions,className:m.className}),(0,a.jsxs)("div",{className:"p-4",children:[c&&(0,a.jsx)(l.k,{message:p("common.status.loading")}),d&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center animate-fadeIn",children:[(0,a.jsx)("div",{className:"rounded-full bg-red-50 p-3 mb-4",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-800 mb-1",children:p("common.ui.error.title")}),(0,a.jsx)("p",{className:"text-sm text-gray-500 max-w-md mb-4",children:p("common.ui.error.description")}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"px-3 py-1.5 rounded-md border border-gray-200 text-sm text-gray-700 hover:bg-gray-50 transition",children:p("common.actions.retry")})]}),!c&&!d&&(0,a.jsx)("div",{className:"animate-fadeIn",children:i})]})]})]})}},55964:(e,s,t)=>{"use strict";t.d(s,{A:()=>u});var a=t(1521),n=t(74584),i=t(87468),r=t(85445),l=t(96028),o=t(33246),c=t(16850);function d(e){return(0,c.Ay)("MuiCardContent",e)}(0,o.A)("MuiCardContent",["root"]);var m=t(73365);let x=e=>{let{classes:s}=e;return(0,i.A)({root:["root"]},d,s)},p=(0,r.Ay)("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),u=a.forwardRef(function(e,s){let t=(0,l.b)({props:e,name:"MuiCardContent"}),{className:a,component:i="div",...r}=t,o={...t,component:i},c=x(o);return(0,m.jsx)(p,{as:i,className:(0,n.A)(c.root,a),ownerState:o,ref:s,...r})})},56739:(e,s,t)=>{Promise.resolve().then(t.bind(t,75399))},59255:(e,s,t)=>{"use strict";t.d(s,{u:()=>n});var a=t(1521);function n(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[s,t]=(0,a.useState)(e);return{isOpen:s,setIsOpen:t,open:()=>t(!0),close:()=>t(!1),toggle:()=>t(e=>!e)}}},64225:(e,s,t)=>{"use strict";t.d(s,{M:()=>n});var a=t(1521);function n(e,s){let[t,n]=(0,a.useState)(e);return{viewType:t,setViewType:n,toggleView:()=>{if(s&&s.length>1){let e=(s.indexOf(t)+1)%s.length;n(s[e])}},is:e=>t===e}}},68663:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(93439),n=t(73365);let i=(0,a.A)((0,n.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},75399:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>E});var a=t(73365),n=t(1521),i=t(92222),r=t(87363),l=t(70577),o=t(53032),c=t(16003),d=t(64225),m=t(59255),x=t(39593),p=t(32460),u=t(75135),h=t(82537),j=t(36910),v=t(55964);let g=e=>{let{person:s}=e,{t}=(0,i.Bd)();return s?(0,a.jsx)(j.A,{sx:{width:280},elevation:2,children:(0,a.jsxs)(v.A,{className:"space-y-4",sx:{paddingY:3},children:[(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("p",{className:"text-graphite/80 mb-1",children:[t("common.fields.name"),":"]}),(0,a.jsx)("div",{className:"p-2 text-sm font-medium bg-gray-50 border border-gray-300 rounded-md",children:s.fullName})]}),(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[s.phone&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("p",{className:"text-graphite/80 mb-1",children:[t("common.fields.phone"),":"]}),(0,a.jsx)("span",{className:"font-medium text-black",children:s.phone})]}),s.email&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("p",{className:"text-graphite/80 mb-1",children:[t("common.fields.email"),":"]}),(0,a.jsx)("span",{className:"font-medium text-black",children:s.email})]}),s.address&&(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("span",{className:"text-graphite/80",children:[t("common.fields.address"),":"]}),(0,a.jsx)("span",{className:"font-medium text-black text-right text-xs max-w-[160px]",children:s.address})]})]})]})}):null};var f=t(59296),b=t(61905),y=t(9278),N=t(61831),w=t(94708);let A=e=>{var s;let{company:t}=e,{t:r}=(0,i.Bd)(),[l,o]=(0,n.useState)(!1);return t?(0,a.jsx)(j.A,{sx:{width:280},elevation:2,children:(0,a.jsxs)(v.A,{className:"space-y-2",sx:{paddingY:3},children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg px-2 py-1",children:(0,a.jsx)(b.ktx,{size:20,className:"text-blue-500"})}),(0,a.jsxs)("div",{className:"flex items-center text-gray-800",children:[(0,a.jsx)(y.KZj,{size:20}),(0,a.jsx)("span",{className:"text-lg font-bold",children:t.id})]})]})}),(0,a.jsx)(f.A,{}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("p",{className:"text-graphite/80 mb-1",children:[r("common.fields.name"),":"]}),(0,a.jsx)("div",{className:"p-2 text-sm font-medium bg-gray-50 border border-gray-300 rounded-md",children:t.name})]}),(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[t.taxId&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-graphite/80",children:[r("entities.company.taxId"),":"]}),(0,a.jsx)("span",{className:"font-medium text-black",children:t.taxId})]}),t.phone&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-graphite/80",children:[r("common.fields.phone"),":"]}),(0,a.jsx)("span",{className:"font-medium text-black",children:t.phone})]}),t.email&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-graphite/80",children:[r("common.fields.email"),":"]}),(0,a.jsx)("span",{className:"font-medium text-black",children:t.email})]}),t.headquarters&&(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("span",{className:"text-graphite/80",children:[r("common.fields.headquarters"),":"]}),(0,a.jsx)("span",{className:"font-medium text-black text-right text-xs max-w-[160px]",children:t.headquarters})]})]}),"representatives"in t&&(null===(s=t.representatives)||void 0===s?void 0:s.length)>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>o(!l),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.v4f,{size:16,className:"text-purple-500"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-graphite/80",children:[r("common.entities.representatives")," (",t.representatives.length,")"]})]}),(0,a.jsx)(w.A,{className:"transition-transform duration-200 ".concat(l?"rotate-180":"rotate-0"),fontSize:"small"})]}),l&&(0,a.jsx)("div",{className:"space-y-2 mt-2",children:t.representatives.map(e=>{var s,t,n;return(0,a.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-md p-2",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium text-black mb-1",children:(null===(s=e.person)||void 0===s?void 0:s.fullName)||r("entities.company.missingName")}),(null===(t=e.person)||void 0===t?void 0:t.phone)&&(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsxs)("span",{className:"text-graphite/80",children:[r("common.fields.phone"),":"]}),(0,a.jsx)("span",{className:"text-black",children:e.person.phone})]}),(null===(n=e.person)||void 0===n?void 0:n.email)&&(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsxs)("span",{className:"text-graphite/80",children:[r("common.fields.email"),":"]}),(0,a.jsx)("span",{className:"text-black",children:e.person.email})]})]})},e.personId)})})]})]})}):null};var C=t(35935),k=t(17503),S=t(3408),z=t(92890),I=t(67616);let M=e=>{let{clients:s=[],withActions:t,refetch:r}=e,{t:l}=(0,i.Bd)(),[o,c]=(0,n.useState)(null),[d,m]=(0,n.useState)([]),x=z.DF.useDelete({},{onSuccess:()=>null==r?void 0:r()}),p=z.DF.useDeleteMany({},{onSuccess:()=>null==r?void 0:r()}),u=s.filter(e=>null!==e.person),h=e=>{m(Array.isArray(e)?e:[e])},j=[{label:l("common.fields.id"),align:"right",sortable:!0,sortFn:(e,s)=>e.person.id-s.person.id},{label:l("entities.person.fullName"),sortable:!0,sortFn:(e,s)=>{let t=e.person.fullName||"",a=s.person.fullName||"";return t.localeCompare(a)}},{label:l("common.fields.contact")},{label:l("common.fields.address"),sortable:!0,sortFn:(e,s)=>{let t=e.person.address||"",a=s.person.address||"";return t.localeCompare(a)}}],v=[{render:e=>(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsxs)("span",{className:"text-sm font-medium font-mono px-2 py-1 rounded bg-gray-50 text-gray-800",children:["#",e.id]})})},{render:e=>(0,a.jsx)("div",{className:"px-4 py-2",children:e.person.fullName?(0,a.jsx)("span",{className:"truncate text-sm font-medium cursor-pointer",children:e.person.fullName}):(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:l("common.fields.empty")})}),className:"bg-zinc-50"},{render:e=>(0,a.jsxs)("div",{className:"px-4 py-2 space-y-1 text-sm",children:[e.person.email?(0,a.jsxs)("div",{className:"flex items-center gap-1 text-indigo-600 hover:text-blue-800",children:[(0,a.jsx)(N.mm2,{size:16}),(0,a.jsx)("a",{href:"mailto:".concat(e.person.email),className:"truncate",onClick:e=>e.stopPropagation(),children:e.person.email})]}):(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-400",children:[(0,a.jsx)(N.mm2,{size:16})," ",l("common.fields.empty")]}),e.person.phone?(0,a.jsxs)("div",{className:"flex items-center gap-1 text-slate-800 hover:text-blue-800",children:[(0,a.jsx)(N.EZw,{size:16}),(0,a.jsx)("a",{href:"tel:".concat(e.person.phone),className:"truncate",onClick:e=>e.stopPropagation(),children:e.person.phone})]}):(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-400",children:[(0,a.jsx)(N.EZw,{size:16})," ",l("common.fields.empty")]})]})},{render:e=>(0,a.jsx)("div",{className:"px-4 py-2",children:e.person.address?(0,a.jsx)("span",{className:"truncate text-sm",children:e.person.address}):(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:l("common.fields.empty")})})}],g=t?[{icon:(0,a.jsx)(N.Yvo,{size:16}),onRowAction:e=>c(e)},{icon:(0,a.jsx)(N.b6i,{size:16}),onRowAction:e=>h(e),onBulkAction:e=>h(e)}]:void 0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.W,{data:u,headerColumns:j,dataColumns:v,actions:g,search:{enabled:!0,searchFields:["person.fullName","person.phone","person.email","person.address"]}}),o&&(0,a.jsx)(k.M,{open:!0,client:o,clientId:o.id,onClose:()=>c(null),onSuccess:r}),(0,a.jsx)(S.C,{open:d.length>0,items:d,itemName:l("common.entities.person"),getIdentifier:e=>{var s;return(null==e?void 0:null===(s=e.person)||void 0===s?void 0:s.id)?"#".concat(e.person.id):""},onConfirm:e=>{(0,I.Y)(e,x.mutate,p.mutate),m([])},onCancel:()=>m([])})]})};var D=t(99849);let F=e=>{let{items:s,label:t,onItemClick:i}=e,[r,l]=(0,n.useState)(!1),o=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&l(!1)};if(r)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r]);let c=e=>{null==i||i(e)};return(0,a.jsxs)("div",{ref:o,className:"relative w-full max-w-xs",children:[(0,a.jsx)(D.L,{isExpanded:r,onToggle:e=>{e.stopPropagation(),l(!r)},"aria-expanded":r,count:s.length}),r&&(0,a.jsx)("div",{className:"\n            absolute top-full left-0 right-0 mt-2 bg-white\n            ring-1 ring-gray-300 rounded-md shadow-lg z-10\n            animate-in fade-in slide-in-from-top-2 duration-200\n          ",children:(0,a.jsx)("ul",{className:"max-h-64 overflow-y-auto",children:s.map((e,t)=>(0,a.jsx)("li",{children:(0,a.jsx)("button",{onClick:()=>c(e),className:"\n                    w-full text-left px-4 py-2.5 text-sm\n                    hover:bg-gray-100 transition-colors duration-150\n                    text-gray-700\n                    ".concat(t!==s.length-1?"border-b border-gray-100":"","\n                  "),children:e.label})},e.id))})})]})},B=e=>{let{clients:s=[],withActions:t,refetch:r}=e,{t:l}=(0,i.Bd)(),[o,c]=(0,n.useState)(null),[d,m]=(0,n.useState)([]),x=z.DF.useDelete({},{onSuccess:()=>null==r?void 0:r()}),p=z.DF.useDeleteMany({},{onSuccess:()=>null==r?void 0:r()}),u=s.filter(e=>null!==e.company),h=e=>{m(Array.isArray(e)?e:[e])},j=[{label:l("common.fields.id"),align:"right",sortable:!0,sortFn:(e,s)=>e.company.id-s.company.id},{label:l("common.fields.name"),sortable:!0,sortFn:(e,s)=>(e.company.name||"").localeCompare(s.company.name||"")},{label:l("common.fields.contact")},{label:l("common.fields.headquarters"),sortable:!0,sortFn:(e,s)=>(e.company.headquarters||"").localeCompare(s.company.headquarters||"")},{label:l("entities.company.taxId"),sortable:!0,sortFn:(e,s)=>(e.company.taxId||"").localeCompare(s.company.taxId||"")},{label:l("entities.representative.plural")}],v=[{render:e=>(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsxs)("span",{className:"text-sm font-medium font-mono px-2 py-1 rounded bg-gray-50 text-gray-800",children:["#",e.company.id]})})},{render:e=>(0,a.jsx)("div",{className:"px-4 py-2",children:e.company.name?(0,a.jsx)("span",{className:"truncate text-sm font-medium cursor-pointer",children:e.company.name}):(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"—"})}),className:"bg-zinc-50"},{render:e=>(0,a.jsxs)("div",{className:"px-4 py-2 space-y-1 text-sm",children:[e.company.email?(0,a.jsxs)("div",{className:"flex items-center gap-1 text-indigo-600 hover:text-blue-800",children:[(0,a.jsx)(N.mm2,{size:16}),(0,a.jsx)("a",{href:"mailto:".concat(e.company.email),className:"truncate",children:e.company.email})]}):(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-400",children:[(0,a.jsx)(N.mm2,{size:16})," —"]}),e.company.phone?(0,a.jsxs)("div",{className:"flex items-center gap-1 text-slate-800 hover:text-blue-800",children:[(0,a.jsx)(N.EZw,{size:16}),(0,a.jsx)("a",{href:"tel:".concat(e.company.phone),className:"truncate",children:e.company.phone})]}):(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-400",children:[(0,a.jsx)(N.EZw,{size:16})," —"]})]})},{render:e=>(0,a.jsx)("div",{className:"px-4 py-2",children:e.company.headquarters?(0,a.jsx)("span",{className:"truncate text-sm",children:e.company.headquarters}):(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"—"})})},{render:e=>(0,a.jsx)("div",{className:"px-4 py-2",children:e.company.taxId?(0,a.jsx)("span",{className:"text-sm font-medium font-mono px-2 py-1 rounded bg-gray-50 text-gray-800",children:e.company.taxId}):(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"—"})})},{render:e=>{var s;return(0,a.jsx)("div",{className:"px-4 py-2",children:(null===(s=e.company.representatives)||void 0===s?void 0:s.length)?(0,a.jsx)(F,{items:e.company.representatives.map(e=>({id:e.personId.toString(),label:e.person.fullName}))}):(0,a.jsx)("span",{className:"text-gray-400",children:l("common.fields.empty")})})}}],g=t?[{icon:(0,a.jsx)(N.Yvo,{size:16}),onRowAction:e=>c(e)},{icon:(0,a.jsx)(N.b6i,{size:16}),onRowAction:e=>h(e),onBulkAction:e=>h(e)},{label:l("common.actions.view"),icon:(0,a.jsx)(N.U3x,{size:16}),onRowAction:e=>console.log("View company",e.company.id)}]:void 0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.W,{data:u,headerColumns:j,dataColumns:v,actions:g,search:{enabled:!0,searchFields:["company.fullName","company.phone","company.email","company.headquarters","company.taxId"]}}),o&&(0,a.jsx)(k.M,{open:!0,client:o,clientId:o.id,variant:"modal",onSuccess:r,onClose:()=>c(null)}),(0,a.jsx)(S.C,{open:d.length>0,items:d,itemName:l("common.entities.company"),getIdentifier:e=>{var s;return(null==e?void 0:null===(s=e.company)||void 0===s?void 0:s.id)?"#".concat(e.company.id):""},onConfirm:e=>{(0,I.Y)(e,x.mutate,p.mutate),m([])},onCancel:()=>m([])})]})};function E(){var e,s;let{t}=(0,i.Bd)(),{toggleView:n,is:j}=(0,d.M)("table",["table","cards"]),v=(0,m.u)(!1),{data:f,error:b,isLoading:y,refetch:N}=c.D.useGetByType("PERSON",{includeDetails:!0}),{data:w,error:C,isLoading:S,refetch:z}=c.D.useGetByType("COMPANY",{includeDetails:!0});return(0,a.jsxs)(x.A,{activeSection:p.w.Clients,isLoading:y||S,error:b||C,toolbar:{title:t("entities.client.plural"),actions:[{key:"add-client",label:t("common.actions.add"),color:"blue",icon:(0,a.jsx)(r.OiG,{}),onClick:v.open},{key:"toggle-view",label:t(j("table")?"common.ui.cards":"common.ui.table"),color:"white",icon:j("table")?(0,a.jsx)(r.QJV,{}):(0,a.jsx)(r.ist,{}),onClick:n}]},children:[(0,a.jsx)(u.t,{tabs:[{key:"persons",label:t("navigation.tabs.persons"),icon:(0,a.jsx)(l.yap,{}),count:null!==(e=null==f?void 0:f.length)&&void 0!==e?e:0,content:j("cards")?(0,a.jsx)(h.b,{items:f,renderItem:e=>(0,a.jsx)(g,{person:e.person},e.id)}):(0,a.jsx)(M,{clients:f,withActions:!0,refetch:N})},{key:"firms",label:t("navigation.tabs.companies"),icon:(0,a.jsx)(o.kUS,{}),count:null!==(s=null==w?void 0:w.length)&&void 0!==s?s:0,content:j("cards")?(0,a.jsx)(h.b,{items:w,renderItem:e=>(0,a.jsx)(A,{company:e.company},e.id)}):(0,a.jsx)(B,{clients:w,withActions:!0,refetch:z})}]}),(0,a.jsx)(k.M,{open:v.isOpen,variant:"modal",onClose:v.close,onSuccess:()=>{v.close(),N(),z()}})]})}},82537:(e,s,t)=>{"use strict";t.d(s,{b:()=>n});var a=t(73365);t(1521);let n=e=>{let{items:s,renderItem:t,emptyMessage:n,minHeight:i=200}=e;return(0,a.jsx)("div",{className:"p-4 items-center justify-center",style:{minHeight:i},children:s&&s.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-4",children:s.map(t)}):(0,a.jsx)("div",{className:"text-gray-500 text-sm text-center",children:n})})}},94708:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(93439),n=t(73365);let i=(0,a.A)((0,n.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown")}},e=>{var s=s=>e(e.s=s);e.O(0,[422,915,596,371,616,149,770,79,278,222,671,930,440,207,347,870,358],()=>s(56739)),_N_E=e.O()}]);