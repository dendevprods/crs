{"version":3,"sources":["../../../../shared/src/validators/company.validators.ts"],"sourcesContent":["import { PersonForm } from 'shared/forms/person.forms';\nimport { FormErrors } from '../errors/validation.error';\nimport { CompanyForm } from '../forms/company.forms';\nimport { createValidator, ValidationRules } from '../utils/validation.utils';\nimport { validateRepresentatives } from './person.validators';\n\nexport type CompanyFormErrors = FormErrors<Omit<CompanyForm, 'representatives'>> & {\n  representatives: Array<FormErrors<PersonForm>> | null;\n};\n\nexport const validateCompanyForm = (form: CompanyForm): CompanyFormErrors => {\n  const errors: CompanyFormErrors = {\n    representatives: null\n  };\n\n  errors.name = createValidator([\n    { check: (v) => ValidationRules.required(v), message: 'Company name is required' },\n    { check: (v) => ValidationRules.minLength(v, 2), message: 'Company name must be at least 2 characters' },\n    { check: (v) => ValidationRules.maxLength(v, 100), message: 'Company name must be less than 100 characters' }\n  ])(form.name);\n\n  errors.taxId = createValidator([\n    { check: (v) => !v || ValidationRules.taxId(v), message: 'Please enter a valid tax ID' }\n  ])(form.taxId);\n\n  errors.headquarters = createValidator([\n    { check: (v) => !v || ValidationRules.minLength(v, 5), message: 'Headquarters address must be at least 5 characters' },\n    { check: (v) => !v || ValidationRules.maxLength(v, 200), message: 'Headquarters address must be less than 200 characters' }\n  ])(form.headquarters);\n\n  errors.email = createValidator([\n    { check: (v) => !v || ValidationRules.email(v), message: 'Please enter a valid email address' }\n  ])(form.email);\n\n  errors.phone = createValidator([\n    { check: (v) => !v || ValidationRules.phone(v), message: 'Please enter a valid phone number' }\n  ])(form.phone);\n\n  errors.representatives = validateRepresentatives(form.representatives);\n\n  return errors;\n};"],"names":["validateCompanyForm","form","errors","representatives","name","createValidator","check","v","ValidationRules","required","message","minLength","maxLength","taxId","headquarters","email","phone","validateRepresentatives"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAUaA;;;eAAAA;;;iCAPoC;kCACT;AAMjC,MAAMA,sBAAsB,CAACC;IAClC,MAAMC,SAA4B;QAChCC,iBAAiB;IACnB;IAEAD,OAAOE,IAAI,GAAGC,IAAAA,gCAAe,EAAC;QAC5B;YAAEC,OAAO,CAACC,IAAMC,gCAAe,CAACC,QAAQ,CAACF;YAAIG,SAAS;QAA2B;QACjF;YAAEJ,OAAO,CAACC,IAAMC,gCAAe,CAACG,SAAS,CAACJ,GAAG;YAAIG,SAAS;QAA6C;QACvG;YAAEJ,OAAO,CAACC,IAAMC,gCAAe,CAACI,SAAS,CAACL,GAAG;YAAMG,SAAS;QAAgD;KAC7G,EAAET,KAAKG,IAAI;IAEZF,OAAOW,KAAK,GAAGR,IAAAA,gCAAe,EAAC;QAC7B;YAAEC,OAAO,CAACC,IAAM,CAACA,KAAKC,gCAAe,CAACK,KAAK,CAACN;YAAIG,SAAS;QAA8B;KACxF,EAAET,KAAKY,KAAK;IAEbX,OAAOY,YAAY,GAAGT,IAAAA,gCAAe,EAAC;QACpC;YAAEC,OAAO,CAACC,IAAM,CAACA,KAAKC,gCAAe,CAACG,SAAS,CAACJ,GAAG;YAAIG,SAAS;QAAqD;QACrH;YAAEJ,OAAO,CAACC,IAAM,CAACA,KAAKC,gCAAe,CAACI,SAAS,CAACL,GAAG;YAAMG,SAAS;QAAwD;KAC3H,EAAET,KAAKa,YAAY;IAEpBZ,OAAOa,KAAK,GAAGV,IAAAA,gCAAe,EAAC;QAC7B;YAAEC,OAAO,CAACC,IAAM,CAACA,KAAKC,gCAAe,CAACO,KAAK,CAACR;YAAIG,SAAS;QAAqC;KAC/F,EAAET,KAAKc,KAAK;IAEbb,OAAOc,KAAK,GAAGX,IAAAA,gCAAe,EAAC;QAC7B;YAAEC,OAAO,CAACC,IAAM,CAACA,KAAKC,gCAAe,CAACQ,KAAK,CAACT;YAAIG,SAAS;QAAoC;KAC9F,EAAET,KAAKe,KAAK;IAEbd,OAAOC,eAAe,GAAGc,IAAAA,yCAAuB,EAAChB,KAAKE,eAAe;IAErE,OAAOD;AACT"}