{"version":3,"sources":["../../../../shared/src/validators/person.validators.ts"],"sourcesContent":["import { FormErrors } from '../errors/validation.error';\nimport { PersonForm, RepresentativeForm } from '../forms/person.forms';\nimport { createValidator, ValidationRules } from '../utils/validation.utils';\n\nexport const validatePersonForm = (form: PersonForm): FormErrors<PersonForm> => {\n    const errors: FormErrors<PersonForm> = {};\n\n    errors.fullName = createValidator([\n        { check: (v) => ValidationRules.required(v), message: 'Full name is required' },\n        { check: (v) => ValidationRules.minLength(v, 2), message: 'Full name must be at least 2 characters' },\n        { check: (v) => ValidationRules.maxLength(v, 100), message: 'Full name must be less than 100 characters' }\n    ])(form.fullName);\n\n    errors.email = createValidator([\n        { check: (v) => !v || ValidationRules.email(v), message: 'Please enter a valid email address' }\n    ])(form.email);\n\n    errors.phone = createValidator([\n        { check: (v) => !v || ValidationRules.phone(v), message: 'Please enter a valid phone number' }\n    ])(form.phone);\n\n    errors.address = createValidator([\n        { check: (v) => !v || ValidationRules.minLength(v, 5), message: 'Address must be at least 5 characters' },\n        { check: (v) => !v || ValidationRules.maxLength(v, 200), message: 'Address must be less than 200 characters' }\n    ])(form.address);\n\n    if (!form.email && !form.phone) {\n        errors.email = errors.email || 'Either email or phone is required';\n        errors.phone = errors.phone || 'Either phone or email is required';\n    }\n\n    return errors;\n};\n\nexport const validateRepresentativeForm = (form: RepresentativeForm): FormErrors<RepresentativeForm> => {\n    const personErrors = validatePersonForm(form);\n    const errors: FormErrors<RepresentativeForm> = {\n        ...personErrors,\n        personId: null\n    };\n\n    return errors;\n};\n\nexport const validateRepresentatives = (\n    representatives: RepresentativeForm[]\n): Array<FormErrors<PersonForm>> | null => {\n    if (!representatives || representatives.length === 0) {\n        return null;\n    }\n\n    return representatives.map((rep) => validateRepresentativeForm(rep));\n};\n"],"names":["validatePersonForm","validateRepresentativeForm","validateRepresentatives","form","errors","fullName","createValidator","check","v","ValidationRules","required","message","minLength","maxLength","email","phone","address","personErrors","personId","representatives","length","map","rep"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAIaA,kBAAkB;eAAlBA;;IA8BAC,0BAA0B;eAA1BA;;IAUAC,uBAAuB;eAAvBA;;;;iCA1CoC;AAE1C,MAAMF,qBAAqB,CAACG;IAC/B,MAAMC,SAAiC,CAAC;IAExCA,OAAOC,QAAQ,GAAGC,IAAAA,gCAAe,EAAC;QAC9B;YAAEC,OAAO,CAACC,IAAMC,gCAAe,CAACC,QAAQ,CAACF;YAAIG,SAAS;QAAwB;QAC9E;YAAEJ,OAAO,CAACC,IAAMC,gCAAe,CAACG,SAAS,CAACJ,GAAG;YAAIG,SAAS;QAA0C;QACpG;YAAEJ,OAAO,CAACC,IAAMC,gCAAe,CAACI,SAAS,CAACL,GAAG;YAAMG,SAAS;QAA6C;KAC5G,EAAER,KAAKE,QAAQ;IAEhBD,OAAOU,KAAK,GAAGR,IAAAA,gCAAe,EAAC;QAC3B;YAAEC,OAAO,CAACC,IAAM,CAACA,KAAKC,gCAAe,CAACK,KAAK,CAACN;YAAIG,SAAS;QAAqC;KACjG,EAAER,KAAKW,KAAK;IAEbV,OAAOW,KAAK,GAAGT,IAAAA,gCAAe,EAAC;QAC3B;YAAEC,OAAO,CAACC,IAAM,CAACA,KAAKC,gCAAe,CAACM,KAAK,CAACP;YAAIG,SAAS;QAAoC;KAChG,EAAER,KAAKY,KAAK;IAEbX,OAAOY,OAAO,GAAGV,IAAAA,gCAAe,EAAC;QAC7B;YAAEC,OAAO,CAACC,IAAM,CAACA,KAAKC,gCAAe,CAACG,SAAS,CAACJ,GAAG;YAAIG,SAAS;QAAwC;QACxG;YAAEJ,OAAO,CAACC,IAAM,CAACA,KAAKC,gCAAe,CAACI,SAAS,CAACL,GAAG;YAAMG,SAAS;QAA2C;KAChH,EAAER,KAAKa,OAAO;IAEf,IAAI,CAACb,KAAKW,KAAK,IAAI,CAACX,KAAKY,KAAK,EAAE;QAC5BX,OAAOU,KAAK,GAAGV,OAAOU,KAAK,IAAI;QAC/BV,OAAOW,KAAK,GAAGX,OAAOW,KAAK,IAAI;IACnC;IAEA,OAAOX;AACX;AAEO,MAAMH,6BAA6B,CAACE;IACvC,MAAMc,eAAejB,mBAAmBG;IACxC,MAAMC,SAAyC,eACxCa;QACHC,UAAU;;IAGd,OAAOd;AACX;AAEO,MAAMF,0BAA0B,CACnCiB;IAEA,IAAI,CAACA,mBAAmBA,gBAAgBC,MAAM,KAAK,GAAG;QAClD,OAAO;IACX;IAEA,OAAOD,gBAAgBE,GAAG,CAAC,CAACC,MAAQrB,2BAA2BqB;AACnE"}