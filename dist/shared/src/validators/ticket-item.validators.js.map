{"version":3,"sources":["../../../../shared/src/validators/ticket-item.validators.ts"],"sourcesContent":["import { createValidator } from '../utils/validation.utils';\nimport { TicketItemForm, UpdateTicketItemForm, BulkTicketItemsForm } from '../forms/ticket-item.forms';\nimport { ItemType } from 'generated/prisma';\nimport { FormErrors } from '../errors/validation.error';\n\nexport const validateTicketItemForm = (form: TicketItemForm): FormErrors<TicketItemForm> => {\n  const errors: FormErrors<TicketItemForm> = {};\n\n  errors.ticketId = createValidator([\n    { check: (v) => v > 0, message: 'Ticket ID is required' }\n  ])(form.ticketId);\n\n  errors.quantity = createValidator([\n    { check: (v) => v > 0, message: 'Quantity must be greater than 0' },\n    { check: (v) => v <= 1000, message: 'Quantity must be less than 1000' }\n  ])(form.quantity);\n\n  if (form.type === ItemType.PRODUCT) {\n    errors.productId = createValidator([\n      { check: (v) => v > 0, message: 'Please select a product' }\n    ])(form.productId);\n    errors.serviceId = null;\n  } else {\n    errors.serviceId = createValidator([\n      { check: (v) => v > 0, message: 'Please select a service' }\n    ])(form.serviceId);\n    errors.productId = null;\n  }\n\n  errors.type = null;\n\n  return errors;\n};\n\nexport const validateUpdateTicketItemForm = (form: UpdateTicketItemForm): FormErrors<UpdateTicketItemForm> => {\n  const errors: FormErrors<UpdateTicketItemForm> = {};\n\n  errors.quantity = createValidator([\n    { check: (v) => v > 0, message: 'Quantity must be greater than 0' },\n    { check: (v) => v <= 1000, message: 'Quantity must be less than 1000' }\n  ])(form.quantity);\n\n  return errors;\n};\n\nexport const validateBulkTicketItemsForm = (form: BulkTicketItemsForm): FormErrors<BulkTicketItemsForm> => {\n  const errors: FormErrors<BulkTicketItemsForm> = {};\n\n  errors.ticketId = createValidator([\n    { check: (v) => v > 0, message: 'Ticket ID is required' }\n  ])(form.ticketId);\n\n  errors.items = createValidator([\n    { check: (v) => form.items.length > 0, message: 'At least one item must be added' }\n  ])(form.items);\n\n  return errors;\n};\n"],"names":["validateBulkTicketItemsForm","validateTicketItemForm","validateUpdateTicketItemForm","form","errors","ticketId","createValidator","check","v","message","quantity","type","ItemType","PRODUCT","productId","serviceId","items","length"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IA6CaA,2BAA2B;eAA3BA;;IAxCAC,sBAAsB;eAAtBA;;IA6BAC,4BAA4B;eAA5BA;;;iCAlCmB;wBAEP;AAGlB,MAAMD,yBAAyB,CAACE;IACrC,MAAMC,SAAqC,CAAC;IAE5CA,OAAOC,QAAQ,GAAGC,IAAAA,gCAAe,EAAC;QAChC;YAAEC,OAAO,CAACC,IAAMA,IAAI;YAAGC,SAAS;QAAwB;KACzD,EAAEN,KAAKE,QAAQ;IAEhBD,OAAOM,QAAQ,GAAGJ,IAAAA,gCAAe,EAAC;QAChC;YAAEC,OAAO,CAACC,IAAMA,IAAI;YAAGC,SAAS;QAAkC;QAClE;YAAEF,OAAO,CAACC,IAAMA,KAAK;YAAMC,SAAS;QAAkC;KACvE,EAAEN,KAAKO,QAAQ;IAEhB,IAAIP,KAAKQ,IAAI,KAAKC,gBAAQ,CAACC,OAAO,EAAE;QAClCT,OAAOU,SAAS,GAAGR,IAAAA,gCAAe,EAAC;YACjC;gBAAEC,OAAO,CAACC,IAAMA,IAAI;gBAAGC,SAAS;YAA0B;SAC3D,EAAEN,KAAKW,SAAS;QACjBV,OAAOW,SAAS,GAAG;IACrB,OAAO;QACLX,OAAOW,SAAS,GAAGT,IAAAA,gCAAe,EAAC;YACjC;gBAAEC,OAAO,CAACC,IAAMA,IAAI;gBAAGC,SAAS;YAA0B;SAC3D,EAAEN,KAAKY,SAAS;QACjBX,OAAOU,SAAS,GAAG;IACrB;IAEAV,OAAOO,IAAI,GAAG;IAEd,OAAOP;AACT;AAEO,MAAMF,+BAA+B,CAACC;IAC3C,MAAMC,SAA2C,CAAC;IAElDA,OAAOM,QAAQ,GAAGJ,IAAAA,gCAAe,EAAC;QAChC;YAAEC,OAAO,CAACC,IAAMA,IAAI;YAAGC,SAAS;QAAkC;QAClE;YAAEF,OAAO,CAACC,IAAMA,KAAK;YAAMC,SAAS;QAAkC;KACvE,EAAEN,KAAKO,QAAQ;IAEhB,OAAON;AACT;AAEO,MAAMJ,8BAA8B,CAACG;IAC1C,MAAMC,SAA0C,CAAC;IAEjDA,OAAOC,QAAQ,GAAGC,IAAAA,gCAAe,EAAC;QAChC;YAAEC,OAAO,CAACC,IAAMA,IAAI;YAAGC,SAAS;QAAwB;KACzD,EAAEN,KAAKE,QAAQ;IAEhBD,OAAOY,KAAK,GAAGV,IAAAA,gCAAe,EAAC;QAC7B;YAAEC,OAAO,CAACC,IAAML,KAAKa,KAAK,CAACC,MAAM,GAAG;YAAGR,SAAS;QAAkC;KACnF,EAAEN,KAAKa,KAAK;IAEb,OAAOZ;AACT"}